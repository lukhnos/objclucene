//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./suggest/src/java/org/apache/lucene/search/suggest/document/TopSuggestDocs.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/CharSequence.h"
#include "java/util/Comparator.h"
#include "org/apache/lucene/search/ScoreDoc.h"
#include "org/apache/lucene/search/TopDocs.h"
#include "org/apache/lucene/search/suggest/Lookup.h"
#include "org/apache/lucene/search/suggest/document/SuggestScoreDocPriorityQueue.h"
#include "org/apache/lucene/search/suggest/document/TopSuggestDocs.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/search/suggest/document/TopSuggestDocs must not be compiled with ARC (-fobjc-arc)"
#endif

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs)

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_EMPTY;

@implementation OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs

+ (OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *)EMPTY {
  return OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_EMPTY;
}

- (instancetype)initWithInt:(jint)totalHits
withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray:(IOSObjectArray *)scoreDocs
                  withFloat:(jfloat)maxScore {
  OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(self, totalHits, scoreDocs, maxScore);
  return self;
}

- (IOSObjectArray *)scoreLookupDocs {
  return (IOSObjectArray *) cast_check(scoreDocs_, IOSClass_arrayType(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_class_(), 1));
}

+ (OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *)mergeWithInt:(jint)topN
         withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocsArray:(IOSObjectArray *)shardHits {
  return OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_mergeWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocsArray_(topN, shardHits);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "[LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs;", 0x9, 1, 2, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray:withFloat:);
  methods[1].selector = @selector(scoreLookupDocs);
  methods[2].selector = @selector(mergeWithInt:withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocsArray:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "EMPTY", "LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs;", .constantValue.asLong = 0, 0x19, -1, 3, -1, -1 },
  };
  static const void *ptrTable[] = { "I[LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc;F", "merge", "I[LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs;", &OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_EMPTY, "LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs = { "TopSuggestDocs", "org.apache.lucene.search.suggest.document", ptrTable, methods, fields, 7, 0x1, 3, 1, -1, 4, -1, -1, -1 };
  return &_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs;
}

+ (void)initialize {
  if (self == [OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_EMPTY, new_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(0, [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_class_()], 0));
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs)
  }
}

@end

void OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *self, jint totalHits, IOSObjectArray *scoreDocs, jfloat maxScore) {
  OrgApacheLuceneSearchTopDocs_initWithInt_withOrgApacheLuceneSearchScoreDocArray_withFloat_(self, totalHits, scoreDocs, maxScore);
}

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *new_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(jint totalHits, IOSObjectArray *scoreDocs, jfloat maxScore) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs, initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_, totalHits, scoreDocs, maxScore)
}

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *create_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(jint totalHits, IOSObjectArray *scoreDocs, jfloat maxScore) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs, initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_, totalHits, scoreDocs, maxScore)
}

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_mergeWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocsArray_(jint topN, IOSObjectArray *shardHits) {
  OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initialize();
  OrgApacheLuceneSearchSuggestDocumentSuggestScoreDocPriorityQueue *priorityQueue = create_OrgApacheLuceneSearchSuggestDocumentSuggestScoreDocPriorityQueue_initPackagePrivateWithInt_(topN);
  {
    IOSObjectArray *a__ = shardHits;
    OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *shardHit = *b__++;
      {
        IOSObjectArray *a__ = [((OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs *) nil_chk(shardHit)) scoreLookupDocs];
        OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
        OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc * const *e__ = b__ + a__->size_;
        while (b__ < e__) {
          OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *scoreDoc = *b__++;
          if (JreObjectEqualsEquals(scoreDoc, [priorityQueue insertWithOverflowWithId:scoreDoc])) {
            break;
          }
        }
      }
    }
  }
  IOSObjectArray *topNResults = [priorityQueue getResults];
  if (((IOSObjectArray *) nil_chk(topNResults))->size_ > 0) {
    return create_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_initWithInt_withOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDocArray_withFloat_(topNResults->size_, topNResults, ((OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *) nil_chk(IOSObjectArray_Get(topNResults, 0)))->score_);
  }
  else {
    return OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_EMPTY;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs)

@implementation OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc

- (instancetype)initWithInt:(jint)doc
   withJavaLangCharSequence:(id<JavaLangCharSequence>)key
   withJavaLangCharSequence:(id<JavaLangCharSequence>)context
                  withFloat:(jfloat)score {
  OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_(self, doc, key, context, score);
  return self;
}

- (jint)compareToWithId:(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *)o {
  cast_chk(o, [OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc class]);
  return [((id<JavaUtilComparator>) nil_chk(JreLoadStatic(OrgApacheLuceneSearchSuggestLookup, CHARSEQUENCE_COMPARATOR))) compareWithId:key_ withId:((OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *) nil_chk(o))->key_];
}

- (void)dealloc {
  RELEASE_(key_);
  RELEASE_(context_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 1, 2, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withJavaLangCharSequence:withJavaLangCharSequence:withFloat:);
  methods[1].selector = @selector(compareToWithId:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "key_", "LJavaLangCharSequence;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
    { "context_", "LJavaLangCharSequence;", .constantValue.asLong = 0, 0x11, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "ILJavaLangCharSequence;LJavaLangCharSequence;F", "compareTo", "LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc;", "LOrgApacheLuceneSearchSuggestDocumentTopSuggestDocs;", "Lorg/apache/lucene/search/ScoreDoc;Ljava/lang/Comparable<Lorg/apache/lucene/search/suggest/document/TopSuggestDocs$SuggestScoreDoc;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc = { "SuggestScoreDoc", "org.apache.lucene.search.suggest.document", ptrTable, methods, fields, 7, 0x9, 2, 2, 3, -1, -1, 4, -1 };
  return &_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc;
}

@end

void OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *self, jint doc, id<JavaLangCharSequence> key, id<JavaLangCharSequence> context, jfloat score) {
  OrgApacheLuceneSearchScoreDoc_initWithInt_withFloat_(self, doc, score);
  JreStrongAssign(&self->key_, key);
  JreStrongAssign(&self->context_, context);
}

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *new_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_(jint doc, id<JavaLangCharSequence> key, id<JavaLangCharSequence> context, jfloat score) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc, initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_, doc, key, context, score)
}

OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc *create_OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc_initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_(jint doc, id<JavaLangCharSequence> key, id<JavaLangCharSequence> context, jfloat score) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc, initWithInt_withJavaLangCharSequence_withJavaLangCharSequence_withFloat_, doc, key, context, score)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSuggestDocumentTopSuggestDocs_SuggestScoreDoc)
