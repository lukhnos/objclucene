//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/search/spans/SpanContainQuery.java
//

#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "org/apache/lucene/index/IndexReader.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/search/IndexSearcher.h"
#include "org/apache/lucene/search/Query.h"
#include "org/apache/lucene/search/spans/SpanContainQuery.h"
#include "org/apache/lucene/search/spans/SpanQuery.h"
#include "org/apache/lucene/search/spans/SpanWeight.h"
#include "org/apache/lucene/search/spans/Spans.h"
#include "org/lukhnos/portmobile/util/Objects.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/search/spans/SpanContainQuery must not be compiled with ARC (-fobjc-arc)"
#endif

@implementation OrgApacheLuceneSearchSpansSpanContainQuery

- (instancetype)initPackagePrivateWithOrgApacheLuceneSearchSpansSpanQuery:(OrgApacheLuceneSearchSpansSpanQuery *)big
                                  withOrgApacheLuceneSearchSpansSpanQuery:(OrgApacheLuceneSearchSpansSpanQuery *)little
                                                                withFloat:(jfloat)boost {
  OrgApacheLuceneSearchSpansSpanContainQuery_initPackagePrivateWithOrgApacheLuceneSearchSpansSpanQuery_withOrgApacheLuceneSearchSpansSpanQuery_withFloat_(self, big, little, boost);
  return self;
}

- (NSString *)getField {
  return [((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big_)) getField];
}

- (NSString *)toStringWithNSString:(NSString *)field
                      withNSString:(NSString *)name {
  JavaLangStringBuilder *buffer = create_JavaLangStringBuilder_init();
  [buffer appendWithNSString:name];
  [buffer appendWithNSString:@"("];
  [buffer appendWithNSString:[((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big_)) toStringWithNSString:field]];
  [buffer appendWithNSString:@", "];
  [buffer appendWithNSString:[((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(little_)) toStringWithNSString:field]];
  [buffer appendWithNSString:@")"];
  return [buffer description];
}

- (OrgApacheLuceneSearchSpansSpanContainQuery *)java_clone {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (OrgApacheLuceneSearchQuery *)rewriteWithOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)reader {
  OrgApacheLuceneSearchSpansSpanContainQuery *clone = nil;
  OrgApacheLuceneSearchSpansSpanQuery *rewrittenBig = (OrgApacheLuceneSearchSpansSpanQuery *) cast_chk([((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big_)) rewriteWithOrgApacheLuceneIndexIndexReader:reader], [OrgApacheLuceneSearchSpansSpanQuery class]);
  if (!JreObjectEqualsEquals(rewrittenBig, big_)) {
    clone = [self java_clone];
    JreStrongAssign(&((OrgApacheLuceneSearchSpansSpanContainQuery *) nil_chk(clone))->big_, rewrittenBig);
  }
  OrgApacheLuceneSearchSpansSpanQuery *rewrittenLittle = (OrgApacheLuceneSearchSpansSpanQuery *) cast_chk([((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(little_)) rewriteWithOrgApacheLuceneIndexIndexReader:reader], [OrgApacheLuceneSearchSpansSpanQuery class]);
  if (!JreObjectEqualsEquals(rewrittenLittle, little_)) {
    if (clone == nil) clone = [self java_clone];
    JreStrongAssign(&((OrgApacheLuceneSearchSpansSpanContainQuery *) nil_chk(clone))->little_, rewrittenLittle);
  }
  return (clone != nil) ? clone : self;
}

- (jboolean)isEqual:(id)o {
  if (![super isEqual:o]) {
    return false;
  }
  OrgApacheLuceneSearchSpansSpanContainQuery *other = (OrgApacheLuceneSearchSpansSpanContainQuery *) cast_chk(o, [OrgApacheLuceneSearchSpansSpanContainQuery class]);
  return [((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big_)) isEqual:((OrgApacheLuceneSearchSpansSpanContainQuery *) nil_chk(other))->big_] && [((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(little_)) isEqual:other->little_];
}

- (NSUInteger)hash {
  jint h = JavaLangInteger_rotateLeftWithInt_withInt_(((jint) [super hash]), 1);
  h ^= ((jint) [((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big_)) hash]);
  h = JavaLangInteger_rotateLeftWithInt_withInt_(h, 1);
  h ^= ((jint) [((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(little_)) hash]);
  return h;
}

- (void)dealloc {
  RELEASE_(big_);
  RELEASE_(little_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x0, 1, 2, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchSpansSpanContainQuery;", 0x401, 3, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchQuery;", 0x1, 4, 5, 6, -1, -1, -1 },
    { NULL, "Z", 0x1, 7, 8, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 9, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initPackagePrivateWithOrgApacheLuceneSearchSpansSpanQuery:withOrgApacheLuceneSearchSpansSpanQuery:withFloat:);
  methods[1].selector = @selector(getField);
  methods[2].selector = @selector(toStringWithNSString:withNSString:);
  methods[3].selector = @selector(java_clone);
  methods[4].selector = @selector(rewriteWithOrgApacheLuceneIndexIndexReader:);
  methods[5].selector = @selector(isEqual:);
  methods[6].selector = @selector(hash);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "big_", "LOrgApacheLuceneSearchSpansSpanQuery;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "little_", "LOrgApacheLuceneSearchSpansSpanQuery;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchSpansSpanQuery;LOrgApacheLuceneSearchSpansSpanQuery;F", "toString", "LNSString;LNSString;", "clone", "rewrite", "LOrgApacheLuceneIndexIndexReader;", "LJavaIoIOException;", "equals", "LNSObject;", "hashCode", "LOrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSpansSpanContainQuery = { "SpanContainQuery", "org.apache.lucene.search.spans", ptrTable, methods, fields, 7, 0x400, 7, 2, -1, 10, -1, -1, -1 };
  return &_OrgApacheLuceneSearchSpansSpanContainQuery;
}

@end

void OrgApacheLuceneSearchSpansSpanContainQuery_initPackagePrivateWithOrgApacheLuceneSearchSpansSpanQuery_withOrgApacheLuceneSearchSpansSpanQuery_withFloat_(OrgApacheLuceneSearchSpansSpanContainQuery *self, OrgApacheLuceneSearchSpansSpanQuery *big, OrgApacheLuceneSearchSpansSpanQuery *little, jfloat boost) {
  OrgApacheLuceneSearchSpansSpanQuery_init(self);
  JreStrongAssign(&self->big_, OrgLukhnosPortmobileUtilObjects_requireNonNullWithId_(big));
  JreStrongAssign(&self->little_, OrgLukhnosPortmobileUtilObjects_requireNonNullWithId_(little));
  OrgLukhnosPortmobileUtilObjects_requireNonNullWithId_([((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(big)) getField]);
  OrgLukhnosPortmobileUtilObjects_requireNonNullWithId_([((OrgApacheLuceneSearchSpansSpanQuery *) nil_chk(little)) getField]);
  if (![((NSString *) nil_chk([big getField])) isEqual:[little getField]]) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"big and little not same field");
  }
  [self setBoostWithFloat:boost];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSpansSpanContainQuery)

@implementation OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight

- (instancetype)initWithOrgApacheLuceneSearchSpansSpanContainQuery:(OrgApacheLuceneSearchSpansSpanContainQuery *)outer$
                            withOrgApacheLuceneSearchIndexSearcher:(OrgApacheLuceneSearchIndexSearcher *)searcher
                                                   withJavaUtilMap:(id<JavaUtilMap>)terms
                          withOrgApacheLuceneSearchSpansSpanWeight:(OrgApacheLuceneSearchSpansSpanWeight *)bigWeight
                          withOrgApacheLuceneSearchSpansSpanWeight:(OrgApacheLuceneSearchSpansSpanWeight *)littleWeight {
  OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight_initWithOrgApacheLuceneSearchSpansSpanContainQuery_withOrgApacheLuceneSearchIndexSearcher_withJavaUtilMap_withOrgApacheLuceneSearchSpansSpanWeight_withOrgApacheLuceneSearchSpansSpanWeight_(self, outer$, searcher, terms, bigWeight, littleWeight);
  return self;
}

- (void)extractTermsWithJavaUtilSet:(id<JavaUtilSet>)terms {
  [((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(bigWeight_)) extractTermsWithJavaUtilSet:terms];
  [((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(littleWeight_)) extractTermsWithJavaUtilSet:terms];
}

- (JavaUtilArrayList *)prepareConjunctionWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                                 withOrgApacheLuceneSearchSpansSpanWeight_Postings:(OrgApacheLuceneSearchSpansSpanWeight_Postings *)postings {
  OrgApacheLuceneSearchSpansSpans *bigSpans = JreRetainedLocalValue([((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(bigWeight_)) getSpansWithOrgApacheLuceneIndexLeafReaderContext:context withOrgApacheLuceneSearchSpansSpanWeight_Postings:postings]);
  if (bigSpans == nil) {
    return nil;
  }
  OrgApacheLuceneSearchSpansSpans *littleSpans = JreRetainedLocalValue([((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(littleWeight_)) getSpansWithOrgApacheLuceneIndexLeafReaderContext:context withOrgApacheLuceneSearchSpansSpanWeight_Postings:postings]);
  if (littleSpans == nil) {
    return nil;
  }
  JavaUtilArrayList *bigAndLittle = create_JavaUtilArrayList_init();
  [bigAndLittle addWithId:bigSpans];
  [bigAndLittle addWithId:littleSpans];
  return bigAndLittle;
}

- (void)extractTermContextsWithJavaUtilMap:(id<JavaUtilMap>)contexts {
  [((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(bigWeight_)) extractTermContextsWithJavaUtilMap:contexts];
  [((OrgApacheLuceneSearchSpansSpanWeight *) nil_chk(littleWeight_)) extractTermContextsWithJavaUtilMap:contexts];
}

- (void)dealloc {
  RELEASE_(bigWeight_);
  RELEASE_(littleWeight_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, 1, 2, -1, -1 },
    { NULL, "V", 0x1, 3, 4, -1, 5, -1, -1 },
    { NULL, "LJavaUtilArrayList;", 0x0, 6, 7, 1, 8, -1, -1 },
    { NULL, "V", 0x1, 9, 10, -1, 11, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchSpansSpanContainQuery:withOrgApacheLuceneSearchIndexSearcher:withJavaUtilMap:withOrgApacheLuceneSearchSpansSpanWeight:withOrgApacheLuceneSearchSpansSpanWeight:);
  methods[1].selector = @selector(extractTermsWithJavaUtilSet:);
  methods[2].selector = @selector(prepareConjunctionWithOrgApacheLuceneIndexLeafReaderContext:withOrgApacheLuceneSearchSpansSpanWeight_Postings:);
  methods[3].selector = @selector(extractTermContextsWithJavaUtilMap:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "bigWeight_", "LOrgApacheLuceneSearchSpansSpanWeight;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "littleWeight_", "LOrgApacheLuceneSearchSpansSpanWeight;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchSpansSpanContainQuery;LOrgApacheLuceneSearchIndexSearcher;LJavaUtilMap;LOrgApacheLuceneSearchSpansSpanWeight;LOrgApacheLuceneSearchSpansSpanWeight;", "LJavaIoIOException;", "(Lorg/apache/lucene/search/IndexSearcher;Ljava/util/Map<Lorg/apache/lucene/index/Term;Lorg/apache/lucene/index/TermContext;>;Lorg/apache/lucene/search/spans/SpanWeight;Lorg/apache/lucene/search/spans/SpanWeight;)V", "extractTerms", "LJavaUtilSet;", "(Ljava/util/Set<Lorg/apache/lucene/index/Term;>;)V", "prepareConjunction", "LOrgApacheLuceneIndexLeafReaderContext;LOrgApacheLuceneSearchSpansSpanWeight_Postings;", "(Lorg/apache/lucene/index/LeafReaderContext;Lorg/apache/lucene/search/spans/SpanWeight$Postings;)Ljava/util/ArrayList<Lorg/apache/lucene/search/spans/Spans;>;", "extractTermContexts", "LJavaUtilMap;", "(Ljava/util/Map<Lorg/apache/lucene/index/Term;Lorg/apache/lucene/index/TermContext;>;)V", "LOrgApacheLuceneSearchSpansSpanContainQuery;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight = { "SpanContainWeight", "org.apache.lucene.search.spans", ptrTable, methods, fields, 7, 0x401, 4, 2, 12, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight;
}

@end

void OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight_initWithOrgApacheLuceneSearchSpansSpanContainQuery_withOrgApacheLuceneSearchIndexSearcher_withJavaUtilMap_withOrgApacheLuceneSearchSpansSpanWeight_withOrgApacheLuceneSearchSpansSpanWeight_(OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight *self, OrgApacheLuceneSearchSpansSpanContainQuery *outer$, OrgApacheLuceneSearchIndexSearcher *searcher, id<JavaUtilMap> terms, OrgApacheLuceneSearchSpansSpanWeight *bigWeight, OrgApacheLuceneSearchSpansSpanWeight *littleWeight) {
  OrgApacheLuceneSearchSpansSpanWeight_initWithOrgApacheLuceneSearchSpansSpanQuery_withOrgApacheLuceneSearchIndexSearcher_withJavaUtilMap_(self, outer$, searcher, terms);
  JreStrongAssign(&self->bigWeight_, bigWeight);
  JreStrongAssign(&self->littleWeight_, littleWeight);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchSpansSpanContainQuery_SpanContainWeight)
