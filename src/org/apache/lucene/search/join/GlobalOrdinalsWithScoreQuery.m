//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./join/src/java/org/apache/lucene/search/join/GlobalOrdinalsWithScoreQuery.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/util/Set.h"
#include "org/apache/lucene/index/DocValues.h"
#include "org/apache/lucene/index/IndexReader.h"
#include "org/apache/lucene/index/LeafReader.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/index/MultiDocValues.h"
#include "org/apache/lucene/index/SortedDocValues.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/Explanation.h"
#include "org/apache/lucene/search/IndexSearcher.h"
#include "org/apache/lucene/search/Query.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/TwoPhaseIterator.h"
#include "org/apache/lucene/search/Weight.h"
#include "org/apache/lucene/search/join/BaseGlobalOrdinalScorer.h"
#include "org/apache/lucene/search/join/GlobalOrdinalsWithScoreCollector.h"
#include "org/apache/lucene/search/join/GlobalOrdinalsWithScoreQuery.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/LongValues.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/search/join/GlobalOrdinalsWithScoreQuery must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery () {
 @public
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector_;
  NSString *joinField_;
  OrgApacheLuceneIndexMultiDocValues_OrdinalMap *globalOrds_;
  OrgApacheLuceneSearchQuery *toQuery_;
  OrgApacheLuceneSearchQuery *fromQuery_;
  jint min_;
  jint max_;
  OrgApacheLuceneIndexIndexReader *indexReader_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, collector_, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, joinField_, NSString *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, globalOrds_, OrgApacheLuceneIndexMultiDocValues_OrdinalMap *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, toQuery_, OrgApacheLuceneSearchQuery *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, fromQuery_, OrgApacheLuceneSearchQuery *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, indexReader_, OrgApacheLuceneIndexIndexReader *)

@interface OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W () {
 @public
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *this$0_;
  OrgApacheLuceneSearchWeight *approximationWeight_;
  jfloat queryNorm_;
  jfloat queryWeight_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W, approximationWeight_, OrgApacheLuceneSearchWeight *)

@interface OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 : OrgApacheLuceneSearchTwoPhaseIterator {
 @public
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *this$0_;
}

- (instancetype)initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *)outer$
                                                     withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation;

- (jboolean)matches;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1)

__attribute__((unused)) static void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation);

__attribute__((unused)) static OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation);

@interface OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 : OrgApacheLuceneSearchTwoPhaseIterator {
 @public
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *this$0_;
}

- (instancetype)initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *)outer$
                                                         withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation;

- (jboolean)matches;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1)

__attribute__((unused)) static void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation);

__attribute__((unused)) static OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation);

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery

- (instancetype)initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *)collector
                                                                                   withNSString:(NSString *)joinField
                                              withOrgApacheLuceneIndexMultiDocValues_OrdinalMap:(OrgApacheLuceneIndexMultiDocValues_OrdinalMap *)globalOrds
                                                                 withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)toQuery
                                                                 withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)fromQuery
                                                                                        withInt:(jint)min
                                                                                        withInt:(jint)max
                                                            withOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)indexReader {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_(self, collector, joinField, globalOrds, toQuery, fromQuery, min, max, indexReader);
  return self;
}

- (OrgApacheLuceneSearchWeight *)createWeightWithOrgApacheLuceneSearchIndexSearcher:(OrgApacheLuceneSearchIndexSearcher *)searcher
                                                                        withBoolean:(jboolean)needsScores {
  return create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_(self, self, [((OrgApacheLuceneSearchQuery *) nil_chk(toQuery_)) createWeightWithOrgApacheLuceneSearchIndexSearcher:searcher withBoolean:false]);
}

- (jboolean)isEqual:(id)o {
  if (JreObjectEqualsEquals(self, o)) return true;
  if (o == nil || !JreObjectEqualsEquals([self java_getClass], [o java_getClass])) return false;
  if (![super isEqual:o]) return false;
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *that = (OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *) cast_chk(o, [OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery class]);
  if (min_ != that->min_) return false;
  if (max_ != that->max_) return false;
  if (![((NSString *) nil_chk(joinField_)) isEqual:that->joinField_]) return false;
  if (![((OrgApacheLuceneSearchQuery *) nil_chk(fromQuery_)) isEqual:that->fromQuery_]) return false;
  if (![((OrgApacheLuceneSearchQuery *) nil_chk(toQuery_)) isEqual:that->toQuery_]) return false;
  if (![((OrgApacheLuceneIndexIndexReader *) nil_chk(indexReader_)) isEqual:that->indexReader_]) return false;
  return true;
}

- (NSUInteger)hash {
  jint result = ((jint) [super hash]);
  result = 31 * result + ((jint) [((NSString *) nil_chk(joinField_)) hash]);
  result = 31 * result + ((jint) [((OrgApacheLuceneSearchQuery *) nil_chk(toQuery_)) hash]);
  result = 31 * result + ((jint) [((OrgApacheLuceneSearchQuery *) nil_chk(fromQuery_)) hash]);
  result = 31 * result + min_;
  result = 31 * result + max_;
  result = 31 * result + ((jint) [((OrgApacheLuceneIndexIndexReader *) nil_chk(indexReader_)) hash]);
  return result;
}

- (NSString *)toStringWithNSString:(NSString *)field {
  return JreStrcat("$$$I$I$@C", @"GlobalOrdinalsQuery{joinField=", joinField_, @"min=", min_, @"max=", max_, @"fromQuery=", fromQuery_, '}');
}

- (void)dealloc {
  RELEASE_(collector_);
  RELEASE_(joinField_);
  RELEASE_(globalOrds_);
  RELEASE_(toQuery_);
  RELEASE_(fromQuery_);
  RELEASE_(indexReader_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchWeight;", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "Z", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 6, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 7, 8, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:withNSString:withOrgApacheLuceneIndexMultiDocValues_OrdinalMap:withOrgApacheLuceneSearchQuery:withOrgApacheLuceneSearchQuery:withInt:withInt:withOrgApacheLuceneIndexIndexReader:);
  methods[1].selector = @selector(createWeightWithOrgApacheLuceneSearchIndexSearcher:withBoolean:);
  methods[2].selector = @selector(isEqual:);
  methods[3].selector = @selector(hash);
  methods[4].selector = @selector(toStringWithNSString:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "collector_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "joinField_", "LNSString;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "globalOrds_", "LOrgApacheLuceneIndexMultiDocValues_OrdinalMap;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "toQuery_", "LOrgApacheLuceneSearchQuery;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "fromQuery_", "LOrgApacheLuceneSearchQuery;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "min_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "max_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "indexReader_", "LOrgApacheLuceneIndexIndexReader;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;LNSString;LOrgApacheLuceneIndexMultiDocValues_OrdinalMap;LOrgApacheLuceneSearchQuery;LOrgApacheLuceneSearchQuery;IILOrgApacheLuceneIndexIndexReader;", "createWeight", "LOrgApacheLuceneSearchIndexSearcher;Z", "LJavaIoIOException;", "equals", "LNSObject;", "hashCode", "toString", "LNSString;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W;LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer;LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery = { "GlobalOrdinalsWithScoreQuery", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x10, 5, 8, -1, 9, -1, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, NSString *joinField, OrgApacheLuceneIndexMultiDocValues_OrdinalMap *globalOrds, OrgApacheLuceneSearchQuery *toQuery, OrgApacheLuceneSearchQuery *fromQuery, jint min, jint max, OrgApacheLuceneIndexIndexReader *indexReader) {
  OrgApacheLuceneSearchQuery_init(self);
  JreStrongAssign(&self->collector_, collector);
  JreStrongAssign(&self->joinField_, joinField);
  JreStrongAssign(&self->globalOrds_, globalOrds);
  JreStrongAssign(&self->toQuery_, toQuery);
  JreStrongAssign(&self->fromQuery_, fromQuery);
  self->min_ = min;
  self->max_ = max;
  JreStrongAssign(&self->indexReader_, indexReader);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, NSString *joinField, OrgApacheLuceneIndexMultiDocValues_OrdinalMap *globalOrds, OrgApacheLuceneSearchQuery *toQuery, OrgApacheLuceneSearchQuery *fromQuery, jint min, jint max, OrgApacheLuceneIndexIndexReader *indexReader) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_, collector, joinField, globalOrds, toQuery, fromQuery, min, max, indexReader)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, NSString *joinField, OrgApacheLuceneIndexMultiDocValues_OrdinalMap *globalOrds, OrgApacheLuceneSearchQuery *toQuery, OrgApacheLuceneSearchQuery *fromQuery, jint min, jint max, OrgApacheLuceneIndexIndexReader *indexReader) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery, initPackagePrivateWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withNSString_withOrgApacheLuceneIndexMultiDocValues_OrdinalMap_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchQuery_withInt_withInt_withOrgApacheLuceneIndexIndexReader_, collector, joinField, globalOrds, toQuery, fromQuery, min, max, indexReader)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery)

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W

- (instancetype)initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *)outer$
                                               withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)query
                                              withOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)approximationWeight {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_(self, outer$, query, approximationWeight);
  return self;
}

- (void)extractTermsWithJavaUtilSet:(id<JavaUtilSet>)terms {
}

- (OrgApacheLuceneSearchExplanation *)explainWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                                                                               withInt:(jint)doc {
  OrgApacheLuceneIndexSortedDocValues *values = OrgApacheLuceneIndexDocValues_getSortedWithOrgApacheLuceneIndexLeafReader_withNSString_([((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context)) reader], this$0_->joinField_);
  if (values != nil) {
    jint segmentOrd = [values getOrdWithInt:doc];
    if (segmentOrd != -1) {
      jfloat score;
      if (this$0_->globalOrds_ != nil) {
        jlong globalOrd = [((OrgApacheLuceneUtilLongValues *) nil_chk([this$0_->globalOrds_ getGlobalOrdsWithInt:context->ord_])) getWithInt:segmentOrd];
        score = [((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(this$0_->collector_)) scoreWithInt:(jint) globalOrd];
      }
      else {
        score = [((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(this$0_->collector_)) scoreWithInt:segmentOrd];
      }
      OrgApacheLuceneUtilBytesRef *joinValue = JreRetainedLocalValue([values lookupOrdWithInt:segmentOrd]);
      return OrgApacheLuceneSearchExplanation_matchWithFloat_withNSString_withOrgApacheLuceneSearchExplanationArray_(score, JreStrcat("$$", @"Score based on join value ", [((OrgApacheLuceneUtilBytesRef *) nil_chk(joinValue)) utf8ToString]), [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchExplanation_class_()]);
    }
  }
  return OrgApacheLuceneSearchExplanation_noMatchWithNSString_withOrgApacheLuceneSearchExplanationArray_(@"Not a match", [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchExplanation_class_()]);
}

- (jfloat)getValueForNormalization {
  queryWeight_ = [this$0_ getBoost];
  return queryWeight_ * queryWeight_;
}

- (void)normalizeWithFloat:(jfloat)norm
                 withFloat:(jfloat)topLevelBoost {
  self->queryNorm_ = norm * topLevelBoost;
  JreTimesAssignFloatF(&queryWeight_, self->queryNorm_);
}

- (OrgApacheLuceneSearchScorer *)scorerWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  OrgApacheLuceneIndexSortedDocValues *values = OrgApacheLuceneIndexDocValues_getSortedWithOrgApacheLuceneIndexLeafReader_withNSString_([((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context)) reader], this$0_->joinField_);
  if (values == nil) {
    return nil;
  }
  OrgApacheLuceneSearchScorer *approximationScorer = JreRetainedLocalValue([((OrgApacheLuceneSearchWeight *) nil_chk(approximationWeight_)) scorerWithOrgApacheLuceneIndexLeafReaderContext:context]);
  if (approximationScorer == nil) {
    return nil;
  }
  else if (this$0_->globalOrds_ != nil) {
    return create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_(self, this$0_->collector_, values, approximationScorer, [this$0_->globalOrds_ getGlobalOrdsWithInt:context->ord_]);
  }
  else {
    return create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(self, this$0_->collector_, values, approximationScorer);
  }
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(approximationWeight_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, -1, 3, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchExplanation;", 0x1, 4, 5, 6, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, 6, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 8, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchScorer;", 0x1, 9, 10, 6, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery:withOrgApacheLuceneSearchQuery:withOrgApacheLuceneSearchWeight:);
  methods[1].selector = @selector(extractTermsWithJavaUtilSet:);
  methods[2].selector = @selector(explainWithOrgApacheLuceneIndexLeafReaderContext:withInt:);
  methods[3].selector = @selector(getValueForNormalization);
  methods[4].selector = @selector(normalizeWithFloat:withFloat:);
  methods[5].selector = @selector(scorerWithOrgApacheLuceneIndexLeafReaderContext:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "approximationWeight_", "LOrgApacheLuceneSearchWeight;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "queryNorm_", "F", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "queryWeight_", "F", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;LOrgApacheLuceneSearchQuery;LOrgApacheLuceneSearchWeight;", "extractTerms", "LJavaUtilSet;", "(Ljava/util/Set<Lorg/apache/lucene/index/Term;>;)V", "explain", "LOrgApacheLuceneIndexLeafReaderContext;I", "LJavaIoIOException;", "normalize", "FF", "scorer", "LOrgApacheLuceneIndexLeafReaderContext;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W = { "W", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x10, 6, 4, 11, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *outer$, OrgApacheLuceneSearchQuery *query, OrgApacheLuceneSearchWeight *approximationWeight) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneSearchWeight_initWithOrgApacheLuceneSearchQuery_(self, query);
  JreStrongAssign(&self->approximationWeight_, approximationWeight);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *outer$, OrgApacheLuceneSearchQuery *query, OrgApacheLuceneSearchWeight *approximationWeight) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_, outer$, query, approximationWeight)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery *outer$, OrgApacheLuceneSearchQuery *query, OrgApacheLuceneSearchWeight *approximationWeight) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneSearchWeight_, outer$, query, approximationWeight)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_W)

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight
withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *)collector
            withOrgApacheLuceneIndexSortedDocValues:(OrgApacheLuceneIndexSortedDocValues *)values
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)approximationScorer
                  withOrgApacheLuceneUtilLongValues:(OrgApacheLuceneUtilLongValues *)segmentOrdToGlobalOrdLookup {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_(self, weight, collector, values, approximationScorer, segmentOrdToGlobalOrdLookup);
  return self;
}

- (jint)advanceWithInt:(jint)target {
  for (jint docID = [((OrgApacheLuceneSearchScorer *) nil_chk(approximationScorer_)) advanceWithInt:target]; docID < OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS; docID = [approximationScorer_ nextDoc]) {
    jlong segmentOrd = [((OrgApacheLuceneIndexSortedDocValues *) nil_chk(values_)) getOrdWithInt:docID];
    if (segmentOrd != -1) {
      jint globalOrd = (jint) [((OrgApacheLuceneUtilLongValues *) nil_chk(segmentOrdToGlobalOrdLookup_)) getWithLong:segmentOrd];
      if ([((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(collector_)) matchWithInt:globalOrd]) {
        score_ = [collector_ scoreWithInt:globalOrd];
        return docID;
      }
    }
  }
  return OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
}

- (OrgApacheLuceneSearchTwoPhaseIterator *)createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation {
  return create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(self, approximation);
}

- (void)dealloc {
  RELEASE_(segmentOrdToGlobalOrdLookup_);
  RELEASE_(collector_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTwoPhaseIterator;", 0x4, 4, 5, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchWeight:withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:withOrgApacheLuceneIndexSortedDocValues:withOrgApacheLuceneSearchScorer:withOrgApacheLuceneUtilLongValues:);
  methods[1].selector = @selector(advanceWithInt:);
  methods[2].selector = @selector(createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "segmentOrdToGlobalOrdLookup_", "LOrgApacheLuceneUtilLongValues;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "collector_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchWeight;LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;LOrgApacheLuceneIndexSortedDocValues;LOrgApacheLuceneSearchScorer;LOrgApacheLuceneUtilLongValues;", "advance", "I", "LJavaIoIOException;", "createTwoPhaseIterator", "LOrgApacheLuceneSearchDocIdSetIterator;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer = { "OrdinalMapScorer", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x18, 3, 2, 6, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *self, OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer, OrgApacheLuceneUtilLongValues *segmentOrdToGlobalOrdLookup) {
  OrgApacheLuceneSearchJoinBaseGlobalOrdinalScorer_initPackagePrivateWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(self, weight, values, approximationScorer);
  JreStrongAssign(&self->segmentOrdToGlobalOrdLookup_, segmentOrdToGlobalOrdLookup);
  JreStrongAssign(&self->collector_, collector);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_(OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer, OrgApacheLuceneUtilLongValues *segmentOrdToGlobalOrdLookup) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer, initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_, weight, collector, values, approximationScorer, segmentOrdToGlobalOrdLookup)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_(OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer, OrgApacheLuceneUtilLongValues *segmentOrdToGlobalOrdLookup) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer, initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_withOrgApacheLuceneUtilLongValues_, weight, collector, values, approximationScorer, segmentOrdToGlobalOrdLookup)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer)

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1

- (instancetype)initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *)outer$
                                                     withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(self, outer$, approximation);
  return self;
}

- (jboolean)matches {
  jlong segmentOrd = [((OrgApacheLuceneIndexSortedDocValues *) nil_chk(this$0_->values_)) getOrdWithInt:[((OrgApacheLuceneSearchScorer *) nil_chk(this$0_->approximationScorer_)) docID]];
  if (segmentOrd != -1) {
    jint globalOrd = (jint) [((OrgApacheLuceneUtilLongValues *) nil_chk(this$0_->segmentOrdToGlobalOrdLookup_)) getWithLong:segmentOrd];
    if ([((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(this$0_->collector_)) matchWithInt:globalOrd]) {
      this$0_->score_ = [this$0_->collector_ scoreWithInt:globalOrd];
      return true;
    }
  }
  return false;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, 1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer:withOrgApacheLuceneSearchDocIdSetIterator:);
  methods[1].selector = @selector(matches);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer;LOrgApacheLuceneSearchDocIdSetIterator;", "LJavaIoIOException;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer;", "createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 = { "", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x8010, 2, 1, 2, -1, 3, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneSearchTwoPhaseIterator_initWithOrgApacheLuceneSearchDocIdSetIterator_(self, approximation);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_, outer$, approximation)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1 *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_1, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_OrdinalMapScorer_withOrgApacheLuceneSearchDocIdSetIterator_, outer$, approximation)
}

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight
withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *)collector
            withOrgApacheLuceneIndexSortedDocValues:(OrgApacheLuceneIndexSortedDocValues *)values
                    withOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)approximationScorer {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(self, weight, collector, values, approximationScorer);
  return self;
}

- (jint)advanceWithInt:(jint)target {
  for (jint docID = [((OrgApacheLuceneSearchScorer *) nil_chk(approximationScorer_)) advanceWithInt:target]; docID < OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS; docID = [approximationScorer_ nextDoc]) {
    jint segmentOrd = [((OrgApacheLuceneIndexSortedDocValues *) nil_chk(values_)) getOrdWithInt:docID];
    if (segmentOrd != -1) {
      if ([((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(collector_)) matchWithInt:segmentOrd]) {
        score_ = [collector_ scoreWithInt:segmentOrd];
        return docID;
      }
    }
  }
  return OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
}

- (OrgApacheLuceneSearchTwoPhaseIterator *)createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation {
  return create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(self, approximation);
}

- (void)dealloc {
  RELEASE_(collector_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTwoPhaseIterator;", 0x4, 4, 5, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchWeight:withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector:withOrgApacheLuceneIndexSortedDocValues:withOrgApacheLuceneSearchScorer:);
  methods[1].selector = @selector(advanceWithInt:);
  methods[2].selector = @selector(createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "collector_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchWeight;LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector;LOrgApacheLuceneIndexSortedDocValues;LOrgApacheLuceneSearchScorer;", "advance", "I", "LJavaIoIOException;", "createTwoPhaseIterator", "LOrgApacheLuceneSearchDocIdSetIterator;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer = { "SegmentOrdinalScorer", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x18, 3, 1, 6, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *self, OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer) {
  OrgApacheLuceneSearchJoinBaseGlobalOrdinalScorer_initPackagePrivateWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(self, weight, values, approximationScorer);
  JreStrongAssign(&self->collector_, collector);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer, initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_, weight, collector, values, approximationScorer)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_(OrgApacheLuceneSearchWeight *weight, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *collector, OrgApacheLuceneIndexSortedDocValues *values, OrgApacheLuceneSearchScorer *approximationScorer) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer, initWithOrgApacheLuceneSearchWeight_withOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector_withOrgApacheLuceneIndexSortedDocValues_withOrgApacheLuceneSearchScorer_, weight, collector, values, approximationScorer)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer)

@implementation OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1

- (instancetype)initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer:(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *)outer$
                                                         withOrgApacheLuceneSearchDocIdSetIterator:(OrgApacheLuceneSearchDocIdSetIterator *)approximation {
  OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(self, outer$, approximation);
  return self;
}

- (jboolean)matches {
  jint segmentOrd = [((OrgApacheLuceneIndexSortedDocValues *) nil_chk(this$0_->values_)) getOrdWithInt:[((OrgApacheLuceneSearchScorer *) nil_chk(this$0_->approximationScorer_)) docID]];
  if (segmentOrd != -1) {
    if ([((OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreCollector *) nil_chk(this$0_->collector_)) matchWithInt:segmentOrd]) {
      this$0_->score_ = [this$0_->collector_ scoreWithInt:segmentOrd];
      return true;
    }
  }
  return false;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, 1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer:withOrgApacheLuceneSearchDocIdSetIterator:);
  methods[1].selector = @selector(matches);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer;LOrgApacheLuceneSearchDocIdSetIterator;", "LJavaIoIOException;", "LOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer;", "createTwoPhaseIteratorWithOrgApacheLuceneSearchDocIdSetIterator:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 = { "", "org.apache.lucene.search.join", ptrTable, methods, fields, 7, 0x8010, 2, 1, 2, -1, 3, -1, -1 };
  return &_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1;
}

@end

void OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *self, OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneSearchTwoPhaseIterator_initWithOrgApacheLuceneSearchDocIdSetIterator_(self, approximation);
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *new_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_, outer$, approximation)
}

OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1 *create_OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1_initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer *outer$, OrgApacheLuceneSearchDocIdSetIterator *approximation) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_1, initWithOrgApacheLuceneSearchJoinGlobalOrdinalsWithScoreQuery_SegmentOrdinalScorer_withOrgApacheLuceneSearchDocIdSetIterator_, outer$, approximation)
}
