//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./misc/src/java/org/apache/lucene/search/DiversifiedTopDocsCollector.java
//

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Float.h"
#include "java/lang/Long.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"
#include "java/util/Stack.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/index/NumericDocValues.h"
#include "org/apache/lucene/search/DiversifiedTopDocsCollector.h"
#include "org/apache/lucene/search/LeafCollector.h"
#include "org/apache/lucene/search/ScoreDoc.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/TopDocs.h"
#include "org/apache/lucene/search/TopDocsCollector.h"
#include "org/apache/lucene/util/PriorityQueue.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/search/DiversifiedTopDocsCollector must not be compiled with ARC (-fobjc-arc)"
#endif

#pragma clang diagnostic ignored "-Wincomplete-implementation"

@interface OrgApacheLuceneSearchDiversifiedTopDocsCollector () {
 @public
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *globalQueue_;
  jint numHits_;
  id<JavaUtilMap> perKeyQueues_;
  JavaUtilStack *sparePerKeyQueues_;
}

- (void)perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)globalOverflow;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchDiversifiedTopDocsCollector, globalQueue_, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchDiversifiedTopDocsCollector, perKeyQueues_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchDiversifiedTopDocsCollector, sparePerKeyQueues_, JavaUtilStack *)

__attribute__((unused)) static void OrgApacheLuceneSearchDiversifiedTopDocsCollector_perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *globalOverflow);

@interface OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 : NSObject < OrgApacheLuceneSearchLeafCollector > {
 @public
  OrgApacheLuceneSearchDiversifiedTopDocsCollector *this$0_;
  jint val$base_;
  OrgApacheLuceneIndexNumericDocValues *val$keySource_;
  OrgApacheLuceneSearchScorer *scorer_;
}

- (instancetype)initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector:(OrgApacheLuceneSearchDiversifiedTopDocsCollector *)outer$
                                                                 withInt:(jint)capture$0
                                withOrgApacheLuceneIndexNumericDocValues:(OrgApacheLuceneIndexNumericDocValues *)capture$1;

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer;

- (void)collectWithInt:(jint)doc;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1, scorer_, OrgApacheLuceneSearchScorer *)

__attribute__((unused)) static void OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1);

__attribute__((unused)) static OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *new_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1);

__attribute__((unused)) static jboolean OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_lessThanWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_withOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *hitA, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *hitB);

@implementation OrgApacheLuceneSearchDiversifiedTopDocsCollector

- (instancetype)initWithInt:(jint)numHits
                    withInt:(jint)maxHitsPerKey {
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_initWithInt_withInt_(self, numHits, maxHitsPerKey);
  return self;
}

- (OrgApacheLuceneIndexNumericDocValues *)getKeysWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jboolean)needsScores {
  return true;
}

- (OrgApacheLuceneSearchTopDocs *)newTopDocsWithOrgApacheLuceneSearchScoreDocArray:(IOSObjectArray *)results
                                                                           withInt:(jint)start {
  if (results == nil) {
    return JreLoadStatic(OrgApacheLuceneSearchTopDocsCollector, EMPTY_TOPDOCS);
  }
  jfloat maxScore = JavaLangFloat_NaN;
  if (start == 0) {
    maxScore = ((OrgApacheLuceneSearchScoreDoc *) nil_chk(IOSObjectArray_Get(results, 0)))->score_;
  }
  else {
    for (jint i = [((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) size]; i > 1; i--) {
      [((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) pop];
    }
    maxScore = ((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *) nil_chk([((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) pop]))->score_;
  }
  return create_OrgApacheLuceneSearchTopDocs_initWithInt_withOrgApacheLuceneSearchScoreDocArray_withFloat_(totalHits_, results, maxScore);
}

- (OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)insertWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)addition
                                                                                                                                 withInt:(jint)docBase
                                                                                                withOrgApacheLuceneIndexNumericDocValues:(OrgApacheLuceneIndexNumericDocValues *)keys {
  if (([((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) size] >= numHits_) && (OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_lessThanWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_withOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(nil_chk(globalQueue_), addition, [globalQueue_ top]))) {
    return addition;
  }
  JreStrongAssign(&((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *) nil_chk(addition))->key_, JavaLangLong_valueOfWithLong_([((OrgApacheLuceneIndexNumericDocValues *) nil_chk(keys)) getWithInt:addition->doc_ - docBase]));
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *thisKeyQ = JreRetainedLocalValue([((id<JavaUtilMap>) nil_chk(perKeyQueues_)) getWithId:addition->key_]);
  if (thisKeyQ == nil) {
    if ([((JavaUtilStack *) nil_chk(sparePerKeyQueues_)) size] == 0) {
      thisKeyQ = create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(maxNumPerKey_);
    }
    else {
      thisKeyQ = [((JavaUtilStack *) nil_chk(sparePerKeyQueues_)) pop];
    }
    [((id<JavaUtilMap>) nil_chk(perKeyQueues_)) putWithId:addition->key_ withId:thisKeyQ];
  }
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *perKeyOverflow = JreRetainedLocalValue([((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(thisKeyQ)) insertWithOverflowWithId:addition]);
  if (JreObjectEqualsEquals(perKeyOverflow, addition)) {
    return addition;
  }
  if (perKeyOverflow == nil) {
    OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *globalOverflow = JreRetainedLocalValue([((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) insertWithOverflowWithId:addition]);
    OrgApacheLuceneSearchDiversifiedTopDocsCollector_perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(self, globalOverflow);
    return globalOverflow;
  }
  [((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) removeWithId:perKeyOverflow];
  [((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(globalQueue_)) addWithId:addition];
  return perKeyOverflow;
}

- (void)perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)globalOverflow {
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(self, globalOverflow);
}

- (id<OrgApacheLuceneSearchLeafCollector>)getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  jint base = ((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context))->docBase_;
  OrgApacheLuceneIndexNumericDocValues *keySource = [self getKeysWithOrgApacheLuceneIndexLeafReaderContext:context];
  return create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(self, base, keySource);
}

- (void)dealloc {
  RELEASE_(spare_);
  RELEASE_(globalQueue_);
  RELEASE_(perKeyQueues_);
  RELEASE_(sparePerKeyQueues_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneIndexNumericDocValues;", 0x404, 1, 2, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTopDocs;", 0x4, 3, 4, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;", 0x4, 5, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 8, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchLeafCollector;", 0x1, 9, 2, 10, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withInt:);
  methods[1].selector = @selector(getKeysWithOrgApacheLuceneIndexLeafReaderContext:);
  methods[2].selector = @selector(needsScores);
  methods[3].selector = @selector(newTopDocsWithOrgApacheLuceneSearchScoreDocArray:withInt:);
  methods[4].selector = @selector(insertWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:withInt:withOrgApacheLuceneIndexNumericDocValues:);
  methods[5].selector = @selector(perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:);
  methods[6].selector = @selector(getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "spare_", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "globalQueue_", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "numHits_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "perKeyQueues_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x2, -1, -1, 11, -1 },
    { "maxNumPerKey_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "sparePerKeyQueues_", "LJavaUtilStack;", .constantValue.asLong = 0, 0x2, -1, -1, 12, -1 },
  };
  static const void *ptrTable[] = { "II", "getKeys", "LOrgApacheLuceneIndexLeafReaderContext;", "newTopDocs", "[LOrgApacheLuceneSearchScoreDoc;I", "insert", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;ILOrgApacheLuceneIndexNumericDocValues;", "perKeyGroupRemove", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;", "getLeafCollector", "LJavaIoIOException;", "Ljava/util/Map<Ljava/lang/Long;Lorg/apache/lucene/search/DiversifiedTopDocsCollector$ScoreDocKeyQueue;>;", "Ljava/util/Stack<Lorg/apache/lucene/search/DiversifiedTopDocsCollector$ScoreDocKeyQueue;>;", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue;LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;", "Lorg/apache/lucene/search/TopDocsCollector<Lorg/apache/lucene/search/DiversifiedTopDocsCollector$ScoreDocKey;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchDiversifiedTopDocsCollector = { "DiversifiedTopDocsCollector", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x401, 7, 6, -1, 13, -1, 14, -1 };
  return &_OrgApacheLuceneSearchDiversifiedTopDocsCollector;
}

@end

void OrgApacheLuceneSearchDiversifiedTopDocsCollector_initWithInt_withInt_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *self, jint numHits, jint maxHitsPerKey) {
  OrgApacheLuceneSearchTopDocsCollector_initWithOrgApacheLuceneUtilPriorityQueue_(self, create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(numHits));
  JreStrongAssignAndConsume(&self->sparePerKeyQueues_, new_JavaUtilStack_init());
  JreStrongAssign(&self->globalQueue_, (OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) cast_chk(self->pq_, [OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue class]));
  JreStrongAssignAndConsume(&self->perKeyQueues_, new_JavaUtilHashMap_init());
  self->numHits_ = numHits;
  self->maxNumPerKey_ = maxHitsPerKey;
}

void OrgApacheLuceneSearchDiversifiedTopDocsCollector_perKeyGroupRemoveWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *globalOverflow) {
  if (globalOverflow == nil) {
    return;
  }
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *q = JreRetainedLocalValue([((id<JavaUtilMap>) nil_chk(self->perKeyQueues_)) getWithId:globalOverflow->key_]);
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *perKeyLowest = JreRetainedLocalValue([((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *) nil_chk(q)) pop]);
  JreAssert((JreObjectEqualsEquals(globalOverflow, perKeyLowest)), @"org/apache/lucene/search/DiversifiedTopDocsCollector.java:171 condition failed: assert (globalOverflow == perKeyLowest);");
  if ([q size] == 0) {
    [((id<JavaUtilMap>) nil_chk(self->perKeyQueues_)) removeWithId:globalOverflow->key_];
    [((JavaUtilStack *) nil_chk(self->sparePerKeyQueues_)) pushWithId:q];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchDiversifiedTopDocsCollector)

@implementation OrgApacheLuceneSearchDiversifiedTopDocsCollector_1

- (instancetype)initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector:(OrgApacheLuceneSearchDiversifiedTopDocsCollector *)outer$
                                                                 withInt:(jint)capture$0
                                withOrgApacheLuceneIndexNumericDocValues:(OrgApacheLuceneIndexNumericDocValues *)capture$1 {
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(self, outer$, capture$0, capture$1);
  return self;
}

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
  JreStrongAssign(&self->scorer_, scorer);
}

- (void)collectWithInt:(jint)doc {
  jfloat score = [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score];
  JreAssert(!JavaLangFloat_isNaNWithFloat_(score), @"org/apache/lucene/search/DiversifiedTopDocsCollector.java:197 condition failed: assert !Float.isNaN(score);");
  this$0_->totalHits_++;
  doc += val$base_;
  if (this$0_->spare_ == nil) {
    JreStrongAssignAndConsume(&this$0_->spare_, new_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_initWithInt_withFloat_(doc, score));
  }
  else {
    this$0_->spare_->doc_ = doc;
    this$0_->spare_->score_ = score;
  }
  JreStrongAssign(&this$0_->spare_, [this$0_ insertWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey:this$0_->spare_ withInt:val$base_ withOrgApacheLuceneIndexNumericDocValues:val$keySource_]);
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$keySource_);
  RELEASE_(scorer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector:withInt:withOrgApacheLuceneIndexNumericDocValues:);
  methods[1].selector = @selector(setScorerWithOrgApacheLuceneSearchScorer:);
  methods[2].selector = @selector(collectWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$base_", "I", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$keySource_", "LOrgApacheLuceneIndexNumericDocValues;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "scorer_", "LOrgApacheLuceneSearchScorer;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchDiversifiedTopDocsCollector;ILOrgApacheLuceneIndexNumericDocValues;", "setScorer", "LOrgApacheLuceneSearchScorer;", "LJavaIoIOException;", "collect", "I", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector;", "getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 = { "", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x8010, 3, 4, 6, -1, 7, -1, -1 };
  return &_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1;
}

@end

void OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1) {
  JreStrongAssign(&self->this$0_, outer$);
  self->val$base_ = capture$0;
  JreStrongAssign(&self->val$keySource_, capture$1);
  NSObject_init(self);
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *new_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1, initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_, outer$, capture$0, capture$1)
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_1 *create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_1_initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_(OrgApacheLuceneSearchDiversifiedTopDocsCollector *outer$, jint capture$0, OrgApacheLuceneIndexNumericDocValues *capture$1) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_1, initWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_withInt_withOrgApacheLuceneIndexNumericDocValues_, outer$, capture$0, capture$1)
}

@implementation OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue

- (instancetype)initWithInt:(jint)size {
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(self, size);
  return self;
}

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)hitA
                    withId:(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *)hitB {
  return OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_lessThanWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_withOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(self, hitA, hitB);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "Z", 0x14, 1, 2, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:);
  methods[1].selector = @selector(lessThanWithId:withId:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "I", "lessThan", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;LOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector;", "Lorg/apache/lucene/util/PriorityQueue<Lorg/apache/lucene/search/DiversifiedTopDocsCollector$ScoreDocKey;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue = { "ScoreDocKeyQueue", "org.apache.lucene.search", ptrTable, methods, NULL, 7, 0x8, 2, 0, 3, -1, -1, 4, -1 };
  return &_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue;
}

@end

void OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *self, jint size) {
  OrgApacheLuceneUtilPriorityQueue_initWithInt_(self, size);
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *new_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(jint size) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue, initWithInt_, size)
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_initWithInt_(jint size) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue, initWithInt_, size)
}

jboolean OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue_lessThanWithOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_withOrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue *self, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *hitA, OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *hitB) {
  if (((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *) nil_chk(hitA))->score_ == ((OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *) nil_chk(hitB))->score_) return hitA->doc_ > hitB->doc_;
  else return hitA->score_ < hitB->score_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKeyQueue)

@implementation OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey

- (instancetype)initWithInt:(jint)doc
                  withFloat:(jfloat)score {
  OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_initWithInt_withFloat_(self, doc, score);
  return self;
}

- (JavaLangLong *)getKey {
  return key_;
}

- (NSString *)description {
  return JreStrcat("$@$I$F", @"key:", key_, @" doc=", doc_, @" s=", score_);
}

- (void)dealloc {
  RELEASE_(key_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, 0, -1, -1, -1, -1 },
    { NULL, "LJavaLangLong;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withFloat:);
  methods[1].selector = @selector(getKey);
  methods[2].selector = @selector(description);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "key_", "LJavaLangLong;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "IF", "toString", "LOrgApacheLuceneSearchDiversifiedTopDocsCollector;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey = { "ScoreDocKey", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x9, 3, 1, 2, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey;
}

@end

void OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_initWithInt_withFloat_(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *self, jint doc, jfloat score) {
  OrgApacheLuceneSearchScoreDoc_initWithInt_withFloat_(self, doc, score);
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *new_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_initWithInt_withFloat_(jint doc, jfloat score) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey, initWithInt_withFloat_, doc, score)
}

OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey *create_OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey_initWithInt_withFloat_(jint doc, jfloat score) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey, initWithInt_withFloat_, doc, score)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchDiversifiedTopDocsCollector_ScoreDocKey)
