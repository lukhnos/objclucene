//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/search/TopScoreDocCollector.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Float.h"
#include "java/lang/IllegalArgumentException.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/search/HitQueue.h"
#include "org/apache/lucene/search/LeafCollector.h"
#include "org/apache/lucene/search/ScoreDoc.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/TopDocs.h"
#include "org/apache/lucene/search/TopDocsCollector.h"
#include "org/apache/lucene/search/TopScoreDocCollector.h"
#include "org/apache/lucene/util/PriorityQueue.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/search/TopScoreDocCollector must not be compiled with ARC (-fobjc-arc)"
#endif

#pragma clang diagnostic ignored "-Wprotocol"

@interface OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector : OrgApacheLuceneSearchTopScoreDocCollector

- (instancetype)initWithInt:(jint)numHits;

- (id<OrgApacheLuceneSearchLeafCollector>)getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector)

__attribute__((unused)) static void OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *self, jint numHits);

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *new_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(jint numHits) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(jint numHits);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector)

@interface OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 : OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector {
 @public
  OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *this$0_;
  jint val$docBase_;
}

- (instancetype)initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector:(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *)outer$
                                                                                     withInt:(jint)capture$0;

- (void)collectWithInt:(jint)doc;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1)

__attribute__((unused)) static void OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *self, OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0);

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *new_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0);

@interface OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector : OrgApacheLuceneSearchTopScoreDocCollector {
 @public
  OrgApacheLuceneSearchScoreDoc *after_;
  jint collectedHits_;
}

- (instancetype)initWithInt:(jint)numHits
withOrgApacheLuceneSearchScoreDoc:(OrgApacheLuceneSearchScoreDoc *)after;

- (jint)topDocsSize;

- (OrgApacheLuceneSearchTopDocs *)newTopDocsWithOrgApacheLuceneSearchScoreDocArray:(IOSObjectArray *)results
                                                                           withInt:(jint)start OBJC_METHOD_FAMILY_NONE;

- (id<OrgApacheLuceneSearchLeafCollector>)getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector, after_, OrgApacheLuceneSearchScoreDoc *)

__attribute__((unused)) static void OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *self, jint numHits, OrgApacheLuceneSearchScoreDoc *after);

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *new_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(jint numHits, OrgApacheLuceneSearchScoreDoc *after) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(jint numHits, OrgApacheLuceneSearchScoreDoc *after);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector)

@interface OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 : OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector {
 @public
  OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *this$0_;
  jint val$afterDoc_;
  jint val$docBase_;
}

- (instancetype)initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector:(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *)outer$
                                                                                     withInt:(jint)capture$0
                                                                                     withInt:(jint)capture$1;

- (void)collectWithInt:(jint)doc;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1)

__attribute__((unused)) static void OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *self, OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1);

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *new_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1);

@implementation OrgApacheLuceneSearchTopScoreDocCollector

+ (OrgApacheLuceneSearchTopScoreDocCollector *)createWithInt:(jint)numHits {
  return OrgApacheLuceneSearchTopScoreDocCollector_createWithInt_(numHits);
}

+ (OrgApacheLuceneSearchTopScoreDocCollector *)createWithInt:(jint)numHits
                           withOrgApacheLuceneSearchScoreDoc:(OrgApacheLuceneSearchScoreDoc *)after {
  return OrgApacheLuceneSearchTopScoreDocCollector_createWithInt_withOrgApacheLuceneSearchScoreDoc_(numHits, after);
}

- (instancetype)initWithInt:(jint)numHits {
  OrgApacheLuceneSearchTopScoreDocCollector_initWithInt_(self, numHits);
  return self;
}

- (OrgApacheLuceneSearchTopDocs *)newTopDocsWithOrgApacheLuceneSearchScoreDocArray:(IOSObjectArray *)results
                                                                           withInt:(jint)start {
  if (results == nil) {
    return JreLoadStatic(OrgApacheLuceneSearchTopDocsCollector, EMPTY_TOPDOCS);
  }
  jfloat maxScore = JavaLangFloat_NaN;
  if (start == 0) {
    maxScore = ((OrgApacheLuceneSearchScoreDoc *) nil_chk(IOSObjectArray_Get(results, 0)))->score_;
  }
  else {
    for (jint i = [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(pq_)) size]; i > 1; i--) {
      [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(pq_)) pop];
    }
    maxScore = ((OrgApacheLuceneSearchScoreDoc *) nil_chk([((OrgApacheLuceneUtilPriorityQueue *) nil_chk(pq_)) pop]))->score_;
  }
  return create_OrgApacheLuceneSearchTopDocs_initWithInt_withOrgApacheLuceneSearchScoreDocArray_withFloat_(totalHits_, results, maxScore);
}

- (jboolean)needsScores {
  return true;
}

- (void)dealloc {
  RELEASE_(pqTop_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LOrgApacheLuceneSearchTopScoreDocCollector;", 0x9, 0, 1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTopScoreDocCollector;", 0x9, 0, 2, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, 1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTopDocs;", 0x4, 3, 4, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(createWithInt:);
  methods[1].selector = @selector(createWithInt:withOrgApacheLuceneSearchScoreDoc:);
  methods[2].selector = @selector(initWithInt:);
  methods[3].selector = @selector(newTopDocsWithOrgApacheLuceneSearchScoreDocArray:withInt:);
  methods[4].selector = @selector(needsScores);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "pqTop_", "LOrgApacheLuceneSearchScoreDoc;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "create", "I", "ILOrgApacheLuceneSearchScoreDoc;", "newTopDocs", "[LOrgApacheLuceneSearchScoreDoc;I", "LOrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector;LOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector;LOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector;", "Lorg/apache/lucene/search/TopDocsCollector<Lorg/apache/lucene/search/ScoreDoc;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector = { "TopScoreDocCollector", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x401, 5, 1, -1, 5, -1, 6, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector;
}

@end

OrgApacheLuceneSearchTopScoreDocCollector *OrgApacheLuceneSearchTopScoreDocCollector_createWithInt_(jint numHits) {
  OrgApacheLuceneSearchTopScoreDocCollector_initialize();
  return OrgApacheLuceneSearchTopScoreDocCollector_createWithInt_withOrgApacheLuceneSearchScoreDoc_(numHits, nil);
}

OrgApacheLuceneSearchTopScoreDocCollector *OrgApacheLuceneSearchTopScoreDocCollector_createWithInt_withOrgApacheLuceneSearchScoreDoc_(jint numHits, OrgApacheLuceneSearchScoreDoc *after) {
  OrgApacheLuceneSearchTopScoreDocCollector_initialize();
  if (numHits <= 0) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"numHits must be > 0; please use TotalHitCountCollector if you just need the total hit count");
  }
  if (after == nil) {
    return create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(numHits);
  }
  else {
    return create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(numHits, after);
  }
}

void OrgApacheLuceneSearchTopScoreDocCollector_initWithInt_(OrgApacheLuceneSearchTopScoreDocCollector *self, jint numHits) {
  OrgApacheLuceneSearchTopDocsCollector_initWithOrgApacheLuceneUtilPriorityQueue_(self, create_OrgApacheLuceneSearchHitQueue_initPackagePrivateWithInt_withBoolean_(numHits, true));
  JreStrongAssign(&self->pqTop_, [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(self->pq_)) top]);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchTopScoreDocCollector)

@implementation OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
  JreStrongAssign(&self->scorer_, scorer);
}

- (void)dealloc {
  RELEASE_(scorer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(setScorerWithOrgApacheLuceneSearchScorer:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "scorer_", "LOrgApacheLuceneSearchScorer;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "setScorer", "LOrgApacheLuceneSearchScorer;", "LJavaIoIOException;", "LOrgApacheLuceneSearchTopScoreDocCollector;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector = { "ScorerLeafCollector", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x408, 2, 1, 3, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector;
}

@end

void OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector_init(OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector)

@implementation OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector

- (instancetype)initWithInt:(jint)numHits {
  OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(self, numHits);
  return self;
}

- (id<OrgApacheLuceneSearchLeafCollector>)getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  jint docBase = ((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context))->docBase_;
  return create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(self, docBase);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchLeafCollector;", 0x1, 1, 2, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:);
  methods[1].selector = @selector(getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "I", "getLeafCollector", "LOrgApacheLuceneIndexLeafReaderContext;", "LJavaIoIOException;", "LOrgApacheLuceneSearchTopScoreDocCollector;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector = { "SimpleTopScoreDocCollector", "org.apache.lucene.search", ptrTable, methods, NULL, 7, 0xa, 2, 0, 4, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector;
}

@end

void OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *self, jint numHits) {
  OrgApacheLuceneSearchTopScoreDocCollector_initWithInt_(self, numHits);
}

OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *new_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(jint numHits) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector, initWithInt_, numHits)
}

OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_initWithInt_(jint numHits) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector, initWithInt_, numHits)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector)

@implementation OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1

- (instancetype)initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector:(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *)outer$
                                                                                     withInt:(jint)capture$0 {
  OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(self, outer$, capture$0);
  return self;
}

- (void)collectWithInt:(jint)doc {
  jfloat score = [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score];
  JreAssert(score != JavaLangFloat_NEGATIVE_INFINITY, @"org/apache/lucene/search/TopScoreDocCollector.java:67 condition failed: assert score != Float.NEGATIVE_INFINITY;");
  JreAssert(!JavaLangFloat_isNaNWithFloat_(score), @"org/apache/lucene/search/TopScoreDocCollector.java:68 condition failed: assert !Float.isNaN(score);");
  this$0_->totalHits_++;
  if (score <= ((OrgApacheLuceneSearchScoreDoc *) nil_chk(this$0_->pqTop_))->score_) {
    return;
  }
  this$0_->pqTop_->doc_ = doc + val$docBase_;
  this$0_->pqTop_->score_ = score;
  JreStrongAssign(&this$0_->pqTop_, [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(this$0_->pq_)) updateTop]);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector:withInt:);
  methods[1].selector = @selector(collectWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$docBase_", "I", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector;I", "collect", "I", "LJavaIoIOException;", "LOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector;", "getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 = { "", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x8010, 2, 2, 4, -1, 5, -1, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1;
}

@end

void OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *self, OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0) {
  JreStrongAssign(&self->this$0_, outer$);
  self->val$docBase_ = capture$0;
  OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector_init(self);
}

OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *new_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1, initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_, outer$, capture$0)
}

OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1 *create_OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector *outer$, jint capture$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_1, initWithOrgApacheLuceneSearchTopScoreDocCollector_SimpleTopScoreDocCollector_withInt_, outer$, capture$0)
}

@implementation OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector

- (instancetype)initWithInt:(jint)numHits
withOrgApacheLuceneSearchScoreDoc:(OrgApacheLuceneSearchScoreDoc *)after {
  OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(self, numHits, after);
  return self;
}

- (jint)topDocsSize {
  return collectedHits_ < [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(pq_)) size] ? collectedHits_ : [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(pq_)) size];
}

- (OrgApacheLuceneSearchTopDocs *)newTopDocsWithOrgApacheLuceneSearchScoreDocArray:(IOSObjectArray *)results
                                                                           withInt:(jint)start {
  return results == nil ? create_OrgApacheLuceneSearchTopDocs_initWithInt_withOrgApacheLuceneSearchScoreDocArray_withFloat_(totalHits_, [IOSObjectArray arrayWithLength:0 type:OrgApacheLuceneSearchScoreDoc_class_()], JavaLangFloat_NaN) : create_OrgApacheLuceneSearchTopDocs_initWithInt_withOrgApacheLuceneSearchScoreDocArray_(totalHits_, results);
}

- (id<OrgApacheLuceneSearchLeafCollector>)getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context {
  jint docBase = ((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context))->docBase_;
  jint afterDoc = ((OrgApacheLuceneSearchScoreDoc *) nil_chk(after_))->doc_ - context->docBase_;
  return create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(self, afterDoc, docBase);
}

- (void)dealloc {
  RELEASE_(after_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchTopDocs;", 0x4, 1, 2, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchLeafCollector;", 0x1, 3, 4, 5, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithInt:withOrgApacheLuceneSearchScoreDoc:);
  methods[1].selector = @selector(topDocsSize);
  methods[2].selector = @selector(newTopDocsWithOrgApacheLuceneSearchScoreDocArray:withInt:);
  methods[3].selector = @selector(getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "after_", "LOrgApacheLuceneSearchScoreDoc;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "collectedHits_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "ILOrgApacheLuceneSearchScoreDoc;", "newTopDocs", "[LOrgApacheLuceneSearchScoreDoc;I", "getLeafCollector", "LOrgApacheLuceneIndexLeafReaderContext;", "LJavaIoIOException;", "LOrgApacheLuceneSearchTopScoreDocCollector;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector = { "PagingTopScoreDocCollector", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0xa, 4, 2, 6, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector;
}

@end

void OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *self, jint numHits, OrgApacheLuceneSearchScoreDoc *after) {
  OrgApacheLuceneSearchTopScoreDocCollector_initWithInt_(self, numHits);
  JreStrongAssign(&self->after_, after);
  self->collectedHits_ = 0;
}

OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *new_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(jint numHits, OrgApacheLuceneSearchScoreDoc *after) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector, initWithInt_withOrgApacheLuceneSearchScoreDoc_, numHits, after)
}

OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_initWithInt_withOrgApacheLuceneSearchScoreDoc_(jint numHits, OrgApacheLuceneSearchScoreDoc *after) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector, initWithInt_withOrgApacheLuceneSearchScoreDoc_, numHits, after)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector)

@implementation OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1

- (instancetype)initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector:(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *)outer$
                                                                                     withInt:(jint)capture$0
                                                                                     withInt:(jint)capture$1 {
  OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(self, outer$, capture$0, capture$1);
  return self;
}

- (void)collectWithInt:(jint)doc {
  jfloat score = [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score];
  JreAssert(score != JavaLangFloat_NEGATIVE_INFINITY, @"org/apache/lucene/search/TopScoreDocCollector.java:118 condition failed: assert score != Float.NEGATIVE_INFINITY;");
  JreAssert(!JavaLangFloat_isNaNWithFloat_(score), @"org/apache/lucene/search/TopScoreDocCollector.java:119 condition failed: assert !Float.isNaN(score);");
  this$0_->totalHits_++;
  if (score > ((OrgApacheLuceneSearchScoreDoc *) nil_chk(this$0_->after_))->score_ || (score == this$0_->after_->score_ && doc <= val$afterDoc_)) {
    return;
  }
  if (score <= ((OrgApacheLuceneSearchScoreDoc *) nil_chk(this$0_->pqTop_))->score_) {
    return;
  }
  this$0_->collectedHits_++;
  this$0_->pqTop_->doc_ = doc + val$docBase_;
  this$0_->pqTop_->score_ = score;
  JreStrongAssign(&this$0_->pqTop_, [((OrgApacheLuceneUtilPriorityQueue *) nil_chk(this$0_->pq_)) updateTop]);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector:withInt:withInt:);
  methods[1].selector = @selector(collectWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$afterDoc_", "I", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$docBase_", "I", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector;II", "collect", "I", "LJavaIoIOException;", "LOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector;", "getLeafCollectorWithOrgApacheLuceneIndexLeafReaderContext:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 = { "", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x8010, 2, 3, 4, -1, 5, -1, -1 };
  return &_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1;
}

@end

void OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *self, OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1) {
  JreStrongAssign(&self->this$0_, outer$);
  self->val$afterDoc_ = capture$0;
  self->val$docBase_ = capture$1;
  OrgApacheLuceneSearchTopScoreDocCollector_ScorerLeafCollector_init(self);
}

OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *new_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1, initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_, outer$, capture$0, capture$1)
}

OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1 *create_OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1_initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector *outer$, jint capture$0, jint capture$1) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_1, initWithOrgApacheLuceneSearchTopScoreDocCollector_PagingTopScoreDocCollector_withInt_withInt_, outer$, capture$0, capture$1)
}
