//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/search/BooleanScorer.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IndexOutOfBoundsException.h"
#include "java/lang/Long.h"
#include "java/lang/Math.h"
#include "java/util/Arrays.h"
#include "java/util/Collection.h"
#include "org/apache/lucene/search/BooleanScorer.h"
#include "org/apache/lucene/search/BooleanWeight.h"
#include "org/apache/lucene/search/BulkScorer.h"
#include "org/apache/lucene/search/FakeScorer.h"
#include "org/apache/lucene/search/LeafCollector.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/util/Bits.h"
#include "org/apache/lucene/util/PriorityQueue.h"

@interface OrgApacheLuceneSearchBooleanScorer ()

+ (OrgApacheLuceneSearchBulkScorer *)disableScoringWithOrgApacheLuceneSearchBulkScorer:(OrgApacheLuceneSearchBulkScorer *)scorer;

+ (jlong)costWithJavaUtilCollection:(id<JavaUtilCollection>)scorers
                            withInt:(jint)minShouldMatch;

- (void)scoreDocumentWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                                                    withInt:(jint)base
                                                    withInt:(jint)i;

- (void)scoreMatchesWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                                                   withInt:(jint)base;

- (void)scoreWindowWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                              withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                                  withInt:(jint)base
                                                  withInt:(jint)min
                                                  withInt:(jint)max
withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray:(IOSObjectArray *)scorers
                                                  withInt:(jint)numScorers;

- (OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)advanceWithInt:(jint)min;

- (void)scoreWindowWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                              withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                                  withInt:(jint)windowBase
                                                  withInt:(jint)windowMin
                                                  withInt:(jint)windowMax;

@end

__attribute__((unused)) static OrgApacheLuceneSearchBulkScorer *OrgApacheLuceneSearchBooleanScorer_disableScoringWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *scorer);

__attribute__((unused)) static jlong OrgApacheLuceneSearchBooleanScorer_costWithJavaUtilCollection_withInt_(id<JavaUtilCollection> scorers, jint minShouldMatch);

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_scoreDocumentWithOrgApacheLuceneSearchLeafCollector_withInt_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, jint base, jint i);

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_scoreMatchesWithOrgApacheLuceneSearchLeafCollector_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, jint base);

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, id<OrgApacheLuceneUtilBits> acceptDocs, jint base, jint min, jint max, IOSObjectArray *scorers, jint numScorers);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *OrgApacheLuceneSearchBooleanScorer_advanceWithInt_(OrgApacheLuceneSearchBooleanScorer *self, jint min);

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, id<OrgApacheLuceneUtilBits> acceptDocs, jint windowBase, jint windowMin, jint windowMax);

@interface OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc () {
 @public
  __unsafe_unretained OrgApacheLuceneSearchBooleanScorer *this$0_;
}

@end

@interface OrgApacheLuceneSearchBooleanScorer_OrCollector () {
 @public
  __unsafe_unretained OrgApacheLuceneSearchBooleanScorer *this$0_;
}

@end

@interface OrgApacheLuceneSearchBooleanScorer_$1 : OrgApacheLuceneSearchBulkScorer {
 @public
  OrgApacheLuceneSearchBulkScorer *val$scorer_;
}

- (jint)scoreWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                        withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                            withInt:(jint)min
                                            withInt:(jint)max;

- (jlong)cost;

- (instancetype)initWithOrgApacheLuceneSearchBulkScorer:(OrgApacheLuceneSearchBulkScorer *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchBooleanScorer_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer_$1, val$scorer_, OrgApacheLuceneSearchBulkScorer *)

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBooleanScorer_$1 *self, OrgApacheLuceneSearchBulkScorer *capture$0);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$1 *new_OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$1 *create_OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *capture$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchBooleanScorer_$1)

@interface OrgApacheLuceneSearchBooleanScorer_$1_$1 : NSObject < OrgApacheLuceneSearchLeafCollector > {
 @public
  OrgApacheLuceneSearchFakeScorer *fake_;
  id<OrgApacheLuceneSearchLeafCollector> val$collector_;
}

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer;

- (void)collectWithInt:(jint)doc;

- (instancetype)initWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchBooleanScorer_$1_$1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer_$1_$1, fake_, OrgApacheLuceneSearchFakeScorer *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer_$1_$1, val$collector_, id<OrgApacheLuceneSearchLeafCollector>)

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(OrgApacheLuceneSearchBooleanScorer_$1_$1 *self, id<OrgApacheLuceneSearchLeafCollector> capture$0);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$1_$1 *new_OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(id<OrgApacheLuceneSearchLeafCollector> capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$1_$1 *create_OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(id<OrgApacheLuceneSearchLeafCollector> capture$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchBooleanScorer_$1_$1)

@interface OrgApacheLuceneSearchBooleanScorer_$2 : OrgApacheLuceneUtilPriorityQueue

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchBulkScorer *)a
                    withId:(OrgApacheLuceneSearchBulkScorer *)b;

- (instancetype)initWithInt:(jint)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchBooleanScorer_$2)

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(OrgApacheLuceneSearchBooleanScorer_$2 *self, jint arg$0);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$2 *new_OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(jint arg$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_$2 *create_OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(jint arg$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchBooleanScorer_$2)

@implementation OrgApacheLuceneSearchBooleanScorer

+ (jint)SHIFT {
  return OrgApacheLuceneSearchBooleanScorer_SHIFT;
}

+ (jint)SIZE {
  return OrgApacheLuceneSearchBooleanScorer_SIZE;
}

+ (jint)MASK {
  return OrgApacheLuceneSearchBooleanScorer_MASK;
}

+ (jint)SET_SIZE {
  return OrgApacheLuceneSearchBooleanScorer_SET_SIZE;
}

+ (jint)SET_MASK {
  return OrgApacheLuceneSearchBooleanScorer_SET_MASK;
}

+ (OrgApacheLuceneSearchBulkScorer *)disableScoringWithOrgApacheLuceneSearchBulkScorer:(OrgApacheLuceneSearchBulkScorer *)scorer {
  return OrgApacheLuceneSearchBooleanScorer_disableScoringWithOrgApacheLuceneSearchBulkScorer_(scorer);
}

+ (jlong)costWithJavaUtilCollection:(id<JavaUtilCollection>)scorers
                            withInt:(jint)minShouldMatch {
  return OrgApacheLuceneSearchBooleanScorer_costWithJavaUtilCollection_withInt_(scorers, minShouldMatch);
}

- (instancetype)initWithOrgApacheLuceneSearchBooleanWeight:(OrgApacheLuceneSearchBooleanWeight *)weight
                                               withBoolean:(jboolean)disableCoord
                                                   withInt:(jint)maxCoord
                                    withJavaUtilCollection:(id<JavaUtilCollection>)scorers
                                                   withInt:(jint)minShouldMatch
                                               withBoolean:(jboolean)needsScores {
  OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_(self, weight, disableCoord, maxCoord, scorers, minShouldMatch, needsScores);
  return self;
}

- (jlong)cost {
  return cost_;
}

- (void)scoreDocumentWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                                                    withInt:(jint)base
                                                    withInt:(jint)i {
  OrgApacheLuceneSearchBooleanScorer_scoreDocumentWithOrgApacheLuceneSearchLeafCollector_withInt_withInt_(self, collector, base, i);
}

- (void)scoreMatchesWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                                                   withInt:(jint)base {
  OrgApacheLuceneSearchBooleanScorer_scoreMatchesWithOrgApacheLuceneSearchLeafCollector_withInt_(self, collector, base);
}

- (void)scoreWindowWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                              withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                                  withInt:(jint)base
                                                  withInt:(jint)min
                                                  withInt:(jint)max
withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray:(IOSObjectArray *)scorers
                                                  withInt:(jint)numScorers {
  OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray_withInt_(self, collector, acceptDocs, base, min, max, scorers, numScorers);
}

- (OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)advanceWithInt:(jint)min {
  return OrgApacheLuceneSearchBooleanScorer_advanceWithInt_(self, min);
}

- (void)scoreWindowWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                              withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                                  withInt:(jint)windowBase
                                                  withInt:(jint)windowMin
                                                  withInt:(jint)windowMax {
  OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_(self, collector, acceptDocs, windowBase, windowMin, windowMax);
}

- (jint)scoreWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                        withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                            withInt:(jint)min
                                            withInt:(jint)max {
  ((OrgApacheLuceneSearchFakeScorer *) nil_chk(fakeScorer_))->doc_ = -1;
  [((id<OrgApacheLuceneSearchLeafCollector>) nil_chk(collector)) setScorerWithOrgApacheLuceneSearchScorer:fakeScorer_];
  OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *top = OrgApacheLuceneSearchBooleanScorer_advanceWithInt_(self, min);
  while (((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(top))->next_ < max) {
    jint windowBase = top->next_ & ~OrgApacheLuceneSearchBooleanScorer_MASK;
    jint windowMin = JavaLangMath_maxWithInt_withInt_(min, windowBase);
    jint windowMax = JavaLangMath_minWithInt_withInt_(max, windowBase + OrgApacheLuceneSearchBooleanScorer_SIZE);
    OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_(self, collector, acceptDocs, windowBase, windowMin, windowMax);
    top = [((OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *) nil_chk(head_)) top];
  }
  return top->next_;
}

- (void)dealloc {
  RELEASE_(buckets_);
  RELEASE_(matching_);
  RELEASE_(coordFactors_);
  RELEASE_(leads_);
  RELEASE_(head_);
  RELEASE_(tail_);
  RELEASE_(fakeScorer_);
  RELEASE_(orCollector_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "disableScoringWithOrgApacheLuceneSearchBulkScorer:", "disableScoring", "Lorg.apache.lucene.search.BulkScorer;", 0xa, NULL, NULL },
    { "costWithJavaUtilCollection:withInt:", "cost", "J", 0xa, NULL, "(Ljava/util/Collection<Lorg/apache/lucene/search/BulkScorer;>;I)J" },
    { "initWithOrgApacheLuceneSearchBooleanWeight:withBoolean:withInt:withJavaUtilCollection:withInt:withBoolean:", "BooleanScorer", NULL, 0x0, NULL, "(Lorg/apache/lucene/search/BooleanWeight;ZILjava/util/Collection<Lorg/apache/lucene/search/BulkScorer;>;IZ)V" },
    { "cost", NULL, "J", 0x1, NULL, NULL },
    { "scoreDocumentWithOrgApacheLuceneSearchLeafCollector:withInt:withInt:", "scoreDocument", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "scoreMatchesWithOrgApacheLuceneSearchLeafCollector:withInt:", "scoreMatches", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "scoreWindowWithOrgApacheLuceneSearchLeafCollector:withOrgApacheLuceneUtilBits:withInt:withInt:withInt:withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray:withInt:", "scoreWindow", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "advanceWithInt:", "advance", "Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;", 0x2, "Ljava.io.IOException;", NULL },
    { "scoreWindowWithOrgApacheLuceneSearchLeafCollector:withOrgApacheLuceneUtilBits:withInt:withInt:withInt:", "scoreWindow", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "scoreWithOrgApacheLuceneSearchLeafCollector:withOrgApacheLuceneUtilBits:withInt:withInt:", "score", "I", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "SHIFT", "SHIFT", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_SHIFT },
    { "SIZE", "SIZE", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_SIZE },
    { "MASK", "MASK", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_MASK },
    { "SET_SIZE", "SET_SIZE", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_SET_SIZE },
    { "SET_MASK", "SET_MASK", 0x18, "I", NULL, NULL, .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_SET_MASK },
    { "buckets_", NULL, 0x10, "[Lorg.apache.lucene.search.BooleanScorer$Bucket;", NULL, NULL, .constantValue.asLong = 0 },
    { "matching_", NULL, 0x10, "[J", NULL, NULL, .constantValue.asLong = 0 },
    { "coordFactors_", NULL, 0x10, "[F", NULL, NULL, .constantValue.asLong = 0 },
    { "leads_", NULL, 0x10, "[Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;", NULL, NULL, .constantValue.asLong = 0 },
    { "head_", NULL, 0x10, "Lorg.apache.lucene.search.BooleanScorer$HeadPriorityQueue;", NULL, NULL, .constantValue.asLong = 0 },
    { "tail_", NULL, 0x10, "Lorg.apache.lucene.search.BooleanScorer$TailPriorityQueue;", NULL, NULL, .constantValue.asLong = 0 },
    { "fakeScorer_", NULL, 0x10, "Lorg.apache.lucene.search.FakeScorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "minShouldMatch_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "cost_", NULL, 0x10, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "orCollector_", NULL, 0x10, "Lorg.apache.lucene.search.BooleanScorer$OrCollector;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.search.BooleanScorer$Bucket;", "Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;", "Lorg.apache.lucene.search.BooleanScorer$HeadPriorityQueue;", "Lorg.apache.lucene.search.BooleanScorer$TailPriorityQueue;", "Lorg.apache.lucene.search.BooleanScorer$OrCollector;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer = { 2, "BooleanScorer", "org.apache.lucene.search", NULL, 0x10, 10, methods, 15, fields, 0, NULL, 5, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer;
}

@end

OrgApacheLuceneSearchBulkScorer *OrgApacheLuceneSearchBooleanScorer_disableScoringWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *scorer) {
  OrgApacheLuceneSearchBooleanScorer_initialize();
  return create_OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(scorer);
}

jlong OrgApacheLuceneSearchBooleanScorer_costWithJavaUtilCollection_withInt_(id<JavaUtilCollection> scorers, jint minShouldMatch) {
  OrgApacheLuceneSearchBooleanScorer_initialize();
  OrgApacheLuceneUtilPriorityQueue *pq = create_OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_([((id<JavaUtilCollection>) nil_chk(scorers)) size] - minShouldMatch + 1);
  for (OrgApacheLuceneSearchBulkScorer * __strong scorer in scorers) {
    [pq insertWithOverflowWithId:scorer];
  }
  jlong cost = 0;
  for (OrgApacheLuceneSearchBulkScorer *scorer = [pq pop]; scorer != nil; scorer = [pq pop]) {
    cost += [scorer cost];
  }
  return cost;
}

void OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_(OrgApacheLuceneSearchBooleanScorer *self, OrgApacheLuceneSearchBooleanWeight *weight, jboolean disableCoord, jint maxCoord, id<JavaUtilCollection> scorers, jint minShouldMatch, jboolean needsScores) {
  OrgApacheLuceneSearchBulkScorer_init(self);
  JreStrongAssignAndConsume(&self->buckets_, [IOSObjectArray newArrayWithLength:OrgApacheLuceneSearchBooleanScorer_SIZE type:OrgApacheLuceneSearchBooleanScorer_Bucket_class_()]);
  JreStrongAssignAndConsume(&self->matching_, [IOSLongArray newArrayWithLength:OrgApacheLuceneSearchBooleanScorer_SET_SIZE]);
  JreStrongAssignAndConsume(&self->fakeScorer_, new_OrgApacheLuceneSearchFakeScorer_init());
  JreStrongAssignAndConsume(&self->orCollector_, new_OrgApacheLuceneSearchBooleanScorer_OrCollector_initWithOrgApacheLuceneSearchBooleanScorer_(self));
  if (minShouldMatch < 1 || minShouldMatch > [((id<JavaUtilCollection>) nil_chk(scorers)) size]) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$I", @"minShouldMatch should be within 1..num_scorers. Got ", minShouldMatch));
  }
  for (jint i = 0; i < self->buckets_->size_; i++) {
    IOSObjectArray_SetAndConsume(self->buckets_, i, new_OrgApacheLuceneSearchBooleanScorer_Bucket_init());
  }
  JreStrongAssignAndConsume(&self->leads_, [IOSObjectArray newArrayWithLength:[((id<JavaUtilCollection>) nil_chk(scorers)) size] type:OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_class_()]);
  JreStrongAssignAndConsume(&self->head_, new_OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue_initWithInt_([scorers size] - minShouldMatch + 1));
  JreStrongAssignAndConsume(&self->tail_, new_OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue_initWithInt_(minShouldMatch - 1));
  self->minShouldMatch_ = minShouldMatch;
  for (OrgApacheLuceneSearchBulkScorer * __strong scorer in scorers) {
    if (needsScores == false) {
      scorer = OrgApacheLuceneSearchBooleanScorer_disableScoringWithOrgApacheLuceneSearchBulkScorer_(scorer);
    }
    OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *evicted = [self->tail_ insertWithOverflowWithId:create_OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_(self, scorer)];
    if (evicted != nil) {
      [self->head_ addWithId:evicted];
    }
  }
  self->cost_ = OrgApacheLuceneSearchBooleanScorer_costWithJavaUtilCollection_withInt_(scorers, minShouldMatch);
  JreStrongAssignAndConsume(&self->coordFactors_, [IOSFloatArray newArrayWithLength:[scorers size] + 1]);
  for (jint i = 0; i < self->coordFactors_->size_; i++) {
    *IOSFloatArray_GetRef(self->coordFactors_, i) = disableCoord ? 1.0f : [((OrgApacheLuceneSearchBooleanWeight *) nil_chk(weight)) coordWithInt:i withInt:maxCoord];
  }
}

OrgApacheLuceneSearchBooleanScorer *new_OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_(OrgApacheLuceneSearchBooleanWeight *weight, jboolean disableCoord, jint maxCoord, id<JavaUtilCollection> scorers, jint minShouldMatch, jboolean needsScores) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer, initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_, weight, disableCoord, maxCoord, scorers, minShouldMatch, needsScores)
}

OrgApacheLuceneSearchBooleanScorer *create_OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_(OrgApacheLuceneSearchBooleanWeight *weight, jboolean disableCoord, jint maxCoord, id<JavaUtilCollection> scorers, jint minShouldMatch, jboolean needsScores) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer, initWithOrgApacheLuceneSearchBooleanWeight_withBoolean_withInt_withJavaUtilCollection_withInt_withBoolean_, weight, disableCoord, maxCoord, scorers, minShouldMatch, needsScores)
}

void OrgApacheLuceneSearchBooleanScorer_scoreDocumentWithOrgApacheLuceneSearchLeafCollector_withInt_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, jint base, jint i) {
  OrgApacheLuceneSearchFakeScorer *fakeScorer = self->fakeScorer_;
  OrgApacheLuceneSearchBooleanScorer_Bucket *bucket = IOSObjectArray_Get(nil_chk(self->buckets_), i);
  if (((OrgApacheLuceneSearchBooleanScorer_Bucket *) nil_chk(bucket))->freq_ >= self->minShouldMatch_) {
    ((OrgApacheLuceneSearchFakeScorer *) nil_chk(fakeScorer))->freq_ = bucket->freq_;
    fakeScorer->score_ = (jfloat) bucket->score_ * IOSFloatArray_Get(nil_chk(self->coordFactors_), bucket->freq_);
    jint doc = base | i;
    fakeScorer->doc_ = doc;
    [((id<OrgApacheLuceneSearchLeafCollector>) nil_chk(collector)) collectWithInt:doc];
  }
  bucket->freq_ = 0;
  bucket->score_ = 0;
}

void OrgApacheLuceneSearchBooleanScorer_scoreMatchesWithOrgApacheLuceneSearchLeafCollector_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, jint base) {
  IOSLongArray *matching = self->matching_;
  for (jint idx = 0; idx < ((IOSLongArray *) nil_chk(matching))->size_; idx++) {
    jlong bits = IOSLongArray_Get(matching, idx);
    while (bits != 0LL) {
      jint ntz = JavaLangLong_numberOfTrailingZerosWithLong_(bits);
      jint doc = (JreLShift32(idx, 6)) | ntz;
      OrgApacheLuceneSearchBooleanScorer_scoreDocumentWithOrgApacheLuceneSearchLeafCollector_withInt_withInt_(self, collector, base, doc);
      bits ^= JreLShift64(1LL, ntz);
    }
  }
}

void OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, id<OrgApacheLuceneUtilBits> acceptDocs, jint base, jint min, jint max, IOSObjectArray *scorers, jint numScorers) {
  for (jint i = 0; i < numScorers; ++i) {
    OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *scorer = IOSObjectArray_Get(nil_chk(scorers), i);
    JreAssert((((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(scorer))->next_ < max), (@"org/apache/lucene/search/BooleanScorer.java:252 condition failed: assert scorer.next < max;"));
    [scorer scoreWithOrgApacheLuceneUtilBits:acceptDocs withInt:min withInt:max];
  }
  OrgApacheLuceneSearchBooleanScorer_scoreMatchesWithOrgApacheLuceneSearchLeafCollector_withInt_(self, collector, base);
  JavaUtilArrays_fillWithLongArray_withLong_(self->matching_, 0LL);
}

OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *OrgApacheLuceneSearchBooleanScorer_advanceWithInt_(OrgApacheLuceneSearchBooleanScorer *self, jint min) {
  JreAssert(([((OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *) nil_chk(self->tail_)) size] == self->minShouldMatch_ - 1), (@"org/apache/lucene/search/BooleanScorer.java:261 condition failed: assert tail.size() == minShouldMatch - 1;"));
  OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *head = self->head_;
  OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *tail = self->tail_;
  OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *headTop = [((OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *) nil_chk(head)) top];
  OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *tailTop = [tail top];
  while (((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(headTop))->next_ < min) {
    if (tailTop == nil || headTop->cost_ <= tailTop->cost_) {
      [headTop advanceWithInt:min];
      headTop = [head updateTop];
    }
    else {
      OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *previousHeadTop = headTop;
      [tailTop advanceWithInt:min];
      headTop = [head updateTopWithId:tailTop];
      tailTop = [tail updateTopWithId:previousHeadTop];
    }
  }
  return headTop;
}

void OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_(OrgApacheLuceneSearchBooleanScorer *self, id<OrgApacheLuceneSearchLeafCollector> collector, id<OrgApacheLuceneUtilBits> acceptDocs, jint windowBase, jint windowMin, jint windowMax) {
  IOSObjectArray_Set(nil_chk(self->leads_), 0, [((OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *) nil_chk(self->head_)) pop]);
  jint maxFreq = 1;
  while ([self->head_ size] > 0 && ((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk([self->head_ top]))->next_ < windowMax) {
    IOSObjectArray_Set(self->leads_, maxFreq++, [self->head_ pop]);
  }
  while (maxFreq < self->minShouldMatch_ && maxFreq + [((OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *) nil_chk(self->tail_)) size] >= self->minShouldMatch_) {
    OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *candidate = [((OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *) nil_chk(self->tail_)) pop];
    [((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(candidate)) advanceWithInt:windowMin];
    if (candidate->next_ < windowMax) {
      IOSObjectArray_Set(self->leads_, maxFreq++, candidate);
    }
    else {
      [self->head_ addWithId:candidate];
    }
  }
  if (maxFreq >= self->minShouldMatch_) {
    for (jint i = 0; i < [((OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *) nil_chk(self->tail_)) size]; ++i) {
      IOSObjectArray_Set(self->leads_, maxFreq++, [self->tail_ getWithInt:i]);
    }
    [self->tail_ clear];
    OrgApacheLuceneSearchBooleanScorer_scoreWindowWithOrgApacheLuceneSearchLeafCollector_withOrgApacheLuceneUtilBits_withInt_withInt_withInt_withOrgApacheLuceneSearchBooleanScorer_BulkScorerAndDocArray_withInt_(self, collector, acceptDocs, windowBase, windowMin, windowMax, self->leads_, maxFreq);
  }
  for (jint i = 0; i < maxFreq; ++i) {
    OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *evicted = [self->head_ insertWithOverflowWithId:IOSObjectArray_Get(self->leads_, i)];
    if (evicted != nil) {
      [((OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *) nil_chk(self->tail_)) addWithId:evicted];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer)

@implementation OrgApacheLuceneSearchBooleanScorer_Bucket

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchBooleanScorer_Bucket_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "Bucket", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "score_", NULL, 0x0, "D", NULL, NULL, .constantValue.asLong = 0 },
    { "freq_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_Bucket = { 2, "Bucket", "org.apache.lucene.search", "BooleanScorer", 0x8, 1, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer_Bucket;
}

@end

void OrgApacheLuceneSearchBooleanScorer_Bucket_init(OrgApacheLuceneSearchBooleanScorer_Bucket *self) {
  NSObject_init(self);
}

OrgApacheLuceneSearchBooleanScorer_Bucket *new_OrgApacheLuceneSearchBooleanScorer_Bucket_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_Bucket, init)
}

OrgApacheLuceneSearchBooleanScorer_Bucket *create_OrgApacheLuceneSearchBooleanScorer_Bucket_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_Bucket, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_Bucket)

@implementation OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc

- (instancetype)initWithOrgApacheLuceneSearchBooleanScorer:(OrgApacheLuceneSearchBooleanScorer *)outer$
                       withOrgApacheLuceneSearchBulkScorer:(OrgApacheLuceneSearchBulkScorer *)scorer {
  OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_(self, outer$, scorer);
  return self;
}

- (void)advanceWithInt:(jint)min {
  [self scoreWithOrgApacheLuceneUtilBits:nil withInt:min withInt:min];
}

- (void)scoreWithOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                 withInt:(jint)min
                                 withInt:(jint)max {
  next_ = [((OrgApacheLuceneSearchBulkScorer *) nil_chk(scorer_)) scoreWithOrgApacheLuceneSearchLeafCollector:this$0_->orCollector_ withOrgApacheLuceneUtilBits:acceptDocs withInt:min withInt:max];
}

- (void)__javaClone:(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)original {
  [super __javaClone:original];
  [this$0_ release];
  [scorer_ release];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchBooleanScorer:withOrgApacheLuceneSearchBulkScorer:", "BulkScorerAndDoc", NULL, 0x0, NULL, NULL },
    { "advanceWithInt:", "advance", "V", 0x0, "Ljava.io.IOException;", NULL },
    { "scoreWithOrgApacheLuceneUtilBits:withInt:withInt:", "score", "V", 0x0, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.search.BooleanScorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "scorer_", NULL, 0x10, "Lorg.apache.lucene.search.BulkScorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "cost_", NULL, 0x10, "J", NULL, NULL, .constantValue.asLong = 0 },
    { "next_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc = { 2, "BulkScorerAndDoc", "org.apache.lucene.search", "BooleanScorer", 0x2, 3, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc;
}

@end

void OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *self, OrgApacheLuceneSearchBooleanScorer *outer$, OrgApacheLuceneSearchBulkScorer *scorer) {
  self->this$0_ = outer$;
  NSObject_init(self);
  self->scorer_ = scorer;
  self->cost_ = [((OrgApacheLuceneSearchBulkScorer *) nil_chk(scorer)) cost];
  self->next_ = -1;
}

OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *new_OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBooleanScorer *outer$, OrgApacheLuceneSearchBulkScorer *scorer) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc, initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_, outer$, scorer)
}

OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *create_OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc_initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBooleanScorer *outer$, OrgApacheLuceneSearchBulkScorer *scorer) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc, initWithOrgApacheLuceneSearchBooleanScorer_withOrgApacheLuceneSearchBulkScorer_, outer$, scorer)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc)

@implementation OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue

- (instancetype)initWithInt:(jint)maxSize {
  OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue_initWithInt_(self, maxSize);
  return self;
}

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)a
                    withId:(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)b {
  return ((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(a))->next_ < ((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(b))->next_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "HeadPriorityQueue", NULL, 0x1, NULL, NULL },
    { "lessThanWithId:withId:", "lessThan", "Z", 0x4, NULL, "(Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;)Z" },
  };
  static const char *superclass_type_args[] = {"Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue = { 2, "HeadPriorityQueue", "org.apache.lucene.search", "BooleanScorer", 0x18, 2, methods, 0, NULL, 1, superclass_type_args, 0, NULL, NULL, "Lorg/apache/lucene/util/PriorityQueue<Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;>;" };
  return &_OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue;
}

@end

void OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue_initWithInt_(OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *self, jint maxSize) {
  OrgApacheLuceneUtilPriorityQueue_initWithInt_(self, maxSize);
}

OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *new_OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue_initWithInt_(jint maxSize) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue, initWithInt_, maxSize)
}

OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue *create_OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue_initWithInt_(jint maxSize) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue, initWithInt_, maxSize)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_HeadPriorityQueue)

@implementation OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue

- (instancetype)initWithInt:(jint)maxSize {
  OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue_initWithInt_(self, maxSize);
  return self;
}

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)a
                    withId:(OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)b {
  return ((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(a))->cost_ < ((OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) nil_chk(b))->cost_;
}

- (OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *)getWithInt:(jint)i {
  if (i < 0 || i >= [self size]) {
    @throw create_JavaLangIndexOutOfBoundsException_init();
  }
  return (OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc *) cast_chk(IOSObjectArray_Get(nil_chk([self getHeapArray]), 1 + i), [OrgApacheLuceneSearchBooleanScorer_BulkScorerAndDoc class]);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "TailPriorityQueue", NULL, 0x1, NULL, NULL },
    { "lessThanWithId:withId:", "lessThan", "Z", 0x4, NULL, "(Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;)Z" },
    { "getWithInt:", "get", "Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;", 0x1, NULL, NULL },
  };
  static const char *superclass_type_args[] = {"Lorg.apache.lucene.search.BooleanScorer$BulkScorerAndDoc;"};
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue = { 2, "TailPriorityQueue", "org.apache.lucene.search", "BooleanScorer", 0x18, 3, methods, 0, NULL, 1, superclass_type_args, 0, NULL, NULL, "Lorg/apache/lucene/util/PriorityQueue<Lorg/apache/lucene/search/BooleanScorer$BulkScorerAndDoc;>;" };
  return &_OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue;
}

@end

void OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue_initWithInt_(OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *self, jint maxSize) {
  OrgApacheLuceneUtilPriorityQueue_initWithInt_(self, maxSize);
}

OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *new_OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue_initWithInt_(jint maxSize) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue, initWithInt_, maxSize)
}

OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue *create_OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue_initWithInt_(jint maxSize) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue, initWithInt_, maxSize)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_TailPriorityQueue)

@implementation OrgApacheLuceneSearchBooleanScorer_OrCollector

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
  self->scorer_ = scorer;
}

- (void)collectWithInt:(jint)doc {
  jint i = doc & OrgApacheLuceneSearchBooleanScorer_MASK;
  jint idx = JreURShift32(i, 6);
  *IOSLongArray_GetRef(nil_chk(this$0_->matching_), idx) |= JreLShift64(1LL, i);
  OrgApacheLuceneSearchBooleanScorer_Bucket *bucket = IOSObjectArray_Get(nil_chk(this$0_->buckets_), i);
  ((OrgApacheLuceneSearchBooleanScorer_Bucket *) nil_chk(bucket))->freq_++;
  JrePlusAssignDoubleD(&bucket->score_, [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score]);
}

- (instancetype)initWithOrgApacheLuceneSearchBooleanScorer:(OrgApacheLuceneSearchBooleanScorer *)outer$ {
  OrgApacheLuceneSearchBooleanScorer_OrCollector_initWithOrgApacheLuceneSearchBooleanScorer_(self, outer$);
  return self;
}

- (void)__javaClone:(OrgApacheLuceneSearchBooleanScorer_OrCollector *)original {
  [super __javaClone:original];
  [this$0_ release];
  [scorer_ release];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "setScorerWithOrgApacheLuceneSearchScorer:", "setScorer", "V", 0x1, NULL, NULL },
    { "collectWithInt:", "collect", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "initWithOrgApacheLuceneSearchBooleanScorer:", "OrCollector", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.lucene.search.BooleanScorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "scorer_", NULL, 0x0, "Lorg.apache.lucene.search.Scorer;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_OrCollector = { 2, "OrCollector", "org.apache.lucene.search", "BooleanScorer", 0x10, 3, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer_OrCollector;
}

@end

void OrgApacheLuceneSearchBooleanScorer_OrCollector_initWithOrgApacheLuceneSearchBooleanScorer_(OrgApacheLuceneSearchBooleanScorer_OrCollector *self, OrgApacheLuceneSearchBooleanScorer *outer$) {
  self->this$0_ = outer$;
  NSObject_init(self);
}

OrgApacheLuceneSearchBooleanScorer_OrCollector *new_OrgApacheLuceneSearchBooleanScorer_OrCollector_initWithOrgApacheLuceneSearchBooleanScorer_(OrgApacheLuceneSearchBooleanScorer *outer$) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_OrCollector, initWithOrgApacheLuceneSearchBooleanScorer_, outer$)
}

OrgApacheLuceneSearchBooleanScorer_OrCollector *create_OrgApacheLuceneSearchBooleanScorer_OrCollector_initWithOrgApacheLuceneSearchBooleanScorer_(OrgApacheLuceneSearchBooleanScorer *outer$) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_OrCollector, initWithOrgApacheLuceneSearchBooleanScorer_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_OrCollector)

@implementation OrgApacheLuceneSearchBooleanScorer_$1

- (jint)scoreWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)collector
                        withOrgApacheLuceneUtilBits:(id<OrgApacheLuceneUtilBits>)acceptDocs
                                            withInt:(jint)min
                                            withInt:(jint)max {
  id<OrgApacheLuceneSearchLeafCollector> noScoreCollector = create_OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(collector);
  return [((OrgApacheLuceneSearchBulkScorer *) nil_chk(val$scorer_)) scoreWithOrgApacheLuceneSearchLeafCollector:noScoreCollector withOrgApacheLuceneUtilBits:acceptDocs withInt:min withInt:max];
}

- (jlong)cost {
  return [((OrgApacheLuceneSearchBulkScorer *) nil_chk(val$scorer_)) cost];
}

- (instancetype)initWithOrgApacheLuceneSearchBulkScorer:(OrgApacheLuceneSearchBulkScorer *)capture$0 {
  OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(self, capture$0);
  return self;
}

- (void)dealloc {
  RELEASE_(val$scorer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "scoreWithOrgApacheLuceneSearchLeafCollector:withOrgApacheLuceneUtilBits:withInt:withInt:", "score", "I", 0x1, "Ljava.io.IOException;", NULL },
    { "cost", NULL, "J", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneSearchBulkScorer:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$scorer_", NULL, 0x1012, "Lorg.apache.lucene.search.BulkScorer;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchBooleanScorer", "disableScoringWithOrgApacheLuceneSearchBulkScorer:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_$1 = { 2, "", "org.apache.lucene.search", "BooleanScorer", 0x8008, 3, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer_$1;
}

@end

void OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBooleanScorer_$1 *self, OrgApacheLuceneSearchBulkScorer *capture$0) {
  JreStrongAssign(&self->val$scorer_, capture$0);
  OrgApacheLuceneSearchBulkScorer_init(self);
}

OrgApacheLuceneSearchBooleanScorer_$1 *new_OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *capture$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_$1, initWithOrgApacheLuceneSearchBulkScorer_, capture$0)
}

OrgApacheLuceneSearchBooleanScorer_$1 *create_OrgApacheLuceneSearchBooleanScorer_$1_initWithOrgApacheLuceneSearchBulkScorer_(OrgApacheLuceneSearchBulkScorer *capture$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_$1, initWithOrgApacheLuceneSearchBulkScorer_, capture$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_$1)

@implementation OrgApacheLuceneSearchBooleanScorer_$1_$1

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
  [((id<OrgApacheLuceneSearchLeafCollector>) nil_chk(val$collector_)) setScorerWithOrgApacheLuceneSearchScorer:fake_];
}

- (void)collectWithInt:(jint)doc {
  ((OrgApacheLuceneSearchFakeScorer *) nil_chk(fake_))->doc_ = doc;
  [((id<OrgApacheLuceneSearchLeafCollector>) nil_chk(val$collector_)) collectWithInt:doc];
}

- (instancetype)initWithOrgApacheLuceneSearchLeafCollector:(id<OrgApacheLuceneSearchLeafCollector>)capture$0 {
  OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(self, capture$0);
  return self;
}

- (void)dealloc {
  RELEASE_(fake_);
  RELEASE_(val$collector_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "setScorerWithOrgApacheLuceneSearchScorer:", "setScorer", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "collectWithInt:", "collect", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "initWithOrgApacheLuceneSearchLeafCollector:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "fake_", NULL, 0x0, "Lorg.apache.lucene.search.FakeScorer;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$collector_", NULL, 0x1012, "Lorg.apache.lucene.search.LeafCollector;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchBooleanScorer_$1", "scoreWithOrgApacheLuceneSearchLeafCollector:withOrgApacheLuceneUtilBits:withInt:withInt:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_$1_$1 = { 2, "", "org.apache.lucene.search", "BooleanScorer$", 0x8008, 3, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneSearchBooleanScorer_$1_$1;
}

@end

void OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(OrgApacheLuceneSearchBooleanScorer_$1_$1 *self, id<OrgApacheLuceneSearchLeafCollector> capture$0) {
  JreStrongAssign(&self->val$collector_, capture$0);
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->fake_, new_OrgApacheLuceneSearchFakeScorer_init());
}

OrgApacheLuceneSearchBooleanScorer_$1_$1 *new_OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(id<OrgApacheLuceneSearchLeafCollector> capture$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_$1_$1, initWithOrgApacheLuceneSearchLeafCollector_, capture$0)
}

OrgApacheLuceneSearchBooleanScorer_$1_$1 *create_OrgApacheLuceneSearchBooleanScorer_$1_$1_initWithOrgApacheLuceneSearchLeafCollector_(id<OrgApacheLuceneSearchLeafCollector> capture$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_$1_$1, initWithOrgApacheLuceneSearchLeafCollector_, capture$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_$1_$1)

@implementation OrgApacheLuceneSearchBooleanScorer_$2

- (jboolean)lessThanWithId:(OrgApacheLuceneSearchBulkScorer *)a
                    withId:(OrgApacheLuceneSearchBulkScorer *)b {
  return [((OrgApacheLuceneSearchBulkScorer *) nil_chk(a)) cost] > [((OrgApacheLuceneSearchBulkScorer *) nil_chk(b)) cost];
}

- (instancetype)initWithInt:(jint)arg$0 {
  OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(self, arg$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "lessThanWithId:withId:", "lessThan", "Z", 0x4, NULL, "(Lorg/apache/lucene/search/BulkScorer;Lorg/apache/lucene/search/BulkScorer;)Z" },
    { "initWithInt:", "", NULL, 0x0, NULL, NULL },
  };
  static const char *superclass_type_args[] = {"Lorg.apache.lucene.search.BulkScorer;"};
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneSearchBooleanScorer", "costWithJavaUtilCollection:withInt:" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_$2 = { 2, "", "org.apache.lucene.search", "BooleanScorer", 0x8008, 2, methods, 0, NULL, 1, superclass_type_args, 0, NULL, &enclosing_method, "Lorg/apache/lucene/util/PriorityQueue<Lorg/apache/lucene/search/BulkScorer;>;" };
  return &_OrgApacheLuceneSearchBooleanScorer_$2;
}

@end

void OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(OrgApacheLuceneSearchBooleanScorer_$2 *self, jint arg$0) {
  OrgApacheLuceneUtilPriorityQueue_initWithInt_(self, arg$0);
}

OrgApacheLuceneSearchBooleanScorer_$2 *new_OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(jint arg$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_$2, initWithInt_, arg$0)
}

OrgApacheLuceneSearchBooleanScorer_$2 *create_OrgApacheLuceneSearchBooleanScorer_$2_initWithInt_(jint arg$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_$2, initWithInt_, arg$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_$2)
