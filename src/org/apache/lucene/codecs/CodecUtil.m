//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/codecs/CodecUtil.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Deprecated.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Long.h"
#include "java/lang/Throwable.h"
#include "java/lang/annotation/Annotation.h"
#include "java/nio/charset/Charset.h"
#include "java/util/Arrays.h"
#include "org/apache/lucene/codecs/CodecUtil.h"
#include "org/apache/lucene/index/CorruptIndexException.h"
#include "org/apache/lucene/index/IndexFormatTooNewException.h"
#include "org/apache/lucene/index/IndexFormatTooOldException.h"
#include "org/apache/lucene/store/BufferedChecksumIndexInput.h"
#include "org/apache/lucene/store/ChecksumIndexInput.h"
#include "org/apache/lucene/store/DataInput.h"
#include "org/apache/lucene/store/DataOutput.h"
#include "org/apache/lucene/store/IndexInput.h"
#include "org/apache/lucene/store/IndexOutput.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/IOUtils.h"
#include "org/apache/lucene/util/StringHelper.h"
#include "org/lukhnos/portmobile/charset/StandardCharsets.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/codecs/CodecUtil must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneCodecsCodecUtil ()

- (instancetype)init;

+ (void)validateFooterWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg;

@end

__attribute__((unused)) static void OrgApacheLuceneCodecsCodecUtil_init(OrgApacheLuceneCodecsCodecUtil *self);

__attribute__((unused)) static OrgApacheLuceneCodecsCodecUtil *new_OrgApacheLuceneCodecsCodecUtil_init(void) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneCodecsCodecUtil *create_OrgApacheLuceneCodecsCodecUtil_init(void);

__attribute__((unused)) static void OrgApacheLuceneCodecsCodecUtil_validateFooterWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *inArg);

__attribute__((unused)) static IOSObjectArray *OrgApacheLuceneCodecsCodecUtil__Annotations$0(void);

@implementation OrgApacheLuceneCodecsCodecUtil

+ (jint)CODEC_MAGIC {
  return OrgApacheLuceneCodecsCodecUtil_CODEC_MAGIC;
}

+ (jint)FOOTER_MAGIC {
  return OrgApacheLuceneCodecsCodecUtil_FOOTER_MAGIC;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneCodecsCodecUtil_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (void)writeHeaderWithOrgApacheLuceneStoreDataOutput:(OrgApacheLuceneStoreDataOutput *)outArg
                                         withNSString:(NSString *)codec
                                              withInt:(jint)version_ {
  OrgApacheLuceneCodecsCodecUtil_writeHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_(outArg, codec, version_);
}

+ (void)writeIndexHeaderWithOrgApacheLuceneStoreDataOutput:(OrgApacheLuceneStoreDataOutput *)outArg
                                              withNSString:(NSString *)codec
                                                   withInt:(jint)version_
                                             withByteArray:(IOSByteArray *)id_
                                              withNSString:(NSString *)suffix {
  OrgApacheLuceneCodecsCodecUtil_writeIndexHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_withByteArray_withNSString_(outArg, codec, version_, id_, suffix);
}

+ (jint)headerLengthWithNSString:(NSString *)codec {
  return OrgApacheLuceneCodecsCodecUtil_headerLengthWithNSString_(codec);
}

+ (jint)indexHeaderLengthWithNSString:(NSString *)codec
                         withNSString:(NSString *)suffix {
  return OrgApacheLuceneCodecsCodecUtil_indexHeaderLengthWithNSString_withNSString_(codec, suffix);
}

+ (jint)checkHeaderWithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)inArg
                                        withNSString:(NSString *)codec
                                             withInt:(jint)minVersion
                                             withInt:(jint)maxVersion {
  return OrgApacheLuceneCodecsCodecUtil_checkHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(inArg, codec, minVersion, maxVersion);
}

+ (jint)checkHeaderNoMagicWithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)inArg
                                               withNSString:(NSString *)codec
                                                    withInt:(jint)minVersion
                                                    withInt:(jint)maxVersion {
  return OrgApacheLuceneCodecsCodecUtil_checkHeaderNoMagicWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(inArg, codec, minVersion, maxVersion);
}

+ (jint)checkIndexHeaderWithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)inArg
                                             withNSString:(NSString *)codec
                                                  withInt:(jint)minVersion
                                                  withInt:(jint)maxVersion
                                            withByteArray:(IOSByteArray *)expectedID
                                             withNSString:(NSString *)expectedSuffix {
  return OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_withByteArray_withNSString_(inArg, codec, minVersion, maxVersion, expectedID, expectedSuffix);
}

+ (IOSByteArray *)checkIndexHeaderIDWithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)inArg
                                                        withByteArray:(IOSByteArray *)expectedID {
  return OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderIDWithOrgApacheLuceneStoreDataInput_withByteArray_(inArg, expectedID);
}

+ (NSString *)checkIndexHeaderSuffixWithOrgApacheLuceneStoreDataInput:(OrgApacheLuceneStoreDataInput *)inArg
                                                         withNSString:(NSString *)expectedSuffix {
  return OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderSuffixWithOrgApacheLuceneStoreDataInput_withNSString_(inArg, expectedSuffix);
}

+ (void)writeFooterWithOrgApacheLuceneStoreIndexOutput:(OrgApacheLuceneStoreIndexOutput *)outArg {
  OrgApacheLuceneCodecsCodecUtil_writeFooterWithOrgApacheLuceneStoreIndexOutput_(outArg);
}

+ (jint)footerLength {
  return OrgApacheLuceneCodecsCodecUtil_footerLength();
}

+ (jlong)checkFooterWithOrgApacheLuceneStoreChecksumIndexInput:(OrgApacheLuceneStoreChecksumIndexInput *)inArg {
  return OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(inArg);
}

+ (void)checkFooterWithOrgApacheLuceneStoreChecksumIndexInput:(OrgApacheLuceneStoreChecksumIndexInput *)inArg
                                        withJavaLangThrowable:(JavaLangThrowable *)priorException {
  OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_withJavaLangThrowable_(inArg, priorException);
}

+ (jlong)retrieveChecksumWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg {
  return OrgApacheLuceneCodecsCodecUtil_retrieveChecksumWithOrgApacheLuceneStoreIndexInput_(inArg);
}

+ (void)validateFooterWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg {
  OrgApacheLuceneCodecsCodecUtil_validateFooterWithOrgApacheLuceneStoreIndexInput_(inArg);
}

+ (void)checkEOFWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)inArg {
  OrgApacheLuceneCodecsCodecUtil_checkEOFWithOrgApacheLuceneStoreIndexInput_(inArg);
}

+ (jlong)checksumEntireFileWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)input {
  return OrgApacheLuceneCodecsCodecUtil_checksumEntireFileWithOrgApacheLuceneStoreIndexInput_(input);
}

+ (jlong)readCRCWithOrgApacheLuceneStoreIndexInput:(OrgApacheLuceneStoreIndexInput *)input {
  return OrgApacheLuceneCodecsCodecUtil_readCRCWithOrgApacheLuceneStoreIndexInput_(input);
}

+ (void)writeCRCWithOrgApacheLuceneStoreIndexOutput:(OrgApacheLuceneStoreIndexOutput *)output {
  OrgApacheLuceneCodecsCodecUtil_writeCRCWithOrgApacheLuceneStoreIndexOutput_(output);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x9, 0, 1, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 3, 4, 2, -1, -1, -1 },
    { NULL, "I", 0x9, 5, 6, -1, -1, -1, -1 },
    { NULL, "I", 0x9, 7, 8, -1, -1, -1, -1 },
    { NULL, "I", 0x9, 9, 10, 2, -1, -1, -1 },
    { NULL, "I", 0x9, 11, 10, 2, -1, -1, -1 },
    { NULL, "I", 0x9, 12, 13, 2, -1, -1, -1 },
    { NULL, "[B", 0x9, 14, 15, 2, -1, -1, -1 },
    { NULL, "LNSString;", 0x9, 16, 17, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 18, 19, 2, -1, -1, -1 },
    { NULL, "I", 0x9, -1, -1, -1, -1, -1, -1 },
    { NULL, "J", 0x9, 20, 21, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 20, 22, 2, -1, -1, -1 },
    { NULL, "J", 0x9, 23, 24, 2, -1, -1, -1 },
    { NULL, "V", 0xa, 25, 24, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 26, 24, 2, -1, 27, -1 },
    { NULL, "J", 0x9, 28, 24, 2, -1, -1, -1 },
    { NULL, "J", 0x9, 29, 24, 2, -1, -1, -1 },
    { NULL, "V", 0x9, 30, 19, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(writeHeaderWithOrgApacheLuceneStoreDataOutput:withNSString:withInt:);
  methods[2].selector = @selector(writeIndexHeaderWithOrgApacheLuceneStoreDataOutput:withNSString:withInt:withByteArray:withNSString:);
  methods[3].selector = @selector(headerLengthWithNSString:);
  methods[4].selector = @selector(indexHeaderLengthWithNSString:withNSString:);
  methods[5].selector = @selector(checkHeaderWithOrgApacheLuceneStoreDataInput:withNSString:withInt:withInt:);
  methods[6].selector = @selector(checkHeaderNoMagicWithOrgApacheLuceneStoreDataInput:withNSString:withInt:withInt:);
  methods[7].selector = @selector(checkIndexHeaderWithOrgApacheLuceneStoreDataInput:withNSString:withInt:withInt:withByteArray:withNSString:);
  methods[8].selector = @selector(checkIndexHeaderIDWithOrgApacheLuceneStoreDataInput:withByteArray:);
  methods[9].selector = @selector(checkIndexHeaderSuffixWithOrgApacheLuceneStoreDataInput:withNSString:);
  methods[10].selector = @selector(writeFooterWithOrgApacheLuceneStoreIndexOutput:);
  methods[11].selector = @selector(footerLength);
  methods[12].selector = @selector(checkFooterWithOrgApacheLuceneStoreChecksumIndexInput:);
  methods[13].selector = @selector(checkFooterWithOrgApacheLuceneStoreChecksumIndexInput:withJavaLangThrowable:);
  methods[14].selector = @selector(retrieveChecksumWithOrgApacheLuceneStoreIndexInput:);
  methods[15].selector = @selector(validateFooterWithOrgApacheLuceneStoreIndexInput:);
  methods[16].selector = @selector(checkEOFWithOrgApacheLuceneStoreIndexInput:);
  methods[17].selector = @selector(checksumEntireFileWithOrgApacheLuceneStoreIndexInput:);
  methods[18].selector = @selector(readCRCWithOrgApacheLuceneStoreIndexInput:);
  methods[19].selector = @selector(writeCRCWithOrgApacheLuceneStoreIndexOutput:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "CODEC_MAGIC", "I", .constantValue.asInt = OrgApacheLuceneCodecsCodecUtil_CODEC_MAGIC, 0x19, -1, -1, -1, -1 },
    { "FOOTER_MAGIC", "I", .constantValue.asInt = OrgApacheLuceneCodecsCodecUtil_FOOTER_MAGIC, 0x19, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "writeHeader", "LOrgApacheLuceneStoreDataOutput;LNSString;I", "LJavaIoIOException;", "writeIndexHeader", "LOrgApacheLuceneStoreDataOutput;LNSString;I[BLNSString;", "headerLength", "LNSString;", "indexHeaderLength", "LNSString;LNSString;", "checkHeader", "LOrgApacheLuceneStoreDataInput;LNSString;II", "checkHeaderNoMagic", "checkIndexHeader", "LOrgApacheLuceneStoreDataInput;LNSString;II[BLNSString;", "checkIndexHeaderID", "LOrgApacheLuceneStoreDataInput;[B", "checkIndexHeaderSuffix", "LOrgApacheLuceneStoreDataInput;LNSString;", "writeFooter", "LOrgApacheLuceneStoreIndexOutput;", "checkFooter", "LOrgApacheLuceneStoreChecksumIndexInput;", "LOrgApacheLuceneStoreChecksumIndexInput;LJavaLangThrowable;", "retrieveChecksum", "LOrgApacheLuceneStoreIndexInput;", "validateFooter", "checkEOF", (void *)&OrgApacheLuceneCodecsCodecUtil__Annotations$0, "checksumEntireFile", "readCRC", "writeCRC" };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsCodecUtil = { "CodecUtil", "org.apache.lucene.codecs", ptrTable, methods, fields, 7, 0x11, 20, 2, -1, -1, -1, -1, -1 };
  return &_OrgApacheLuceneCodecsCodecUtil;
}

@end

void OrgApacheLuceneCodecsCodecUtil_init(OrgApacheLuceneCodecsCodecUtil *self) {
  NSObject_init(self);
}

OrgApacheLuceneCodecsCodecUtil *new_OrgApacheLuceneCodecsCodecUtil_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsCodecUtil, init)
}

OrgApacheLuceneCodecsCodecUtil *create_OrgApacheLuceneCodecsCodecUtil_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsCodecUtil, init)
}

void OrgApacheLuceneCodecsCodecUtil_writeHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_(OrgApacheLuceneStoreDataOutput *outArg, NSString *codec, jint version_) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  OrgApacheLuceneUtilBytesRef *bytes = create_OrgApacheLuceneUtilBytesRef_initWithJavaLangCharSequence_(codec);
  if (bytes->length_ != [((NSString *) nil_chk(codec)) java_length] || bytes->length_ >= 128) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$C", @"codec must be simple ASCII, less than 128 characters in length [got ", codec, ']'));
  }
  [((OrgApacheLuceneStoreDataOutput *) nil_chk(outArg)) writeIntWithInt:OrgApacheLuceneCodecsCodecUtil_CODEC_MAGIC];
  [outArg writeStringWithNSString:codec];
  [outArg writeIntWithInt:version_];
}

void OrgApacheLuceneCodecsCodecUtil_writeIndexHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_withByteArray_withNSString_(OrgApacheLuceneStoreDataOutput *outArg, NSString *codec, jint version_, IOSByteArray *id_, NSString *suffix) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  if (((IOSByteArray *) nil_chk(id_))->size_ != OrgApacheLuceneUtilStringHelper_ID_LENGTH) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$", @"Invalid id: ", OrgApacheLuceneUtilStringHelper_idToStringWithByteArray_(id_)));
  }
  OrgApacheLuceneCodecsCodecUtil_writeHeaderWithOrgApacheLuceneStoreDataOutput_withNSString_withInt_(outArg, codec, version_);
  [((OrgApacheLuceneStoreDataOutput *) nil_chk(outArg)) writeBytesWithByteArray:id_ withInt:0 withInt:id_->size_];
  OrgApacheLuceneUtilBytesRef *suffixBytes = create_OrgApacheLuceneUtilBytesRef_initWithJavaLangCharSequence_(suffix);
  if (suffixBytes->length_ != [((NSString *) nil_chk(suffix)) java_length] || suffixBytes->length_ >= 256) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$C", @"codec must be simple ASCII, less than 256 characters in length [got ", suffix, ']'));
  }
  [outArg writeByteWithByte:(jbyte) suffixBytes->length_];
  [outArg writeBytesWithByteArray:suffixBytes->bytes_ withInt:suffixBytes->offset_ withInt:suffixBytes->length_];
}

jint OrgApacheLuceneCodecsCodecUtil_headerLengthWithNSString_(NSString *codec) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  return 9 + [((NSString *) nil_chk(codec)) java_length];
}

jint OrgApacheLuceneCodecsCodecUtil_indexHeaderLengthWithNSString_withNSString_(NSString *codec, NSString *suffix) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  return OrgApacheLuceneCodecsCodecUtil_headerLengthWithNSString_(codec) + OrgApacheLuceneUtilStringHelper_ID_LENGTH + 1 + [((NSString *) nil_chk(suffix)) java_length];
}

jint OrgApacheLuceneCodecsCodecUtil_checkHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(OrgApacheLuceneStoreDataInput *inArg, NSString *codec, jint minVersion, jint maxVersion) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jint actualHeader = [((OrgApacheLuceneStoreDataInput *) nil_chk(inArg)) readInt];
  if (actualHeader != OrgApacheLuceneCodecsCodecUtil_CODEC_MAGIC) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$I$I", @"codec header mismatch: actual header=", actualHeader, @" vs expected header=", OrgApacheLuceneCodecsCodecUtil_CODEC_MAGIC), inArg);
  }
  return OrgApacheLuceneCodecsCodecUtil_checkHeaderNoMagicWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(inArg, codec, minVersion, maxVersion);
}

jint OrgApacheLuceneCodecsCodecUtil_checkHeaderNoMagicWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(OrgApacheLuceneStoreDataInput *inArg, NSString *codec, jint minVersion, jint maxVersion) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  NSString *actualCodec = [((OrgApacheLuceneStoreDataInput *) nil_chk(inArg)) readString];
  if (![((NSString *) nil_chk(actualCodec)) isEqual:codec]) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$$", @"codec mismatch: actual codec=", actualCodec, @" vs expected codec=", codec), inArg);
  }
  jint actualVersion = [inArg readInt];
  if (actualVersion < minVersion) {
    @throw create_OrgApacheLuceneIndexIndexFormatTooOldException_initWithOrgApacheLuceneStoreDataInput_withInt_withInt_withInt_(inArg, actualVersion, minVersion, maxVersion);
  }
  if (actualVersion > maxVersion) {
    @throw create_OrgApacheLuceneIndexIndexFormatTooNewException_initWithOrgApacheLuceneStoreDataInput_withInt_withInt_withInt_(inArg, actualVersion, minVersion, maxVersion);
  }
  return actualVersion;
}

jint OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_withByteArray_withNSString_(OrgApacheLuceneStoreDataInput *inArg, NSString *codec, jint minVersion, jint maxVersion, IOSByteArray *expectedID, NSString *expectedSuffix) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jint version_ = OrgApacheLuceneCodecsCodecUtil_checkHeaderWithOrgApacheLuceneStoreDataInput_withNSString_withInt_withInt_(inArg, codec, minVersion, maxVersion);
  OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderIDWithOrgApacheLuceneStoreDataInput_withByteArray_(inArg, expectedID);
  OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderSuffixWithOrgApacheLuceneStoreDataInput_withNSString_(inArg, expectedSuffix);
  return version_;
}

IOSByteArray *OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderIDWithOrgApacheLuceneStoreDataInput_withByteArray_(OrgApacheLuceneStoreDataInput *inArg, IOSByteArray *expectedID) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  IOSByteArray *id_ = [IOSByteArray arrayWithLength:OrgApacheLuceneUtilStringHelper_ID_LENGTH];
  [((OrgApacheLuceneStoreDataInput *) nil_chk(inArg)) readBytesWithByteArray:id_ withInt:0 withInt:id_->size_];
  if (!JavaUtilArrays_equalsWithByteArray_withByteArray_(id_, expectedID)) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$$", @"file mismatch, expected id=", OrgApacheLuceneUtilStringHelper_idToStringWithByteArray_(expectedID), @", got=", OrgApacheLuceneUtilStringHelper_idToStringWithByteArray_(id_)), inArg);
  }
  return id_;
}

NSString *OrgApacheLuceneCodecsCodecUtil_checkIndexHeaderSuffixWithOrgApacheLuceneStoreDataInput_withNSString_(OrgApacheLuceneStoreDataInput *inArg, NSString *expectedSuffix) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jint suffixLength = [((OrgApacheLuceneStoreDataInput *) nil_chk(inArg)) readByte] & (jint) 0xFF;
  IOSByteArray *suffixBytes = [IOSByteArray arrayWithLength:suffixLength];
  [inArg readBytesWithByteArray:suffixBytes withInt:0 withInt:suffixBytes->size_];
  NSString *suffix = [NSString java_stringWithBytes:suffixBytes offset:0 length:suffixBytes->size_ charset:JreLoadStatic(OrgLukhnosPortmobileCharsetStandardCharsets, UTF_8)];
  if (![suffix isEqual:expectedSuffix]) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$$", @"file mismatch, expected suffix=", expectedSuffix, @", got=", suffix), inArg);
  }
  return suffix;
}

void OrgApacheLuceneCodecsCodecUtil_writeFooterWithOrgApacheLuceneStoreIndexOutput_(OrgApacheLuceneStoreIndexOutput *outArg) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  [((OrgApacheLuceneStoreIndexOutput *) nil_chk(outArg)) writeIntWithInt:OrgApacheLuceneCodecsCodecUtil_FOOTER_MAGIC];
  [outArg writeIntWithInt:0];
  OrgApacheLuceneCodecsCodecUtil_writeCRCWithOrgApacheLuceneStoreIndexOutput_(outArg);
}

jint OrgApacheLuceneCodecsCodecUtil_footerLength() {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  return 16;
}

jlong OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(OrgApacheLuceneStoreChecksumIndexInput *inArg) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  OrgApacheLuceneCodecsCodecUtil_validateFooterWithOrgApacheLuceneStoreIndexInput_(inArg);
  jlong actualChecksum = [((OrgApacheLuceneStoreChecksumIndexInput *) nil_chk(inArg)) getChecksum];
  jlong expectedChecksum = OrgApacheLuceneCodecsCodecUtil_readCRCWithOrgApacheLuceneStoreIndexInput_(inArg);
  if (expectedChecksum != actualChecksum) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$$", @"checksum failed (hardware problem?) : expected=", JavaLangLong_toHexStringWithLong_(expectedChecksum), @" actual=", JavaLangLong_toHexStringWithLong_(actualChecksum)), inArg);
  }
  return actualChecksum;
}

void OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_withJavaLangThrowable_(OrgApacheLuceneStoreChecksumIndexInput *inArg, JavaLangThrowable *priorException) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  if (priorException == nil) {
    OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(inArg);
  }
  else {
    @try {
      jlong remaining = [((OrgApacheLuceneStoreChecksumIndexInput *) nil_chk(inArg)) length] - [inArg getFilePointer];
      if (remaining < OrgApacheLuceneCodecsCodecUtil_footerLength()) {
        [priorException addSuppressedWithJavaLangThrowable:create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$", @"checksum status indeterminate: remaining=", remaining, @", please run checkindex for more details"), inArg)];
      }
      else {
        [inArg skipBytesWithLong:remaining - OrgApacheLuceneCodecsCodecUtil_footerLength()];
        @try {
          jlong checksum = OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(inArg);
          [priorException addSuppressedWithJavaLangThrowable:create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$$$", @"checksum passed (", JavaLangLong_toHexStringWithLong_(checksum), @"). possibly transient resource issue, or a Lucene or JVM bug"), inArg)];
        }
        @catch (OrgApacheLuceneIndexCorruptIndexException *t) {
          [priorException addSuppressedWithJavaLangThrowable:t];
        }
      }
    }
    @catch (JavaLangThrowable *t) {
      [priorException addSuppressedWithJavaLangThrowable:create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_withJavaLangThrowable_(@"checksum status indeterminate: unexpected exception", inArg, t)];
    }
    OrgApacheLuceneUtilIOUtils_reThrowWithJavaLangThrowable_(priorException);
  }
}

jlong OrgApacheLuceneCodecsCodecUtil_retrieveChecksumWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *inArg) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  [((OrgApacheLuceneStoreIndexInput *) nil_chk(inArg)) seekWithLong:[inArg length] - OrgApacheLuceneCodecsCodecUtil_footerLength()];
  OrgApacheLuceneCodecsCodecUtil_validateFooterWithOrgApacheLuceneStoreIndexInput_(inArg);
  return OrgApacheLuceneCodecsCodecUtil_readCRCWithOrgApacheLuceneStoreIndexInput_(inArg);
}

void OrgApacheLuceneCodecsCodecUtil_validateFooterWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *inArg) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jlong remaining = [((OrgApacheLuceneStoreIndexInput *) nil_chk(inArg)) length] - [inArg getFilePointer];
  jlong expected = OrgApacheLuceneCodecsCodecUtil_footerLength();
  if (remaining < expected) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$J", @"misplaced codec footer (file truncated?): remaining=", remaining, @", expected=", expected), inArg);
  }
  else if (remaining > expected) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$J", @"misplaced codec footer (file extended?): remaining=", remaining, @", expected=", expected), inArg);
  }
  jint magic = [inArg readInt];
  if (magic != OrgApacheLuceneCodecsCodecUtil_FOOTER_MAGIC) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$I$I", @"codec footer mismatch (file truncated?): actual footer=", magic, @" vs expected footer=", OrgApacheLuceneCodecsCodecUtil_FOOTER_MAGIC), inArg);
  }
  jint algorithmID = [inArg readInt];
  if (algorithmID != 0) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$I", @"codec footer mismatch: unknown algorithmID: ", algorithmID), inArg);
  }
}

void OrgApacheLuceneCodecsCodecUtil_checkEOFWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *inArg) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  if ([((OrgApacheLuceneStoreIndexInput *) nil_chk(inArg)) getFilePointer] != [inArg length]) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J$J", @"did not read all bytes from file: read ", [inArg getFilePointer], @" vs size ", [inArg length]), inArg);
  }
}

jlong OrgApacheLuceneCodecsCodecUtil_checksumEntireFileWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *input) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  OrgApacheLuceneStoreIndexInput *clone = JreRetainedLocalValue([((OrgApacheLuceneStoreIndexInput *) nil_chk(input)) java_clone]);
  [((OrgApacheLuceneStoreIndexInput *) nil_chk(clone)) seekWithLong:0];
  OrgApacheLuceneStoreChecksumIndexInput *in = create_OrgApacheLuceneStoreBufferedChecksumIndexInput_initWithOrgApacheLuceneStoreIndexInput_(clone);
  JreAssert([in getFilePointer] == 0, @"org/apache/lucene/codecs/CodecUtil.java:447 condition failed: assert in.getFilePointer() == 0;");
  [in seekWithLong:[in length] - OrgApacheLuceneCodecsCodecUtil_footerLength()];
  return OrgApacheLuceneCodecsCodecUtil_checkFooterWithOrgApacheLuceneStoreChecksumIndexInput_(in);
}

jlong OrgApacheLuceneCodecsCodecUtil_readCRCWithOrgApacheLuceneStoreIndexInput_(OrgApacheLuceneStoreIndexInput *input) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jlong value = [((OrgApacheLuceneStoreIndexInput *) nil_chk(input)) readLong];
  if ((value & (jlong) 0xFFFFFFFF00000000LL) != 0) {
    @throw create_OrgApacheLuceneIndexCorruptIndexException_initWithNSString_withOrgApacheLuceneStoreDataInput_(JreStrcat("$J", @"Illegal CRC-32 checksum: ", value), input);
  }
  return value;
}

void OrgApacheLuceneCodecsCodecUtil_writeCRCWithOrgApacheLuceneStoreIndexOutput_(OrgApacheLuceneStoreIndexOutput *output) {
  OrgApacheLuceneCodecsCodecUtil_initialize();
  jlong value = [((OrgApacheLuceneStoreIndexOutput *) nil_chk(output)) getChecksum];
  if ((value & (jlong) 0xFFFFFFFF00000000LL) != 0) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$J$@C", @"Illegal CRC-32 checksum: ", value, @" (resource=", output, ')'));
  }
  [output writeLongWithLong:value];
}

IOSObjectArray *OrgApacheLuceneCodecsCodecUtil__Annotations$0() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsCodecUtil)
