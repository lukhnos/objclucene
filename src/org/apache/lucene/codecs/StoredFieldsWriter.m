//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/codecs/StoredFieldsWriter.java
//

#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/Reader.h"
#include "java/lang/Double.h"
#include "java/lang/Float.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/nio/charset/Charset.h"
#include "org/apache/lucene/analysis/Analyzer.h"
#include "org/apache/lucene/analysis/TokenStream.h"
#include "org/apache/lucene/codecs/StoredFieldsReader.h"
#include "org/apache/lucene/codecs/StoredFieldsWriter.h"
#include "org/apache/lucene/document/FieldType.h"
#include "org/apache/lucene/document/StoredField.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInfos.h"
#include "org/apache/lucene/index/IndexableField.h"
#include "org/apache/lucene/index/IndexableFieldType.h"
#include "org/apache/lucene/index/MergeState.h"
#include "org/apache/lucene/index/StoredFieldVisitor.h"
#include "org/apache/lucene/util/Bits.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/lukhnos/portmobile/charset/StandardCharsets.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/codecs/StoredFieldsWriter must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor () {
 @public
  OrgApacheLuceneCodecsStoredFieldsWriter *this$0_;
}

@end

@implementation OrgApacheLuceneCodecsStoredFieldsWriter

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneCodecsStoredFieldsWriter_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)startDocument {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)finishDocument {
}

- (void)writeFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)info
             withOrgApacheLuceneIndexIndexableField:(id<OrgApacheLuceneIndexIndexableField>)field {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)finishWithOrgApacheLuceneIndexFieldInfos:(OrgApacheLuceneIndexFieldInfos *)fis
                                         withInt:(jint)numDocs {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (jint)mergeWithOrgApacheLuceneIndexMergeState:(OrgApacheLuceneIndexMergeState *)mergeState {
  jint docCount = 0;
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(((OrgApacheLuceneIndexMergeState *) nil_chk(mergeState))->storedFieldsReaders_))->size_; i++) {
    OrgApacheLuceneCodecsStoredFieldsReader *storedFieldsReader = IOSObjectArray_Get(mergeState->storedFieldsReaders_, i);
    [((OrgApacheLuceneCodecsStoredFieldsReader *) nil_chk(storedFieldsReader)) checkIntegrity];
    OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor *visitor = create_OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor_initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_(self, mergeState, i);
    jint maxDoc = IOSIntArray_Get(nil_chk(mergeState->maxDocs_), i);
    id<OrgApacheLuceneUtilBits> liveDocs = IOSObjectArray_Get(nil_chk(mergeState->liveDocs_), i);
    for (jint docID = 0; docID < maxDoc; docID++) {
      if (liveDocs != nil && ![liveDocs getWithInt:docID]) {
        continue;
      }
      [self startDocument];
      [storedFieldsReader visitDocumentWithInt:docID withOrgApacheLuceneIndexStoredFieldVisitor:visitor];
      [self finishDocument];
      docCount++;
    }
  }
  [self finishWithOrgApacheLuceneIndexFieldInfos:mergeState->mergeFieldInfos_ withInt:docCount];
  return docCount;
}

- (void)close {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x401, -1, -1, 0, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, 0, -1, -1, -1 },
    { NULL, "V", 0x401, 1, 2, 0, -1, -1, -1 },
    { NULL, "V", 0x401, 3, 4, 0, -1, -1, -1 },
    { NULL, "I", 0x1, 5, 6, 0, -1, -1, -1 },
    { NULL, "V", 0x401, -1, -1, 0, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(startDocument);
  methods[2].selector = @selector(finishDocument);
  methods[3].selector = @selector(writeFieldWithOrgApacheLuceneIndexFieldInfo:withOrgApacheLuceneIndexIndexableField:);
  methods[4].selector = @selector(finishWithOrgApacheLuceneIndexFieldInfos:withInt:);
  methods[5].selector = @selector(mergeWithOrgApacheLuceneIndexMergeState:);
  methods[6].selector = @selector(close);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LJavaIoIOException;", "writeField", "LOrgApacheLuceneIndexFieldInfo;LOrgApacheLuceneIndexIndexableField;", "finish", "LOrgApacheLuceneIndexFieldInfos;I", "merge", "LOrgApacheLuceneIndexMergeState;", "LOrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor;" };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsStoredFieldsWriter = { "StoredFieldsWriter", "org.apache.lucene.codecs", ptrTable, methods, NULL, 7, 0x401, 7, 0, -1, 7, -1, -1, -1 };
  return &_OrgApacheLuceneCodecsStoredFieldsWriter;
}

@end

void OrgApacheLuceneCodecsStoredFieldsWriter_init(OrgApacheLuceneCodecsStoredFieldsWriter *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsStoredFieldsWriter)

@implementation OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor

- (instancetype)initWithOrgApacheLuceneCodecsStoredFieldsWriter:(OrgApacheLuceneCodecsStoredFieldsWriter *)outer$
                             withOrgApacheLuceneIndexMergeState:(OrgApacheLuceneIndexMergeState *)mergeState
                                                        withInt:(jint)readerIndex {
  OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor_initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_(self, outer$, mergeState, readerIndex);
  return self;
}

- (void)binaryFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                       withByteArray:(IOSByteArray *)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssignAndConsume(&binaryValue_, new_OrgApacheLuceneUtilBytesRef_initWithByteArray_(value));
  [self write];
}

- (void)stringFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                       withByteArray:(IOSByteArray *)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssign(&stringValue_, [NSString java_stringWithBytes:value charset:JreLoadStatic(OrgLukhnosPortmobileCharsetStandardCharsets, UTF_8)]);
  [self write];
}

- (void)intFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                          withInt:(jint)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssign(&numericValue_, JavaLangInteger_valueOfWithInt_(value));
  [self write];
}

- (void)longFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                          withLong:(jlong)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssign(&numericValue_, JavaLangLong_valueOfWithLong_(value));
  [self write];
}

- (void)floatFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                          withFloat:(jfloat)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssign(&numericValue_, JavaLangFloat_valueOfWithFloat_(value));
  [self write];
}

- (void)doubleFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo
                                          withDouble:(jdouble)value {
  [self resetWithOrgApacheLuceneIndexFieldInfo:fieldInfo];
  JreStrongAssign(&numericValue_, JavaLangDouble_valueOfWithDouble_(value));
  [self write];
}

- (OrgApacheLuceneIndexStoredFieldVisitor_Status *)needsFieldWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo {
  return JreLoadEnum(OrgApacheLuceneIndexStoredFieldVisitor_Status, YES);
}

- (NSString *)name {
  return ((OrgApacheLuceneIndexFieldInfo *) nil_chk(currentField_))->name_;
}

- (id<OrgApacheLuceneIndexIndexableFieldType>)fieldType {
  return JreLoadStatic(OrgApacheLuceneDocumentStoredField, TYPE);
}

- (OrgApacheLuceneUtilBytesRef *)binaryValue {
  return binaryValue_;
}

- (NSString *)stringValue {
  return stringValue_;
}

- (NSNumber *)numericValue {
  return numericValue_;
}

- (JavaIoReader *)readerValue {
  return nil;
}

- (jfloat)boost {
  return 1.0f;
}

- (OrgApacheLuceneAnalysisTokenStream *)tokenStreamWithOrgApacheLuceneAnalysisAnalyzer:(OrgApacheLuceneAnalysisAnalyzer *)analyzer
                                                withOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)reuse {
  return nil;
}

- (void)resetWithOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)field {
  if (remapper_ != nil) {
    JreStrongAssign(&currentField_, [remapper_ fieldInfoWithNSString:((OrgApacheLuceneIndexFieldInfo *) nil_chk(field))->name_]);
  }
  else {
    JreStrongAssign(&currentField_, field);
  }
  JreStrongAssign(&binaryValue_, nil);
  JreStrongAssign(&stringValue_, nil);
  JreStrongAssign(&numericValue_, nil);
}

- (void)write {
  [this$0_ writeFieldWithOrgApacheLuceneIndexFieldInfo:currentField_ withOrgApacheLuceneIndexIndexableField:self];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(binaryValue_);
  RELEASE_(stringValue_);
  RELEASE_(numericValue_);
  RELEASE_(currentField_);
  RELEASE_(remapper_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 5, 6, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 8, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 9, 10, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 11, 12, 3, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneIndexStoredFieldVisitor_Status;", 0x1, 13, 14, 3, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneIndexIndexableFieldType;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilBytesRef;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSNumber;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaIoReader;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneAnalysisTokenStream;", 0x1, 15, 16, 3, -1, -1, -1 },
    { NULL, "V", 0x0, 17, 14, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneCodecsStoredFieldsWriter:withOrgApacheLuceneIndexMergeState:withInt:);
  methods[1].selector = @selector(binaryFieldWithOrgApacheLuceneIndexFieldInfo:withByteArray:);
  methods[2].selector = @selector(stringFieldWithOrgApacheLuceneIndexFieldInfo:withByteArray:);
  methods[3].selector = @selector(intFieldWithOrgApacheLuceneIndexFieldInfo:withInt:);
  methods[4].selector = @selector(longFieldWithOrgApacheLuceneIndexFieldInfo:withLong:);
  methods[5].selector = @selector(floatFieldWithOrgApacheLuceneIndexFieldInfo:withFloat:);
  methods[6].selector = @selector(doubleFieldWithOrgApacheLuceneIndexFieldInfo:withDouble:);
  methods[7].selector = @selector(needsFieldWithOrgApacheLuceneIndexFieldInfo:);
  methods[8].selector = @selector(name);
  methods[9].selector = @selector(fieldType);
  methods[10].selector = @selector(binaryValue);
  methods[11].selector = @selector(stringValue);
  methods[12].selector = @selector(numericValue);
  methods[13].selector = @selector(readerValue);
  methods[14].selector = @selector(boost);
  methods[15].selector = @selector(tokenStreamWithOrgApacheLuceneAnalysisAnalyzer:withOrgApacheLuceneAnalysisTokenStream:);
  methods[16].selector = @selector(resetWithOrgApacheLuceneIndexFieldInfo:);
  methods[17].selector = @selector(write);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneCodecsStoredFieldsWriter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "binaryValue_", "LOrgApacheLuceneUtilBytesRef;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "stringValue_", "LNSString;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "numericValue_", "LNSNumber;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "currentField_", "LOrgApacheLuceneIndexFieldInfo;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "remapper_", "LOrgApacheLuceneIndexFieldInfos;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneCodecsStoredFieldsWriter;LOrgApacheLuceneIndexMergeState;I", "binaryField", "LOrgApacheLuceneIndexFieldInfo;[B", "LJavaIoIOException;", "stringField", "intField", "LOrgApacheLuceneIndexFieldInfo;I", "longField", "LOrgApacheLuceneIndexFieldInfo;J", "floatField", "LOrgApacheLuceneIndexFieldInfo;F", "doubleField", "LOrgApacheLuceneIndexFieldInfo;D", "needsField", "LOrgApacheLuceneIndexFieldInfo;", "tokenStream", "LOrgApacheLuceneAnalysisAnalyzer;LOrgApacheLuceneAnalysisTokenStream;", "reset", "LOrgApacheLuceneCodecsStoredFieldsWriter;" };
  static const J2ObjcClassInfo _OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor = { "MergeVisitor", "org.apache.lucene.codecs", ptrTable, methods, fields, 7, 0x4, 18, 6, 18, -1, -1, -1, -1 };
  return &_OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor;
}

@end

void OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor_initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_(OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor *self, OrgApacheLuceneCodecsStoredFieldsWriter *outer$, OrgApacheLuceneIndexMergeState *mergeState, jint readerIndex) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneIndexStoredFieldVisitor_init(self);
  for (OrgApacheLuceneIndexFieldInfo * __strong fi in nil_chk(IOSObjectArray_Get(nil_chk(((OrgApacheLuceneIndexMergeState *) nil_chk(mergeState))->fieldInfos_), readerIndex))) {
    OrgApacheLuceneIndexFieldInfo *other = JreRetainedLocalValue([((OrgApacheLuceneIndexFieldInfos *) nil_chk(mergeState->mergeFieldInfos_)) fieldInfoWithInt:((OrgApacheLuceneIndexFieldInfo *) nil_chk(fi))->number_]);
    if (other == nil || ![((NSString *) nil_chk(other->name_)) isEqual:fi->name_]) {
      JreStrongAssign(&self->remapper_, mergeState->mergeFieldInfos_);
      break;
    }
  }
}

OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor *new_OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor_initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_(OrgApacheLuceneCodecsStoredFieldsWriter *outer$, OrgApacheLuceneIndexMergeState *mergeState, jint readerIndex) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor, initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_, outer$, mergeState, readerIndex)
}

OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor *create_OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor_initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_(OrgApacheLuceneCodecsStoredFieldsWriter *outer$, OrgApacheLuceneIndexMergeState *mergeState, jint readerIndex) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor, initWithOrgApacheLuceneCodecsStoredFieldsWriter_withOrgApacheLuceneIndexMergeState_withInt_, outer$, mergeState, readerIndex)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneCodecsStoredFieldsWriter_MergeVisitor)
