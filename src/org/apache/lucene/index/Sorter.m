//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./misc/src/java/org/apache/lucene/index/Sorter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/System.h"
#include "java/lang/UnsupportedOperationException.h"
#include "org/apache/lucene/index/LeafReader.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/index/Sorter.h"
#include "org/apache/lucene/search/FieldComparator.h"
#include "org/apache/lucene/search/LeafFieldComparator.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/Sort.h"
#include "org/apache/lucene/search/SortField.h"
#include "org/apache/lucene/search/Weight.h"
#include "org/apache/lucene/util/TimSorter.h"
#include "org/apache/lucene/util/packed/PackedInts.h"
#include "org/apache/lucene/util/packed/PackedLongValues.h"

@interface OrgApacheLuceneIndexSorter ()

/*!
 @brief Computes the old-to-new permutation over the given comparator.
 */
+ (OrgApacheLuceneIndexSorter_DocMap *)sortWithInt:(jint)maxDoc
      withOrgApacheLuceneIndexSorter_DocComparator:(OrgApacheLuceneIndexSorter_DocComparator *)comparator;

@end

__attribute__((unused)) static OrgApacheLuceneIndexSorter_DocMap *OrgApacheLuceneIndexSorter_sortWithInt_withOrgApacheLuceneIndexSorter_DocComparator_(jint maxDoc, OrgApacheLuceneIndexSorter_DocComparator *comparator);

@interface OrgApacheLuceneIndexSorter_DocValueSorter : OrgApacheLuceneUtilTimSorter {
 @public
  IOSIntArray *docs_;
  OrgApacheLuceneIndexSorter_DocComparator *comparator_;
  IOSIntArray *tmp_;
}

- (instancetype)initWithIntArray:(IOSIntArray *)docs
withOrgApacheLuceneIndexSorter_DocComparator:(OrgApacheLuceneIndexSorter_DocComparator *)comparator;

- (jint)compareWithInt:(jint)i
               withInt:(jint)j;

- (void)swapWithInt:(jint)i
            withInt:(jint)j;

- (void)copy__WithInt:(jint)src
              withInt:(jint)dest OBJC_METHOD_FAMILY_NONE;

- (void)saveWithInt:(jint)i
            withInt:(jint)len;

- (void)restoreWithInt:(jint)i
               withInt:(jint)j;

- (jint)compareSavedWithInt:(jint)i
                    withInt:(jint)j;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexSorter_DocValueSorter)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_DocValueSorter, docs_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_DocValueSorter, comparator_, OrgApacheLuceneIndexSorter_DocComparator *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_DocValueSorter, tmp_, IOSIntArray *)

__attribute__((unused)) static void OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(OrgApacheLuceneIndexSorter_DocValueSorter *self, IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator);

__attribute__((unused)) static OrgApacheLuceneIndexSorter_DocValueSorter *new_OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexSorter_DocValueSorter *create_OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexSorter_DocValueSorter)

@interface OrgApacheLuceneIndexSorter_$2 : OrgApacheLuceneIndexSorter_DocMap {
 @public
  OrgApacheLuceneUtilPackedPackedLongValues *val$oldToNew_;
  OrgApacheLuceneUtilPackedPackedLongValues *val$newToOld_;
  jint val$maxDoc_;
}

- (jint)oldToNewWithInt:(jint)docID;

- (jint)newToOldWithInt:(jint)docID OBJC_METHOD_FAMILY_NONE;

- (jint)size;

- (instancetype)initWithOrgApacheLuceneUtilPackedPackedLongValues:(OrgApacheLuceneUtilPackedPackedLongValues *)capture$0
                    withOrgApacheLuceneUtilPackedPackedLongValues:(OrgApacheLuceneUtilPackedPackedLongValues *)capture$1
                                                          withInt:(jint)capture$2;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexSorter_$2)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_$2, val$oldToNew_, OrgApacheLuceneUtilPackedPackedLongValues *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_$2, val$newToOld_, OrgApacheLuceneUtilPackedPackedLongValues *)

__attribute__((unused)) static void OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneIndexSorter_$2 *self, OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2);

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$2 *new_OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$2 *create_OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexSorter_$2)

@interface OrgApacheLuceneIndexSorter_$3 : OrgApacheLuceneIndexSorter_DocComparator {
 @public
  IOSObjectArray *val$comparators_;
  IOSIntArray *val$reverseMul_;
}

- (jint)compareWithInt:(jint)docID1
               withInt:(jint)docID2;

- (instancetype)initWithOrgApacheLuceneSearchLeafFieldComparatorArray:(IOSObjectArray *)capture$0
                                                         withIntArray:(IOSIntArray *)capture$1;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexSorter_$3)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_$3, val$comparators_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexSorter_$3, val$reverseMul_, IOSIntArray *)

__attribute__((unused)) static void OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(OrgApacheLuceneIndexSorter_$3 *self, IOSObjectArray *capture$0, IOSIntArray *capture$1);

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$3 *new_OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(IOSObjectArray *capture$0, IOSIntArray *capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$3 *create_OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(IOSObjectArray *capture$0, IOSIntArray *capture$1);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexSorter_$3)

@interface OrgApacheLuceneIndexSorter_$1 : OrgApacheLuceneSearchScorer {
 @public
  jfloat score_;
  jint doc_;
  jint freq_;
}

- (jint)docID;

- (jint)nextDoc;

- (jint)advanceWithInt:(jint)target;

- (jlong)cost;

- (jint)freq;

- (jfloat)score;

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)arg$0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexSorter_$1)

__attribute__((unused)) static void OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneIndexSorter_$1 *self, OrgApacheLuceneSearchWeight *arg$0);

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$1 *new_OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *arg$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexSorter_$1 *create_OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *arg$0);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexSorter_$1)

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneIndexSorter)

OrgApacheLuceneSearchScorer *OrgApacheLuceneIndexSorter_FAKESCORER;

@implementation OrgApacheLuceneIndexSorter

+ (OrgApacheLuceneSearchScorer *)FAKESCORER {
  return OrgApacheLuceneIndexSorter_FAKESCORER;
}

- (instancetype)initWithOrgApacheLuceneSearchSort:(OrgApacheLuceneSearchSort *)sort {
  OrgApacheLuceneIndexSorter_initWithOrgApacheLuceneSearchSort_(self, sort);
  return self;
}

+ (jboolean)isConsistentWithOrgApacheLuceneIndexSorter_DocMap:(OrgApacheLuceneIndexSorter_DocMap *)docMap {
  return OrgApacheLuceneIndexSorter_isConsistentWithOrgApacheLuceneIndexSorter_DocMap_(docMap);
}

+ (OrgApacheLuceneIndexSorter_DocMap *)sortWithInt:(jint)maxDoc
      withOrgApacheLuceneIndexSorter_DocComparator:(OrgApacheLuceneIndexSorter_DocComparator *)comparator {
  return OrgApacheLuceneIndexSorter_sortWithInt_withOrgApacheLuceneIndexSorter_DocComparator_(maxDoc, comparator);
}

- (OrgApacheLuceneIndexSorter_DocMap *)sortWithOrgApacheLuceneIndexLeafReader:(OrgApacheLuceneIndexLeafReader *)reader {
  IOSObjectArray *fields = [((OrgApacheLuceneSearchSort *) nil_chk(sort_)) getSort];
  IOSIntArray *reverseMul = [IOSIntArray arrayWithLength:((IOSObjectArray *) nil_chk(fields))->size_];
  IOSObjectArray *comparators = [IOSObjectArray arrayWithLength:fields->size_ type:OrgApacheLuceneSearchLeafFieldComparator_class_()];
  for (jint i = 0; i < fields->size_; i++) {
    *IOSIntArray_GetRef(reverseMul, i) = [((OrgApacheLuceneSearchSortField *) nil_chk(IOSObjectArray_Get(fields, i))) getReverse] ? -1 : 1;
    IOSObjectArray_Set(comparators, i, [((OrgApacheLuceneSearchFieldComparator *) nil_chk([((OrgApacheLuceneSearchSortField *) nil_chk(IOSObjectArray_Get(fields, i))) getComparatorWithInt:1 withInt:i])) getLeafComparatorWithOrgApacheLuceneIndexLeafReaderContext:[((OrgApacheLuceneIndexLeafReader *) nil_chk(reader)) getContext]]);
    [((id<OrgApacheLuceneSearchLeafFieldComparator>) nil_chk(IOSObjectArray_Get(comparators, i))) setScorerWithOrgApacheLuceneSearchScorer:OrgApacheLuceneIndexSorter_FAKESCORER];
  }
  OrgApacheLuceneIndexSorter_DocComparator *comparator = create_OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(comparators, reverseMul);
  return OrgApacheLuceneIndexSorter_sortWithInt_withOrgApacheLuceneIndexSorter_DocComparator_([((OrgApacheLuceneIndexLeafReader *) nil_chk(reader)) maxDoc], comparator);
}

- (NSString *)getID {
  return [((OrgApacheLuceneSearchSort *) nil_chk(sort_)) description];
}

- (NSString *)description {
  return [self getID];
}

- (void)dealloc {
  RELEASE_(sort_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgApacheLuceneIndexSorter class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneIndexSorter_FAKESCORER, new_OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(nil));
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneIndexSorter)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneSearchSort:", "Sorter", NULL, 0x0, NULL, NULL },
    { "isConsistentWithOrgApacheLuceneIndexSorter_DocMap:", "isConsistent", "Z", 0x8, NULL, NULL },
    { "sortWithInt:withOrgApacheLuceneIndexSorter_DocComparator:", "sort", "Lorg.apache.lucene.index.Sorter$DocMap;", 0xa, NULL, NULL },
    { "sortWithOrgApacheLuceneIndexLeafReader:", "sort", "Lorg.apache.lucene.index.Sorter$DocMap;", 0x0, "Ljava.io.IOException;", NULL },
    { "getID", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "sort_", NULL, 0x10, "Lorg.apache.lucene.search.Sort;", NULL, NULL, .constantValue.asLong = 0 },
    { "FAKESCORER", "FAKESCORER", 0x18, "Lorg.apache.lucene.search.Scorer;", &OrgApacheLuceneIndexSorter_FAKESCORER, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.Sorter$DocMap;", "Lorg.apache.lucene.index.Sorter$DocComparator;", "Lorg.apache.lucene.index.Sorter$DocValueSorter;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter = { 2, "Sorter", "org.apache.lucene.index", NULL, 0x10, 6, methods, 2, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexSorter;
}

@end

void OrgApacheLuceneIndexSorter_initWithOrgApacheLuceneSearchSort_(OrgApacheLuceneIndexSorter *self, OrgApacheLuceneSearchSort *sort) {
  NSObject_init(self);
  if ([((OrgApacheLuceneSearchSort *) nil_chk(sort)) needsScores]) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Cannot sort an index with a Sort that refers to the relevance score");
  }
  JreStrongAssign(&self->sort_, sort);
}

OrgApacheLuceneIndexSorter *new_OrgApacheLuceneIndexSorter_initWithOrgApacheLuceneSearchSort_(OrgApacheLuceneSearchSort *sort) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexSorter, initWithOrgApacheLuceneSearchSort_, sort)
}

OrgApacheLuceneIndexSorter *create_OrgApacheLuceneIndexSorter_initWithOrgApacheLuceneSearchSort_(OrgApacheLuceneSearchSort *sort) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexSorter, initWithOrgApacheLuceneSearchSort_, sort)
}

jboolean OrgApacheLuceneIndexSorter_isConsistentWithOrgApacheLuceneIndexSorter_DocMap_(OrgApacheLuceneIndexSorter_DocMap *docMap) {
  OrgApacheLuceneIndexSorter_initialize();
  jint maxDoc = [((OrgApacheLuceneIndexSorter_DocMap *) nil_chk(docMap)) size];
  for (jint i = 0; i < maxDoc; ++i) {
    jint newID = [docMap oldToNewWithInt:i];
    jint oldID = [docMap newToOldWithInt:newID];
    JreAssert((newID >= 0 && newID < maxDoc), (JreStrcat("$I$I", @"doc IDs must be in [0-", maxDoc, @"[, got ", newID)));
    JreAssert((i == oldID), (JreStrcat("$I$I$I", @"mapping is inconsistent: ", i, @" --oldToNew--> ", newID, @" --newToOld--> ", oldID)));
    if (i != oldID || newID < 0 || newID >= maxDoc) {
      return false;
    }
  }
  return true;
}

OrgApacheLuceneIndexSorter_DocMap *OrgApacheLuceneIndexSorter_sortWithInt_withOrgApacheLuceneIndexSorter_DocComparator_(jint maxDoc, OrgApacheLuceneIndexSorter_DocComparator *comparator) {
  OrgApacheLuceneIndexSorter_initialize();
  jboolean sorted = true;
  for (jint i = 1; i < maxDoc; ++i) {
    if ([((OrgApacheLuceneIndexSorter_DocComparator *) nil_chk(comparator)) compareWithInt:i - 1 withInt:i] > 0) {
      sorted = false;
      break;
    }
  }
  if (sorted) {
    return nil;
  }
  IOSIntArray *docs = [IOSIntArray arrayWithLength:maxDoc];
  for (jint i = 0; i < maxDoc; i++) {
    *IOSIntArray_GetRef(docs, i) = i;
  }
  OrgApacheLuceneIndexSorter_DocValueSorter *sorter = create_OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(docs, comparator);
  [sorter sortWithInt:0 withInt:docs->size_];
  OrgApacheLuceneUtilPackedPackedLongValues_Builder *newToOldBuilder = OrgApacheLuceneUtilPackedPackedLongValues_monotonicBuilderWithFloat_(OrgApacheLuceneUtilPackedPackedInts_COMPACT);
  for (jint i = 0; i < maxDoc; ++i) {
    [((OrgApacheLuceneUtilPackedPackedLongValues_Builder *) nil_chk(newToOldBuilder)) addWithLong:IOSIntArray_Get(docs, i)];
  }
  OrgApacheLuceneUtilPackedPackedLongValues *newToOld = [((OrgApacheLuceneUtilPackedPackedLongValues_Builder *) nil_chk(newToOldBuilder)) build];
  for (jint i = 0; i < maxDoc; ++i) {
    *IOSIntArray_GetRef(docs, (jint) [((OrgApacheLuceneUtilPackedPackedLongValues *) nil_chk(newToOld)) getWithInt:i]) = i;
  }
  OrgApacheLuceneUtilPackedPackedLongValues_Builder *oldToNewBuilder = OrgApacheLuceneUtilPackedPackedLongValues_monotonicBuilderWithFloat_(OrgApacheLuceneUtilPackedPackedInts_COMPACT);
  for (jint i = 0; i < maxDoc; ++i) {
    [((OrgApacheLuceneUtilPackedPackedLongValues_Builder *) nil_chk(oldToNewBuilder)) addWithLong:IOSIntArray_Get(docs, i)];
  }
  OrgApacheLuceneUtilPackedPackedLongValues *oldToNew = [((OrgApacheLuceneUtilPackedPackedLongValues_Builder *) nil_chk(oldToNewBuilder)) build];
  return create_OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(oldToNew, newToOld, maxDoc);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter)

@implementation OrgApacheLuceneIndexSorter_DocMap

- (jint)oldToNewWithInt:(jint)docID {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jint)newToOldWithInt:(jint)docID {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (jint)size {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneIndexSorter_DocMap_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "oldToNewWithInt:", "oldToNew", "I", 0x400, NULL, NULL },
    { "newToOldWithInt:", "newToOld", "I", 0x400, NULL, NULL },
    { "size", NULL, "I", 0x400, NULL, NULL },
    { "init", "DocMap", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_DocMap = { 2, "DocMap", "org.apache.lucene.index", "Sorter", 0x408, 4, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexSorter_DocMap;
}

@end

void OrgApacheLuceneIndexSorter_DocMap_init(OrgApacheLuceneIndexSorter_DocMap *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_DocMap)

@implementation OrgApacheLuceneIndexSorter_DocComparator

- (jint)compareWithInt:(jint)docID1
               withInt:(jint)docID2 {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneIndexSorter_DocComparator_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithInt:withInt:", "compare", "I", 0x401, NULL, NULL },
    { "init", "DocComparator", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_DocComparator = { 2, "DocComparator", "org.apache.lucene.index", "Sorter", 0x408, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexSorter_DocComparator;
}

@end

void OrgApacheLuceneIndexSorter_DocComparator_init(OrgApacheLuceneIndexSorter_DocComparator *self) {
  NSObject_init(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_DocComparator)

@implementation OrgApacheLuceneIndexSorter_DocValueSorter

- (instancetype)initWithIntArray:(IOSIntArray *)docs
withOrgApacheLuceneIndexSorter_DocComparator:(OrgApacheLuceneIndexSorter_DocComparator *)comparator {
  OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(self, docs, comparator);
  return self;
}

- (jint)compareWithInt:(jint)i
               withInt:(jint)j {
  return [((OrgApacheLuceneIndexSorter_DocComparator *) nil_chk(comparator_)) compareWithInt:IOSIntArray_Get(nil_chk(docs_), i) withInt:IOSIntArray_Get(docs_, j)];
}

- (void)swapWithInt:(jint)i
            withInt:(jint)j {
  jint tmpDoc = IOSIntArray_Get(nil_chk(docs_), i);
  *IOSIntArray_GetRef(docs_, i) = IOSIntArray_Get(docs_, j);
  *IOSIntArray_GetRef(docs_, j) = tmpDoc;
}

- (void)copy__WithInt:(jint)src
              withInt:(jint)dest {
  *IOSIntArray_GetRef(nil_chk(docs_), dest) = IOSIntArray_Get(docs_, src);
}

- (void)saveWithInt:(jint)i
            withInt:(jint)len {
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(docs_, i, tmp_, 0, len);
}

- (void)restoreWithInt:(jint)i
               withInt:(jint)j {
  *IOSIntArray_GetRef(nil_chk(docs_), j) = IOSIntArray_Get(nil_chk(tmp_), i);
}

- (jint)compareSavedWithInt:(jint)i
                    withInt:(jint)j {
  return [((OrgApacheLuceneIndexSorter_DocComparator *) nil_chk(comparator_)) compareWithInt:IOSIntArray_Get(nil_chk(tmp_), i) withInt:IOSIntArray_Get(nil_chk(docs_), j)];
}

- (void)dealloc {
  RELEASE_(docs_);
  RELEASE_(comparator_);
  RELEASE_(tmp_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithIntArray:withOrgApacheLuceneIndexSorter_DocComparator:", "DocValueSorter", NULL, 0x0, NULL, NULL },
    { "compareWithInt:withInt:", "compare", "I", 0x4, NULL, NULL },
    { "swapWithInt:withInt:", "swap", "V", 0x4, NULL, NULL },
    { "copy__WithInt:withInt:", "copy", "V", 0x4, NULL, NULL },
    { "saveWithInt:withInt:", "save", "V", 0x4, NULL, NULL },
    { "restoreWithInt:withInt:", "restore", "V", 0x4, NULL, NULL },
    { "compareSavedWithInt:withInt:", "compareSaved", "I", 0x4, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "docs_", NULL, 0x12, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "comparator_", NULL, 0x12, "Lorg.apache.lucene.index.Sorter$DocComparator;", NULL, NULL, .constantValue.asLong = 0 },
    { "tmp_", NULL, 0x12, "[I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_DocValueSorter = { 2, "DocValueSorter", "org.apache.lucene.index", "Sorter", 0x1a, 7, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexSorter_DocValueSorter;
}

@end

void OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(OrgApacheLuceneIndexSorter_DocValueSorter *self, IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator) {
  OrgApacheLuceneUtilTimSorter_initWithInt_(self, ((IOSIntArray *) nil_chk(docs))->size_ / 64);
  JreStrongAssign(&self->docs_, docs);
  JreStrongAssign(&self->comparator_, comparator);
  JreStrongAssignAndConsume(&self->tmp_, [IOSIntArray newArrayWithLength:docs->size_ / 64]);
}

OrgApacheLuceneIndexSorter_DocValueSorter *new_OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexSorter_DocValueSorter, initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_, docs, comparator)
}

OrgApacheLuceneIndexSorter_DocValueSorter *create_OrgApacheLuceneIndexSorter_DocValueSorter_initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_(IOSIntArray *docs, OrgApacheLuceneIndexSorter_DocComparator *comparator) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexSorter_DocValueSorter, initWithIntArray_withOrgApacheLuceneIndexSorter_DocComparator_, docs, comparator)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_DocValueSorter)

@implementation OrgApacheLuceneIndexSorter_$2

- (jint)oldToNewWithInt:(jint)docID {
  return (jint) [((OrgApacheLuceneUtilPackedPackedLongValues *) nil_chk(val$oldToNew_)) getWithInt:docID];
}

- (jint)newToOldWithInt:(jint)docID {
  return (jint) [((OrgApacheLuceneUtilPackedPackedLongValues *) nil_chk(val$newToOld_)) getWithInt:docID];
}

- (jint)size {
  return val$maxDoc_;
}

- (instancetype)initWithOrgApacheLuceneUtilPackedPackedLongValues:(OrgApacheLuceneUtilPackedPackedLongValues *)capture$0
                    withOrgApacheLuceneUtilPackedPackedLongValues:(OrgApacheLuceneUtilPackedPackedLongValues *)capture$1
                                                          withInt:(jint)capture$2 {
  OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(self, capture$0, capture$1, capture$2);
  return self;
}

- (void)dealloc {
  RELEASE_(val$oldToNew_);
  RELEASE_(val$newToOld_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "oldToNewWithInt:", "oldToNew", "I", 0x1, NULL, NULL },
    { "newToOldWithInt:", "newToOld", "I", 0x1, NULL, NULL },
    { "size", NULL, "I", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneUtilPackedPackedLongValues:withOrgApacheLuceneUtilPackedPackedLongValues:withInt:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$oldToNew_", NULL, 0x1012, "Lorg.apache.lucene.util.packed.PackedLongValues;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$newToOld_", NULL, 0x1012, "Lorg.apache.lucene.util.packed.PackedLongValues;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$maxDoc_", NULL, 0x1012, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneIndexSorter", "sortWithInt:withOrgApacheLuceneIndexSorter_DocComparator:" };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_$2 = { 2, "", "org.apache.lucene.index", "Sorter", 0x8008, 4, methods, 3, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneIndexSorter_$2;
}

@end

void OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneIndexSorter_$2 *self, OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2) {
  JreStrongAssign(&self->val$oldToNew_, capture$0);
  JreStrongAssign(&self->val$newToOld_, capture$1);
  self->val$maxDoc_ = capture$2;
  OrgApacheLuceneIndexSorter_DocMap_init(self);
}

OrgApacheLuceneIndexSorter_$2 *new_OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexSorter_$2, initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_, capture$0, capture$1, capture$2)
}

OrgApacheLuceneIndexSorter_$2 *create_OrgApacheLuceneIndexSorter_$2_initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_(OrgApacheLuceneUtilPackedPackedLongValues *capture$0, OrgApacheLuceneUtilPackedPackedLongValues *capture$1, jint capture$2) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexSorter_$2, initWithOrgApacheLuceneUtilPackedPackedLongValues_withOrgApacheLuceneUtilPackedPackedLongValues_withInt_, capture$0, capture$1, capture$2)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_$2)

@implementation OrgApacheLuceneIndexSorter_$3

- (jint)compareWithInt:(jint)docID1
               withInt:(jint)docID2 {
  @try {
    for (jint i = 0; i < ((IOSObjectArray *) nil_chk(val$comparators_))->size_; i++) {
      [((id<OrgApacheLuceneSearchLeafFieldComparator>) nil_chk(IOSObjectArray_Get(val$comparators_, i))) copy__WithInt:0 withInt:docID1];
      [((id<OrgApacheLuceneSearchLeafFieldComparator>) nil_chk(IOSObjectArray_Get(val$comparators_, i))) setBottomWithInt:0];
      jint comp = IOSIntArray_Get(nil_chk(val$reverseMul_), i) * [((id<OrgApacheLuceneSearchLeafFieldComparator>) nil_chk(IOSObjectArray_Get(val$comparators_, i))) compareBottomWithInt:docID2];
      if (comp != 0) {
        return comp;
      }
    }
    return JavaLangInteger_compareWithInt_withInt_(docID1, docID2);
  }
  @catch (JavaIoIOException *e) {
    @throw create_JavaLangRuntimeException_initWithNSException_(e);
  }
}

- (instancetype)initWithOrgApacheLuceneSearchLeafFieldComparatorArray:(IOSObjectArray *)capture$0
                                                         withIntArray:(IOSIntArray *)capture$1 {
  OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(self, capture$0, capture$1);
  return self;
}

- (void)dealloc {
  RELEASE_(val$comparators_);
  RELEASE_(val$reverseMul_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithInt:withInt:", "compare", "I", 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneSearchLeafFieldComparatorArray:withIntArray:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$comparators_", NULL, 0x1012, "[Lorg.apache.lucene.search.LeafFieldComparator;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$reverseMul_", NULL, 0x1012, "[I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgApacheLuceneIndexSorter", "sortWithOrgApacheLuceneIndexLeafReader:" };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_$3 = { 2, "", "org.apache.lucene.index", "Sorter", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgApacheLuceneIndexSorter_$3;
}

@end

void OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(OrgApacheLuceneIndexSorter_$3 *self, IOSObjectArray *capture$0, IOSIntArray *capture$1) {
  JreStrongAssign(&self->val$comparators_, capture$0);
  JreStrongAssign(&self->val$reverseMul_, capture$1);
  OrgApacheLuceneIndexSorter_DocComparator_init(self);
}

OrgApacheLuceneIndexSorter_$3 *new_OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(IOSObjectArray *capture$0, IOSIntArray *capture$1) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexSorter_$3, initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_, capture$0, capture$1)
}

OrgApacheLuceneIndexSorter_$3 *create_OrgApacheLuceneIndexSorter_$3_initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_(IOSObjectArray *capture$0, IOSIntArray *capture$1) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexSorter_$3, initWithOrgApacheLuceneSearchLeafFieldComparatorArray_withIntArray_, capture$0, capture$1)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_$3)

@implementation OrgApacheLuceneIndexSorter_$1

- (jint)docID {
  return doc_;
}

- (jint)nextDoc {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jint)advanceWithInt:(jint)target {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jlong)cost {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jint)freq {
  return freq_;
}

- (jfloat)score {
  return score_;
}

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)arg$0 {
  OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(self, arg$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "docID", NULL, "I", 0x1, NULL, NULL },
    { "nextDoc", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "advanceWithInt:", "advance", "I", 0x1, "Ljava.io.IOException;", NULL },
    { "cost", NULL, "J", 0x1, NULL, NULL },
    { "freq", NULL, "I", 0x1, "Ljava.io.IOException;", NULL },
    { "score", NULL, "F", 0x1, "Ljava.io.IOException;", NULL },
    { "initWithOrgApacheLuceneSearchWeight:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "score_", NULL, 0x0, "F", NULL, NULL, .constantValue.asLong = 0 },
    { "doc_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "freq_", NULL, 0x0, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexSorter_$1 = { 2, "", "org.apache.lucene.index", "Sorter", 0x8008, 7, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexSorter_$1;
}

@end

void OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneIndexSorter_$1 *self, OrgApacheLuceneSearchWeight *arg$0) {
  OrgApacheLuceneSearchScorer_initWithOrgApacheLuceneSearchWeight_(self, arg$0);
  self->doc_ = -1;
  self->freq_ = 1;
}

OrgApacheLuceneIndexSorter_$1 *new_OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *arg$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexSorter_$1, initWithOrgApacheLuceneSearchWeight_, arg$0)
}

OrgApacheLuceneIndexSorter_$1 *create_OrgApacheLuceneIndexSorter_$1_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *arg$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexSorter_$1, initWithOrgApacheLuceneSearchWeight_, arg$0)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexSorter_$1)
