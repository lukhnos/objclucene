//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/index/TermVectorsConsumerPerField.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/System.h"
#include "org/apache/lucene/analysis/tokenattributes/OffsetAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PayloadAttribute.h"
#include "org/apache/lucene/codecs/TermVectorsWriter.h"
#include "org/apache/lucene/index/ByteSliceReader.h"
#include "org/apache/lucene/index/FieldInfo.h"
#include "org/apache/lucene/index/FieldInvertState.h"
#include "org/apache/lucene/index/IndexOptions.h"
#include "org/apache/lucene/index/IndexableField.h"
#include "org/apache/lucene/index/IndexableFieldType.h"
#include "org/apache/lucene/index/ParallelPostingsArray.h"
#include "org/apache/lucene/index/TermVectorsConsumer.h"
#include "org/apache/lucene/index/TermVectorsConsumerPerField.h"
#include "org/apache/lucene/index/TermsHashPerField.h"
#include "org/apache/lucene/util/ByteBlockPool.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/BytesRefHash.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"

@interface OrgApacheLuceneIndexTermVectorsConsumerPerField () {
 @public
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *termVectorsPostingsArray_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexTermVectorsConsumerPerField, termVectorsPostingsArray_, OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *)

@implementation OrgApacheLuceneIndexTermVectorsConsumerPerField

- (instancetype)initWithOrgApacheLuceneIndexFieldInvertState:(OrgApacheLuceneIndexFieldInvertState *)invertState
                 withOrgApacheLuceneIndexTermVectorsConsumer:(OrgApacheLuceneIndexTermVectorsConsumer *)termsWriter
                           withOrgApacheLuceneIndexFieldInfo:(OrgApacheLuceneIndexFieldInfo *)fieldInfo {
  OrgApacheLuceneIndexTermVectorsConsumerPerField_initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_(self, invertState, termsWriter, fieldInfo);
  return self;
}

- (void)finish {
  if (!doVectors_ || [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(bytesHash_)) size] == 0) {
    return;
  }
  [((OrgApacheLuceneIndexTermVectorsConsumer *) nil_chk(termsWriter_)) addFieldToFlushWithOrgApacheLuceneIndexTermVectorsConsumerPerField:self];
}

- (void)finishDocument {
  if (doVectors_ == false) {
    return;
  }
  doVectors_ = false;
  jint numPostings = [((OrgApacheLuceneUtilBytesRefHash *) nil_chk(bytesHash_)) size];
  OrgApacheLuceneUtilBytesRef *flushTerm = ((OrgApacheLuceneIndexTermVectorsConsumer *) nil_chk(termsWriter_))->flushTerm_;
  JreAssert((numPostings >= 0), (@"org/apache/lucene/index/TermVectorsConsumerPerField.java:70 condition failed: assert numPostings >= 0;"));
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *postings = termVectorsPostingsArray_;
  OrgApacheLuceneCodecsTermVectorsWriter *tv = termsWriter_->writer_;
  IOSIntArray *termIDs = [self sortPostings];
  [((OrgApacheLuceneCodecsTermVectorsWriter *) nil_chk(tv)) startFieldWithOrgApacheLuceneIndexFieldInfo:fieldInfo_ withInt:numPostings withBoolean:doVectorPositions_ withBoolean:doVectorOffsets_ withBoolean:hasPayloads_];
  OrgApacheLuceneIndexByteSliceReader *posReader = doVectorPositions_ ? termsWriter_->vectorSliceReaderPos_ : nil;
  OrgApacheLuceneIndexByteSliceReader *offReader = doVectorOffsets_ ? termsWriter_->vectorSliceReaderOff_ : nil;
  for (jint j = 0; j < numPostings; j++) {
    jint termID = IOSIntArray_Get(nil_chk(termIDs), j);
    jint freq = IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(postings))->freqs_), termID);
    [((OrgApacheLuceneUtilByteBlockPool *) nil_chk(termBytePool_)) setBytesRefWithOrgApacheLuceneUtilBytesRef:flushTerm withInt:IOSIntArray_Get(nil_chk(postings->textStarts_), termID)];
    [tv startTermWithOrgApacheLuceneUtilBytesRef:flushTerm withInt:freq];
    if (doVectorPositions_ || doVectorOffsets_) {
      if (posReader != nil) {
        [self initReaderWithOrgApacheLuceneIndexByteSliceReader:posReader withInt:termID withInt:0];
      }
      if (offReader != nil) {
        [self initReaderWithOrgApacheLuceneIndexByteSliceReader:offReader withInt:termID withInt:1];
      }
      [tv addProxWithInt:freq withOrgApacheLuceneStoreDataInput:posReader withOrgApacheLuceneStoreDataInput:offReader];
    }
    [tv finishTerm];
  }
  [tv finishField];
  [self reset];
  [((OrgApacheLuceneIndexFieldInfo *) nil_chk(fieldInfo_)) setStoreTermVectors];
}

- (jboolean)startWithOrgApacheLuceneIndexIndexableField:(id<OrgApacheLuceneIndexIndexableField>)field
                                            withBoolean:(jboolean)first {
  JreAssert(([((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([((id<OrgApacheLuceneIndexIndexableField>) nil_chk(field)) fieldType])) indexOptions] != JreLoadEnum(OrgApacheLuceneIndexIndexOptions, NONE)), (@"org/apache/lucene/index/TermVectorsConsumerPerField.java:114 condition failed: assert field.fieldType().indexOptions() != IndexOptions.NONE;"));
  if (first) {
    if ([((OrgApacheLuceneUtilBytesRefHash *) nil_chk(bytesHash_)) size] != 0) {
      [self reset];
    }
    [bytesHash_ reinit];
    hasPayloads_ = false;
    doVectors_ = [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectors];
    if (doVectors_) {
      ((OrgApacheLuceneIndexTermVectorsConsumer *) nil_chk(termsWriter_))->hasVectors_ = true;
      doVectorPositions_ = [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPositions];
      doVectorOffsets_ = [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorOffsets];
      if (doVectorPositions_) {
        doVectorPayloads_ = [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPayloads];
      }
      else {
        doVectorPayloads_ = false;
        if ([((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPayloads]) {
          @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"cannot index term vector payloads without term vector positions (field=\"", [field name], @"\")"));
        }
      }
    }
    else {
      if ([((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorOffsets]) {
        @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"cannot index term vector offsets when term vectors are not indexed (field=\"", [field name], @"\")"));
      }
      if ([((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPositions]) {
        @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"cannot index term vector positions when term vectors are not indexed (field=\"", [field name], @"\")"));
      }
      if ([((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPayloads]) {
        @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"cannot index term vector payloads when term vectors are not indexed (field=\"", [field name], @"\")"));
      }
    }
  }
  else {
    if (doVectors_ != [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectors]) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"all instances of a given field name must have the same term vectors settings (storeTermVectors changed for field=\"", [field name], @"\")"));
    }
    if (doVectorPositions_ != [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPositions]) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"all instances of a given field name must have the same term vectors settings (storeTermVectorPositions changed for field=\"", [field name], @"\")"));
    }
    if (doVectorOffsets_ != [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorOffsets]) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"all instances of a given field name must have the same term vectors settings (storeTermVectorOffsets changed for field=\"", [field name], @"\")"));
    }
    if (doVectorPayloads_ != [((id<OrgApacheLuceneIndexIndexableFieldType>) nil_chk([field fieldType])) storeTermVectorPayloads]) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"all instances of a given field name must have the same term vectors settings (storeTermVectorPayloads changed for field=\"", [field name], @"\")"));
    }
  }
  if (doVectors_) {
    if (doVectorOffsets_) {
      JreStrongAssign(&offsetAttribute_, ((OrgApacheLuceneIndexFieldInvertState *) nil_chk(fieldState_))->offsetAttribute_);
      JreAssert((offsetAttribute_ != nil), (@"org/apache/lucene/index/TermVectorsConsumerPerField.java:180 condition failed: assert offsetAttribute != null;"));
    }
    if (doVectorPayloads_) {
      JreStrongAssign(&payloadAttribute_, ((OrgApacheLuceneIndexFieldInvertState *) nil_chk(fieldState_))->payloadAttribute_);
    }
    else {
      JreStrongAssign(&payloadAttribute_, nil);
    }
  }
  return doVectors_;
}

- (void)writeProxWithOrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray:(OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *)postings
                                                                                      withInt:(jint)termID {
  if (doVectorOffsets_) {
    jint startOffset = ((OrgApacheLuceneIndexFieldInvertState *) nil_chk(fieldState_))->offset_ + [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAttribute_)) startOffset];
    jint endOffset = fieldState_->offset_ + [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(offsetAttribute_)) endOffset];
    [self writeVIntWithInt:1 withInt:startOffset - IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(postings))->lastOffsets_), termID)];
    [self writeVIntWithInt:1 withInt:endOffset - startOffset];
    *IOSIntArray_GetRef(nil_chk(postings->lastOffsets_), termID) = endOffset;
  }
  if (doVectorPositions_) {
    OrgApacheLuceneUtilBytesRef *payload;
    if (payloadAttribute_ == nil) {
      payload = nil;
    }
    else {
      payload = [payloadAttribute_ getPayload];
    }
    jint pos = ((OrgApacheLuceneIndexFieldInvertState *) nil_chk(fieldState_))->position_ - IOSIntArray_Get(nil_chk(((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(postings))->lastPositions_), termID);
    if (payload != nil && payload->length_ > 0) {
      [self writeVIntWithInt:0 withInt:(JreLShift32(pos, 1)) | 1];
      [self writeVIntWithInt:0 withInt:payload->length_];
      [self writeBytesWithInt:0 withByteArray:payload->bytes_ withInt:payload->offset_ withInt:payload->length_];
      hasPayloads_ = true;
    }
    else {
      [self writeVIntWithInt:0 withInt:JreLShift32(pos, 1)];
    }
    *IOSIntArray_GetRef(nil_chk(postings->lastPositions_), termID) = fieldState_->position_;
  }
}

- (void)newTermWithInt:(jint)termID {
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *postings = termVectorsPostingsArray_;
  *IOSIntArray_GetRef(nil_chk(((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(postings))->freqs_), termID) = 1;
  *IOSIntArray_GetRef(nil_chk(postings->lastOffsets_), termID) = 0;
  *IOSIntArray_GetRef(nil_chk(postings->lastPositions_), termID) = 0;
  [self writeProxWithOrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray:postings withInt:termID];
}

- (void)addTermWithInt:(jint)termID {
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *postings = termVectorsPostingsArray_;
  (*IOSIntArray_GetRef(nil_chk(((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(postings))->freqs_), termID))++;
  [self writeProxWithOrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray:postings withInt:termID];
}

- (void)newPostingsArray {
  JreStrongAssign(&termVectorsPostingsArray_, (OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) cast_chk(postingsArray_, [OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray class]));
}

- (OrgApacheLuceneIndexParallelPostingsArray *)createPostingsArrayWithInt:(jint)size {
  return create_OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(size);
}

- (void)dealloc {
  RELEASE_(termVectorsPostingsArray_);
  RELEASE_(termsWriter_);
  RELEASE_(offsetAttribute_);
  RELEASE_(payloadAttribute_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexFieldInvertState:withOrgApacheLuceneIndexTermVectorsConsumer:withOrgApacheLuceneIndexFieldInfo:", "TermVectorsConsumerPerField", NULL, 0x1, NULL, NULL },
    { "finish", NULL, "V", 0x0, NULL, NULL },
    { "finishDocument", NULL, "V", 0x0, "Ljava.io.IOException;", NULL },
    { "startWithOrgApacheLuceneIndexIndexableField:withBoolean:", "start", "Z", 0x0, NULL, NULL },
    { "writeProxWithOrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray:withInt:", "writeProx", "V", 0x0, NULL, NULL },
    { "newTermWithInt:", "newTerm", "V", 0x0, NULL, NULL },
    { "addTermWithInt:", "addTerm", "V", 0x0, NULL, NULL },
    { "newPostingsArray", NULL, "V", 0x1, NULL, NULL },
    { "createPostingsArrayWithInt:", "createPostingsArray", "Lorg.apache.lucene.index.ParallelPostingsArray;", 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "termVectorsPostingsArray_", NULL, 0x2, "Lorg.apache.lucene.index.TermVectorsConsumerPerField$TermVectorsPostingsArray;", NULL, NULL, .constantValue.asLong = 0 },
    { "termsWriter_", NULL, 0x10, "Lorg.apache.lucene.index.TermVectorsConsumer;", NULL, NULL, .constantValue.asLong = 0 },
    { "doVectors_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "doVectorPositions_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "doVectorOffsets_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "doVectorPayloads_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "offsetAttribute_", NULL, 0x0, "Lorg.apache.lucene.analysis.tokenattributes.OffsetAttribute;", NULL, NULL, .constantValue.asLong = 0 },
    { "payloadAttribute_", NULL, 0x0, "Lorg.apache.lucene.analysis.tokenattributes.PayloadAttribute;", NULL, NULL, .constantValue.asLong = 0 },
    { "hasPayloads_", NULL, 0x0, "Z", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.TermVectorsConsumerPerField$TermVectorsPostingsArray;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexTermVectorsConsumerPerField = { 2, "TermVectorsConsumerPerField", "org.apache.lucene.index", NULL, 0x10, 9, methods, 9, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexTermVectorsConsumerPerField;
}

@end

void OrgApacheLuceneIndexTermVectorsConsumerPerField_initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_(OrgApacheLuceneIndexTermVectorsConsumerPerField *self, OrgApacheLuceneIndexFieldInvertState *invertState, OrgApacheLuceneIndexTermVectorsConsumer *termsWriter, OrgApacheLuceneIndexFieldInfo *fieldInfo) {
  OrgApacheLuceneIndexTermsHashPerField_initWithInt_withOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermsHash_withOrgApacheLuceneIndexTermsHashPerField_withOrgApacheLuceneIndexFieldInfo_(self, 2, invertState, termsWriter, nil, fieldInfo);
  JreStrongAssign(&self->termsWriter_, termsWriter);
}

OrgApacheLuceneIndexTermVectorsConsumerPerField *new_OrgApacheLuceneIndexTermVectorsConsumerPerField_initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_(OrgApacheLuceneIndexFieldInvertState *invertState, OrgApacheLuceneIndexTermVectorsConsumer *termsWriter, OrgApacheLuceneIndexFieldInfo *fieldInfo) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexTermVectorsConsumerPerField, initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_, invertState, termsWriter, fieldInfo)
}

OrgApacheLuceneIndexTermVectorsConsumerPerField *create_OrgApacheLuceneIndexTermVectorsConsumerPerField_initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_(OrgApacheLuceneIndexFieldInvertState *invertState, OrgApacheLuceneIndexTermVectorsConsumer *termsWriter, OrgApacheLuceneIndexFieldInfo *fieldInfo) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexTermVectorsConsumerPerField, initWithOrgApacheLuceneIndexFieldInvertState_withOrgApacheLuceneIndexTermVectorsConsumer_withOrgApacheLuceneIndexFieldInfo_, invertState, termsWriter, fieldInfo)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexTermVectorsConsumerPerField)

@implementation OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray

- (instancetype)initWithInt:(jint)size {
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(self, size);
  return self;
}

- (OrgApacheLuceneIndexParallelPostingsArray *)newInstanceWithInt:(jint)size {
  return create_OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(size);
}

- (void)copyToWithOrgApacheLuceneIndexParallelPostingsArray:(OrgApacheLuceneIndexParallelPostingsArray *)toArray
                                                    withInt:(jint)numToCopy {
  JreAssert(([toArray isKindOfClass:[OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray class]]), (@"org/apache/lucene/index/TermVectorsConsumerPerField.java:274 condition failed: assert toArray instanceof TermVectorsPostingsArray;"));
  OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *to = (OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) cast_chk(toArray, [OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray class]);
  [super copyToWithOrgApacheLuceneIndexParallelPostingsArray:toArray withInt:numToCopy];
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(freqs_, 0, ((OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *) nil_chk(to))->freqs_, 0, size_);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(lastOffsets_, 0, to->lastOffsets_, 0, size_);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(lastPositions_, 0, to->lastPositions_, 0, size_);
}

- (jint)bytesPerPosting {
  return [super bytesPerPosting] + 3 * OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_INT;
}

- (void)dealloc {
  RELEASE_(freqs_);
  RELEASE_(lastOffsets_);
  RELEASE_(lastPositions_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:", "TermVectorsPostingsArray", NULL, 0x1, NULL, NULL },
    { "newInstanceWithInt:", "newInstance", "Lorg.apache.lucene.index.ParallelPostingsArray;", 0x0, NULL, NULL },
    { "copyToWithOrgApacheLuceneIndexParallelPostingsArray:withInt:", "copyTo", "V", 0x0, NULL, NULL },
    { "bytesPerPosting", NULL, "I", 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "freqs_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "lastOffsets_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
    { "lastPositions_", NULL, 0x0, "[I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray = { 2, "TermVectorsPostingsArray", "org.apache.lucene.index", "TermVectorsConsumerPerField", 0x18, 4, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray;
}

@end

void OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *self, jint size) {
  OrgApacheLuceneIndexParallelPostingsArray_initWithInt_(self, size);
  JreStrongAssignAndConsume(&self->freqs_, [IOSIntArray newArrayWithLength:size]);
  JreStrongAssignAndConsume(&self->lastOffsets_, [IOSIntArray newArrayWithLength:size]);
  JreStrongAssignAndConsume(&self->lastPositions_, [IOSIntArray newArrayWithLength:size]);
}

OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *new_OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(jint size) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray, initWithInt_, size)
}

OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray *create_OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray_initWithInt_(jint size) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray, initWithInt_, size)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexTermVectorsConsumerPerField_TermVectorsPostingsArray)
