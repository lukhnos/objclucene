//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./misc/src/java/org/apache/lucene/index/PKIndexSplitter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "java/util/List.h"
#include "org/apache/lucene/index/CodecReader.h"
#include "org/apache/lucene/index/DirectoryReader.h"
#include "org/apache/lucene/index/FilterCodecReader.h"
#include "org/apache/lucene/index/IndexWriter.h"
#include "org/apache/lucene/index/IndexWriterConfig.h"
#include "org/apache/lucene/index/LeafReader.h"
#include "org/apache/lucene/index/LeafReaderContext.h"
#include "org/apache/lucene/index/PKIndexSplitter.h"
#include "org/apache/lucene/index/Term.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/Filter.h"
#include "org/apache/lucene/search/IndexSearcher.h"
#include "org/apache/lucene/search/Query.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/TermRangeQuery.h"
#include "org/apache/lucene/search/Weight.h"
#include "org/apache/lucene/store/Directory.h"
#include "org/apache/lucene/util/BitSetIterator.h"
#include "org/apache/lucene/util/Bits.h"
#include "org/apache/lucene/util/BytesRef.h"
#include "org/apache/lucene/util/FixedBitSet.h"
#include "org/apache/lucene/util/IOUtils.h"

@interface OrgApacheLuceneIndexPKIndexSplitter () {
 @public
  OrgApacheLuceneSearchQuery *docsInFirstIndex_;
  OrgApacheLuceneStoreDirectory *input_;
  OrgApacheLuceneStoreDirectory *dir1_;
  OrgApacheLuceneStoreDirectory *dir2_;
  OrgApacheLuceneIndexIndexWriterConfig *config1_;
  OrgApacheLuceneIndexIndexWriterConfig *config2_;
}

+ (OrgApacheLuceneIndexIndexWriterConfig *)newDefaultConfig OBJC_METHOD_FAMILY_NONE;

- (void)createIndexWithOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config
                           withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)target
                     withOrgApacheLuceneIndexDirectoryReader:(OrgApacheLuceneIndexDirectoryReader *)reader
                              withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)preserveFilter
                                                 withBoolean:(jboolean)negateFilter;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, docsInFirstIndex_, OrgApacheLuceneSearchQuery *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, input_, OrgApacheLuceneStoreDirectory *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, dir1_, OrgApacheLuceneStoreDirectory *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, dir2_, OrgApacheLuceneStoreDirectory *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, config1_, OrgApacheLuceneIndexIndexWriterConfig *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter, config2_, OrgApacheLuceneIndexIndexWriterConfig *)

__attribute__((unused)) static OrgApacheLuceneIndexIndexWriterConfig *OrgApacheLuceneIndexPKIndexSplitter_newDefaultConfig();

__attribute__((unused)) static void OrgApacheLuceneIndexPKIndexSplitter_createIndexWithOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexDirectoryReader_withOrgApacheLuceneSearchQuery_withBoolean_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneIndexIndexWriterConfig *config, OrgApacheLuceneStoreDirectory *target, OrgApacheLuceneIndexDirectoryReader *reader, OrgApacheLuceneSearchQuery *preserveFilter, jboolean negateFilter);

@interface OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader : OrgApacheLuceneIndexFilterCodecReader {
 @public
  id<OrgApacheLuceneUtilBits> liveDocs_;
  jint numDocs_;
}

- (instancetype)initWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                              withOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)preserveWeight
                                                  withBoolean:(jboolean)negateFilter;

- (jint)numDocs;

- (id<OrgApacheLuceneUtilBits>)getLiveDocs;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader)

J2OBJC_FIELD_SETTER(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader, liveDocs_, id<OrgApacheLuceneUtilBits>)

__attribute__((unused)) static void OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *self, OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter);

__attribute__((unused)) static OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *new_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *create_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader)

@implementation OrgApacheLuceneIndexPKIndexSplitter

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                       withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)docsInFirstIndex {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(self, input, dir1, dir2, docsInFirstIndex);
  return self;
}

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                      withOrgApacheLuceneSearchFilter:(OrgApacheLuceneSearchFilter *)docsInFirstIndex {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_(self, input, dir1, dir2, docsInFirstIndex);
  return self;
}

+ (OrgApacheLuceneIndexIndexWriterConfig *)newDefaultConfig {
  return OrgApacheLuceneIndexPKIndexSplitter_newDefaultConfig();
}

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                       withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)docsInFirstIndex
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config1
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config2 {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, docsInFirstIndex, config1, config2);
  return self;
}

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                      withOrgApacheLuceneSearchFilter:(OrgApacheLuceneSearchFilter *)docsInFirstIndex
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config1
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config2 {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, docsInFirstIndex, config1, config2);
  return self;
}

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                         withOrgApacheLuceneIndexTerm:(OrgApacheLuceneIndexTerm *)midTerm {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_(self, input, dir1, dir2, midTerm);
  return self;
}

- (instancetype)initWithOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)input
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir1
                    withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)dir2
                         withOrgApacheLuceneIndexTerm:(OrgApacheLuceneIndexTerm *)midTerm
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config1
            withOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config2 {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, midTerm, config1, config2);
  return self;
}

- (void)split {
  jboolean success = false;
  OrgApacheLuceneIndexDirectoryReader *reader = OrgApacheLuceneIndexDirectoryReader_openWithOrgApacheLuceneStoreDirectory_(input_);
  @try {
    OrgApacheLuceneIndexPKIndexSplitter_createIndexWithOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexDirectoryReader_withOrgApacheLuceneSearchQuery_withBoolean_(self, config1_, dir1_, reader, docsInFirstIndex_, false);
    OrgApacheLuceneIndexPKIndexSplitter_createIndexWithOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexDirectoryReader_withOrgApacheLuceneSearchQuery_withBoolean_(self, config2_, dir2_, reader, docsInFirstIndex_, true);
    success = true;
  }
  @finally {
    if (success) {
      OrgApacheLuceneUtilIOUtils_closeWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ reader } count:1 type:JavaIoCloseable_class_()]);
    }
    else {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ reader } count:1 type:JavaIoCloseable_class_()]);
    }
  }
}

- (void)createIndexWithOrgApacheLuceneIndexIndexWriterConfig:(OrgApacheLuceneIndexIndexWriterConfig *)config
                           withOrgApacheLuceneStoreDirectory:(OrgApacheLuceneStoreDirectory *)target
                     withOrgApacheLuceneIndexDirectoryReader:(OrgApacheLuceneIndexDirectoryReader *)reader
                              withOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)preserveFilter
                                                 withBoolean:(jboolean)negateFilter {
  OrgApacheLuceneIndexPKIndexSplitter_createIndexWithOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexDirectoryReader_withOrgApacheLuceneSearchQuery_withBoolean_(self, config, target, reader, preserveFilter, negateFilter);
}

- (void)dealloc {
  RELEASE_(docsInFirstIndex_);
  RELEASE_(input_);
  RELEASE_(dir1_);
  RELEASE_(dir2_);
  RELEASE_(config1_);
  RELEASE_(config2_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneSearchQuery:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneSearchFilter:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "newDefaultConfig", NULL, "Lorg.apache.lucene.index.IndexWriterConfig;", 0xa, NULL, NULL },
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneSearchQuery:withOrgApacheLuceneIndexIndexWriterConfig:withOrgApacheLuceneIndexIndexWriterConfig:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneSearchFilter:withOrgApacheLuceneIndexIndexWriterConfig:withOrgApacheLuceneIndexIndexWriterConfig:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneIndexTerm:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneIndexTerm:withOrgApacheLuceneIndexIndexWriterConfig:withOrgApacheLuceneIndexIndexWriterConfig:", "PKIndexSplitter", NULL, 0x1, NULL, NULL },
    { "split", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
    { "createIndexWithOrgApacheLuceneIndexIndexWriterConfig:withOrgApacheLuceneStoreDirectory:withOrgApacheLuceneIndexDirectoryReader:withOrgApacheLuceneSearchQuery:withBoolean:", "createIndex", "V", 0x2, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "docsInFirstIndex_", NULL, 0x12, "Lorg.apache.lucene.search.Query;", NULL, NULL, .constantValue.asLong = 0 },
    { "input_", NULL, 0x12, "Lorg.apache.lucene.store.Directory;", NULL, NULL, .constantValue.asLong = 0 },
    { "dir1_", NULL, 0x12, "Lorg.apache.lucene.store.Directory;", NULL, NULL, .constantValue.asLong = 0 },
    { "dir2_", NULL, 0x12, "Lorg.apache.lucene.store.Directory;", NULL, NULL, .constantValue.asLong = 0 },
    { "config1_", NULL, 0x12, "Lorg.apache.lucene.index.IndexWriterConfig;", NULL, NULL, .constantValue.asLong = 0 },
    { "config2_", NULL, 0x12, "Lorg.apache.lucene.index.IndexWriterConfig;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.apache.lucene.index.PKIndexSplitter$DocumentFilteredLeafIndexReader;"};
  static const J2ObjcClassInfo _OrgApacheLuceneIndexPKIndexSplitter = { 2, "PKIndexSplitter", "org.apache.lucene.index", NULL, 0x1, 9, methods, 6, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheLuceneIndexPKIndexSplitter;
}

@end

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex) {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, docsInFirstIndex, OrgApacheLuceneIndexPKIndexSplitter_newDefaultConfig(), OrgApacheLuceneIndexPKIndexSplitter_newDefaultConfig());
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_, input, dir1, dir2, docsInFirstIndex)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_, input, dir1, dir2, docsInFirstIndex)
}

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex) {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(self, input, dir1, dir2, docsInFirstIndex);
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_, input, dir1, dir2, docsInFirstIndex)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_, input, dir1, dir2, docsInFirstIndex)
}

OrgApacheLuceneIndexIndexWriterConfig *OrgApacheLuceneIndexPKIndexSplitter_newDefaultConfig() {
  OrgApacheLuceneIndexPKIndexSplitter_initialize();
  return [create_OrgApacheLuceneIndexIndexWriterConfig_initWithOrgApacheLuceneAnalysisAnalyzer_(nil) setOpenModeWithOrgApacheLuceneIndexIndexWriterConfig_OpenMode:JreLoadEnum(OrgApacheLuceneIndexIndexWriterConfig_OpenMode, CREATE)];
}

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  NSObject_init(self);
  JreStrongAssign(&self->input_, input);
  JreStrongAssign(&self->dir1_, dir1);
  JreStrongAssign(&self->dir2_, dir2);
  JreStrongAssign(&self->docsInFirstIndex_, docsInFirstIndex);
  JreStrongAssign(&self->config1_, config1);
  JreStrongAssign(&self->config2_, config2);
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, docsInFirstIndex, config1, config2)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchQuery *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, docsInFirstIndex, config1, config2)
}

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, docsInFirstIndex, config1, config2);
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, docsInFirstIndex, config1, config2)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneSearchFilter *docsInFirstIndex, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchFilter_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, docsInFirstIndex, config1, config2)
}

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm) {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_(self, input, dir1, dir2, create_OrgApacheLuceneSearchTermRangeQuery_initWithNSString_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withBoolean_withBoolean_([((OrgApacheLuceneIndexTerm *) nil_chk(midTerm)) field], nil, [midTerm bytes], true, false));
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_, input, dir1, dir2, midTerm)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_, input, dir1, dir2, midTerm)
}

void OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneSearchQuery_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(self, input, dir1, dir2, create_OrgApacheLuceneSearchTermRangeQuery_initWithNSString_withOrgApacheLuceneUtilBytesRef_withOrgApacheLuceneUtilBytesRef_withBoolean_withBoolean_([((OrgApacheLuceneIndexTerm *) nil_chk(midTerm)) field], nil, [midTerm bytes], true, false), config1, config2);
}

OrgApacheLuceneIndexPKIndexSplitter *new_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, midTerm, config1, config2)
}

OrgApacheLuceneIndexPKIndexSplitter *create_OrgApacheLuceneIndexPKIndexSplitter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_(OrgApacheLuceneStoreDirectory *input, OrgApacheLuceneStoreDirectory *dir1, OrgApacheLuceneStoreDirectory *dir2, OrgApacheLuceneIndexTerm *midTerm, OrgApacheLuceneIndexIndexWriterConfig *config1, OrgApacheLuceneIndexIndexWriterConfig *config2) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter, initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexTerm_withOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneIndexIndexWriterConfig_, input, dir1, dir2, midTerm, config1, config2)
}

void OrgApacheLuceneIndexPKIndexSplitter_createIndexWithOrgApacheLuceneIndexIndexWriterConfig_withOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexDirectoryReader_withOrgApacheLuceneSearchQuery_withBoolean_(OrgApacheLuceneIndexPKIndexSplitter *self, OrgApacheLuceneIndexIndexWriterConfig *config, OrgApacheLuceneStoreDirectory *target, OrgApacheLuceneIndexDirectoryReader *reader, OrgApacheLuceneSearchQuery *preserveFilter, jboolean negateFilter) {
  jboolean success = false;
  OrgApacheLuceneIndexIndexWriter *w = create_OrgApacheLuceneIndexIndexWriter_initWithOrgApacheLuceneStoreDirectory_withOrgApacheLuceneIndexIndexWriterConfig_(target, config);
  @try {
    OrgApacheLuceneSearchIndexSearcher *searcher = create_OrgApacheLuceneSearchIndexSearcher_initWithOrgApacheLuceneIndexIndexReader_(reader);
    [searcher setQueryCacheWithOrgApacheLuceneSearchQueryCache:nil];
    jboolean needsScores = false;
    OrgApacheLuceneSearchWeight *preserveWeight = [searcher createNormalizedWeightWithOrgApacheLuceneSearchQuery:preserveFilter withBoolean:needsScores];
    id<JavaUtilList> leaves = [((OrgApacheLuceneIndexDirectoryReader *) nil_chk(reader)) leaves];
    IOSObjectArray *subReaders = [IOSObjectArray arrayWithLength:[((id<JavaUtilList>) nil_chk(leaves)) size] type:OrgApacheLuceneIndexCodecReader_class_()];
    jint i = 0;
    for (OrgApacheLuceneIndexLeafReaderContext * __strong ctx in leaves) {
      IOSObjectArray_SetAndConsume(subReaders, i++, new_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(ctx, preserveWeight, negateFilter));
    }
    [w addIndexesWithOrgApacheLuceneIndexCodecReaderArray:subReaders];
    success = true;
  }
  @finally {
    if (success) {
      [w close];
    }
    else {
      OrgApacheLuceneUtilIOUtils_closeWhileHandlingExceptionWithJavaIoCloseableArray_([IOSObjectArray arrayWithObjects:(id[]){ w } count:1 type:JavaIoCloseable_class_()]);
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexPKIndexSplitter)

@implementation OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader

- (instancetype)initWithOrgApacheLuceneIndexLeafReaderContext:(OrgApacheLuceneIndexLeafReaderContext *)context
                              withOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)preserveWeight
                                                  withBoolean:(jboolean)negateFilter {
  OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(self, context, preserveWeight, negateFilter);
  return self;
}

- (jint)numDocs {
  return numDocs_;
}

- (id<OrgApacheLuceneUtilBits>)getLiveDocs {
  return liveDocs_;
}

- (void)dealloc {
  RELEASE_(liveDocs_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneIndexLeafReaderContext:withOrgApacheLuceneSearchWeight:withBoolean:", "DocumentFilteredLeafIndexReader", NULL, 0x1, "Ljava.io.IOException;", NULL },
    { "numDocs", NULL, "I", 0x1, NULL, NULL },
    { "getLiveDocs", NULL, "Lorg.apache.lucene.util.Bits;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "liveDocs_", NULL, 0x10, "Lorg.apache.lucene.util.Bits;", NULL, NULL, .constantValue.asLong = 0 },
    { "numDocs_", NULL, 0x10, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader = { 2, "DocumentFilteredLeafIndexReader", "org.apache.lucene.index", "PKIndexSplitter", 0xa, 3, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader;
}

@end

void OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *self, OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter) {
  OrgApacheLuceneIndexFilterCodecReader_initWithOrgApacheLuceneIndexCodecReader_(self, (OrgApacheLuceneIndexCodecReader *) cast_chk([((OrgApacheLuceneIndexLeafReaderContext *) nil_chk(context)) reader], [OrgApacheLuceneIndexCodecReader class]));
  jint maxDoc = [((OrgApacheLuceneIndexCodecReader *) nil_chk(self->in_)) maxDoc];
  OrgApacheLuceneUtilFixedBitSet *bits = create_OrgApacheLuceneUtilFixedBitSet_initWithInt_(maxDoc);
  OrgApacheLuceneSearchDocIdSetIterator *preserveIt = [((OrgApacheLuceneSearchWeight *) nil_chk(preserveWeight)) scorerWithOrgApacheLuceneIndexLeafReaderContext:context];
  if (preserveIt != nil) {
    [bits or__WithOrgApacheLuceneSearchDocIdSetIterator:preserveIt];
  }
  if (negateFilter) {
    [bits flipWithInt:0 withInt:maxDoc];
  }
  if ([self->in_ hasDeletions]) {
    id<OrgApacheLuceneUtilBits> oldLiveDocs = [self->in_ getLiveDocs];
    JreAssert((oldLiveDocs != nil), (@"org/apache/lucene/index/PKIndexSplitter.java:163 condition failed: assert oldLiveDocs != null;"));
    OrgApacheLuceneSearchDocIdSetIterator *it = create_OrgApacheLuceneUtilBitSetIterator_initWithOrgApacheLuceneUtilBitSet_withLong_(bits, 0LL);
    for (jint i = [it nextDoc]; i != OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS; i = [it nextDoc]) {
      if (![((id<OrgApacheLuceneUtilBits>) nil_chk(oldLiveDocs)) getWithInt:i]) {
        [bits clearWithInt:i];
      }
    }
  }
  JreStrongAssign(&self->liveDocs_, bits);
  self->numDocs_ = [bits cardinality];
}

OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *new_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader, initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_, context, preserveWeight, negateFilter)
}

OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader *create_OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader_initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_(OrgApacheLuceneIndexLeafReaderContext *context, OrgApacheLuceneSearchWeight *preserveWeight, jboolean negateFilter) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader, initWithOrgApacheLuceneIndexLeafReaderContext_withOrgApacheLuceneSearchWeight_withBoolean_, context, preserveWeight, negateFilter)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneIndexPKIndexSplitter_DocumentFilteredLeafIndexReader)
