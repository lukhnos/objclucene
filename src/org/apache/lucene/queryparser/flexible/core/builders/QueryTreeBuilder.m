//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./queryparser/src/java/org/apache/lucene/queryparser/flexible/core/builders/QueryTreeBuilder.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/CharSequence.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"
#include "org/apache/lucene/queryparser/flexible/core/QueryNodeException.h"
#include "org/apache/lucene/queryparser/flexible/core/builders/QueryBuilder.h"
#include "org/apache/lucene/queryparser/flexible/core/builders/QueryTreeBuilder.h"
#include "org/apache/lucene/queryparser/flexible/core/messages/QueryParserMessages.h"
#include "org/apache/lucene/queryparser/flexible/core/nodes/FieldableNode.h"
#include "org/apache/lucene/queryparser/flexible/core/nodes/QueryNode.h"
#include "org/apache/lucene/queryparser/flexible/messages/MessageImpl.h"
#include "org/apache/lucene/queryparser/flexible/standard/parser/EscapeQuerySyntaxImpl.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/queryparser/flexible/core/builders/QueryTreeBuilder must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder () {
 @public
  JavaUtilHashMap *queryNodeBuilders_;
  JavaUtilHashMap *fieldNameBuilders_;
}

- (void)processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node;

- (id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node;

- (void)processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node
             withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:(id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)builder;

- (id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)getQueryBuilderWithIOSClass:(IOSClass *)clazz;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder, queryNodeBuilders_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder, fieldNameBuilders_, JavaUtilHashMap *)

__attribute__((unused)) static void OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node);

__attribute__((unused)) static id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node);

__attribute__((unused)) static void OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node, id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> builder);

__attribute__((unused)) static id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getQueryBuilderWithIOSClass_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, IOSClass *clazz);

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder)

NSString *OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID;

@implementation OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder

+ (NSString *)QUERY_TREE_BUILDER_TAGID {
  return OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID;
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)setBuilderWithJavaLangCharSequence:(id<JavaLangCharSequence>)fieldName
withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:(id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)builder {
  if (self->fieldNameBuilders_ == nil) {
    JreStrongAssignAndConsume(&self->fieldNameBuilders_, new_JavaUtilHashMap_init());
  }
  [self->fieldNameBuilders_ putWithId:[((id<JavaLangCharSequence>) nil_chk(fieldName)) description] withId:builder];
}

- (void)setBuilderWithIOSClass:(IOSClass *)queryNodeClass
withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:(id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)builder {
  if (self->queryNodeBuilders_ == nil) {
    JreStrongAssignAndConsume(&self->queryNodeBuilders_, new_JavaUtilHashMap_init());
  }
  [self->queryNodeBuilders_ putWithId:queryNodeClass withId:builder];
}

- (void)processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node {
  OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(self, node);
}

- (id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node {
  return OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(self, node);
}

- (void)processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)node
             withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:(id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)builder {
  OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder_(self, node, builder);
}

- (id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder>)getQueryBuilderWithIOSClass:(IOSClass *)clazz {
  return OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getQueryBuilderWithIOSClass_(self, clazz);
}

- (id)buildWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:(id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>)queryNode {
  OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(self, queryNode);
  return [((id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>) nil_chk(queryNode)) getTagWithNSString:OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID];
}

- (void)dealloc {
  RELEASE_(queryNodeBuilders_);
  RELEASE_(fieldNameBuilders_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 2, -1, 3, -1, -1 },
    { NULL, "V", 0x2, 4, 5, 6, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder;", 0x2, 7, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 8, 9, 6, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder;", 0x2, 10, 11, -1, 12, -1, -1 },
    { NULL, "LNSObject;", 0x1, 13, 5, 6, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(setBuilderWithJavaLangCharSequence:withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:);
  methods[2].selector = @selector(setBuilderWithIOSClass:withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:);
  methods[3].selector = @selector(processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:);
  methods[4].selector = @selector(getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:);
  methods[5].selector = @selector(processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder:);
  methods[6].selector = @selector(getQueryBuilderWithIOSClass:);
  methods[7].selector = @selector(buildWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "QUERY_TREE_BUILDER_TAGID", "LNSString;", .constantValue.asLong = 0, 0x19, -1, 14, -1, -1 },
    { "queryNodeBuilders_", "LJavaUtilHashMap;", .constantValue.asLong = 0, 0x2, -1, -1, 15, -1 },
    { "fieldNameBuilders_", "LJavaUtilHashMap;", .constantValue.asLong = 0, 0x2, -1, -1, 16, -1 },
  };
  static const void *ptrTable[] = { "setBuilder", "LJavaLangCharSequence;LOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder;", "LIOSClass;LOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder;", "(Ljava/lang/Class<+Lorg/apache/lucene/queryparser/flexible/core/nodes/QueryNode;>;Lorg/apache/lucene/queryparser/flexible/core/builders/QueryBuilder;)V", "process", "LOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode;", "LOrgApacheLuceneQueryparserFlexibleCoreQueryNodeException;", "getBuilder", "processNode", "LOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode;LOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder;", "getQueryBuilder", "LIOSClass;", "(Ljava/lang/Class<*>;)Lorg/apache/lucene/queryparser/flexible/core/builders/QueryBuilder;", "build", &OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID, "Ljava/util/HashMap<Ljava/lang/Class<+Lorg/apache/lucene/queryparser/flexible/core/nodes/QueryNode;>;Lorg/apache/lucene/queryparser/flexible/core/builders/QueryBuilder;>;", "Ljava/util/HashMap<Ljava/lang/String;Lorg/apache/lucene/queryparser/flexible/core/builders/QueryBuilder;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder = { "QueryTreeBuilder", "org.apache.lucene.queryparser.flexible.core.builders", ptrTable, methods, fields, 7, 0x1, 8, 3, -1, -1, -1, -1, -1 };
  return &_OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder;
}

+ (void)initialize {
  if (self == [OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder class]) {
    JreStrongAssign(&OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID, [OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_class_() getName]);
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder)
  }
}

@end

void OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_init(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self) {
  NSObject_init(self);
}

OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *new_OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder, init)
}

OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *create_OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder, init)
}

void OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node) {
  if (node != nil) {
    id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> builder = OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(self, node);
    if (!([builder isKindOfClass:[OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder class]])) {
      id<JavaUtilList> children = JreRetainedLocalValue([node getChildren]);
      if (children != nil) {
        for (id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> __strong child in children) {
          OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(self, child);
        }
      }
    }
    OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder_(self, node, builder);
  }
}

id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getBuilderWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node) {
  id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> builder = nil;
  if (self->fieldNameBuilders_ != nil && [OrgApacheLuceneQueryparserFlexibleCoreNodesFieldableNode_class_() isInstance:node]) {
    id<JavaLangCharSequence> field = JreRetainedLocalValue([((id<OrgApacheLuceneQueryparserFlexibleCoreNodesFieldableNode>) nil_chk(((id<OrgApacheLuceneQueryparserFlexibleCoreNodesFieldableNode>) cast_check(node, OrgApacheLuceneQueryparserFlexibleCoreNodesFieldableNode_class_())))) getField]);
    if (field != nil) {
      field = [field description];
    }
    builder = [((JavaUtilHashMap *) nil_chk(self->fieldNameBuilders_)) getWithId:field];
  }
  if (builder == nil && self->queryNodeBuilders_ != nil) {
    IOSClass *clazz = [((id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>) nil_chk(node)) java_getClass];
    do {
      builder = OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getQueryBuilderWithIOSClass_(self, clazz);
      if (builder == nil) {
        IOSObjectArray *classes = [((IOSClass *) nil_chk(clazz)) getInterfaces];
        {
          IOSObjectArray *a__ = classes;
          IOSClass * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
          IOSClass * const *e__ = b__ + a__->size_;
          while (b__ < e__) {
            IOSClass *actualClass = *b__++;
            builder = OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getQueryBuilderWithIOSClass_(self, actualClass);
            if (builder != nil) {
              break;
            }
          }
        }
      }
    }
    while (builder == nil && (clazz = [((IOSClass *) nil_chk(clazz)) getSuperclass]) != nil);
  }
  return builder;
}

void OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_processNodeWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_withOrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode> node, id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> builder) {
  if (builder == nil) {
    @throw create_OrgApacheLuceneQueryparserFlexibleCoreQueryNodeException_initWithOrgApacheLuceneQueryparserFlexibleMessagesMessage_(create_OrgApacheLuceneQueryparserFlexibleMessagesMessageImpl_initWithNSString_withNSObjectArray_(JreLoadStatic(OrgApacheLuceneQueryparserFlexibleCoreMessagesQueryParserMessages, LUCENE_QUERY_CONVERSION_ERROR), [IOSObjectArray arrayWithObjects:(id[]){ [((id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>) nil_chk(node)) toQueryStringWithOrgApacheLuceneQueryparserFlexibleCoreParserEscapeQuerySyntax:create_OrgApacheLuceneQueryparserFlexibleStandardParserEscapeQuerySyntaxImpl_init()], [[node java_getClass] getName] } count:2 type:NSObject_class_()]));
  }
  id obj = JreRetainedLocalValue([builder buildWithOrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode:node]);
  if (obj != nil) {
    [((id<OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode>) nil_chk(node)) setTagWithNSString:OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_QUERY_TREE_BUILDER_TAGID withId:obj];
  }
}

id<OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryBuilder> OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder_getQueryBuilderWithIOSClass_(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder *self, IOSClass *clazz) {
  if ([OrgApacheLuceneQueryparserFlexibleCoreNodesQueryNode_class_() isAssignableFrom:clazz]) {
    return [((JavaUtilHashMap *) nil_chk(self->queryNodeBuilders_)) getWithId:clazz];
  }
  return nil;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneQueryparserFlexibleCoreBuildersQueryTreeBuilder)
