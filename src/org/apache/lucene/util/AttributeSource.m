//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/util/AttributeSource.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/System.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/Iterator.h"
#include "java/util/LinkedHashMap.h"
#include "java/util/LinkedHashSet.h"
#include "java/util/Map.h"
#include "java/util/NoSuchElementException.h"
#include "java/util/Set.h"
#include "java/util/function/Consumer.h"
#include "org/apache/lucene/util/Attribute.h"
#include "org/apache/lucene/util/AttributeFactory.h"
#include "org/apache/lucene/util/AttributeImpl.h"
#include "org/apache/lucene/util/AttributeReflector.h"
#include "org/apache/lucene/util/AttributeSource.h"
#include "org/lukhnos/portmobile/lang/ClassValue.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/util/AttributeSource must not be compiled with ARC (-fobjc-arc)"
#endif

#pragma clang diagnostic ignored "-Wincomplete-implementation"

@interface OrgApacheLuceneUtilAttributeSource () {
 @public
  id<JavaUtilMap> attributes_;
  id<JavaUtilMap> attributeImpls_;
  IOSObjectArray *currentState_;
  OrgApacheLuceneUtilAttributeFactory *factory_;
}

- (OrgApacheLuceneUtilAttributeSource_State *)getCurrentState;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneUtilAttributeSource, attributes_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneUtilAttributeSource, attributeImpls_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneUtilAttributeSource, currentState_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneUtilAttributeSource, factory_, OrgApacheLuceneUtilAttributeFactory *)

/*!
 @brief a cache that stores all interfaces for known implementation classes for performance (slow reflection)
 */
inline OrgLukhnosPortmobileLangClassValue *OrgApacheLuceneUtilAttributeSource_get_implInterfaces(void);
static OrgLukhnosPortmobileLangClassValue *OrgApacheLuceneUtilAttributeSource_implInterfaces;
J2OBJC_STATIC_FIELD_OBJ_FINAL(OrgApacheLuceneUtilAttributeSource, implInterfaces, OrgLukhnosPortmobileLangClassValue *)

__attribute__((unused)) static void OrgApacheLuceneUtilAttributeSource_addAttributeImplWithOrgApacheLuceneUtilAttributeImpl_(OrgApacheLuceneUtilAttributeSource *self, OrgApacheLuceneUtilAttributeImpl *att);

__attribute__((unused)) static jboolean OrgApacheLuceneUtilAttributeSource_hasAttributes(OrgApacheLuceneUtilAttributeSource *self);

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_State *OrgApacheLuceneUtilAttributeSource_getCurrentState(OrgApacheLuceneUtilAttributeSource *self);

__attribute__((unused)) static NSString *OrgApacheLuceneUtilAttributeSource_reflectAsStringWithBoolean_(OrgApacheLuceneUtilAttributeSource *self, jboolean prependAttClass);

__attribute__((unused)) static void OrgApacheLuceneUtilAttributeSource_reflectWithWithOrgApacheLuceneUtilAttributeReflector_(OrgApacheLuceneUtilAttributeSource *self, id<OrgApacheLuceneUtilAttributeReflector> reflector);

@interface OrgApacheLuceneUtilAttributeSource_1 : NSObject < JavaUtilIterator > {
 @public
  OrgApacheLuceneUtilAttributeSource_State *state_;
}

- (instancetype)initWithOrgApacheLuceneUtilAttributeSource_State:(OrgApacheLuceneUtilAttributeSource_State *)capture$0;

- (void)remove;

- (OrgApacheLuceneUtilAttributeImpl *)next;

- (jboolean)hasNext;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneUtilAttributeSource_1)

J2OBJC_FIELD_SETTER(OrgApacheLuceneUtilAttributeSource_1, state_, OrgApacheLuceneUtilAttributeSource_State *)

__attribute__((unused)) static void OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_1 *self, OrgApacheLuceneUtilAttributeSource_State *capture$0);

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_1 *new_OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_State *capture$0) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_1 *create_OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_State *capture$0);

@interface OrgApacheLuceneUtilAttributeSource_2 : OrgLukhnosPortmobileLangClassValue

- (instancetype)init;

- (IOSObjectArray *)computeValueWithIOSClass:(IOSClass *)clazz;

- (IOSObjectArray *)getWithIOSClass:(IOSClass *)arg0;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneUtilAttributeSource_2)

__attribute__((unused)) static void OrgApacheLuceneUtilAttributeSource_2_init(OrgApacheLuceneUtilAttributeSource_2 *self);

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_2 *new_OrgApacheLuceneUtilAttributeSource_2_init(void) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_2 *create_OrgApacheLuceneUtilAttributeSource_2_init(void);

@interface OrgApacheLuceneUtilAttributeSource_3 : NSObject < OrgApacheLuceneUtilAttributeReflector > {
 @public
  JavaLangStringBuilder *val$buffer_;
  jboolean val$prependAttClass_;
}

- (instancetype)initWithJavaLangStringBuilder:(JavaLangStringBuilder *)capture$0
                                  withBoolean:(jboolean)capture$1;

- (void)reflectWithIOSClass:(IOSClass *)attClass
               withNSString:(NSString *)key
                     withId:(id)value;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneUtilAttributeSource_3)

__attribute__((unused)) static void OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(OrgApacheLuceneUtilAttributeSource_3 *self, JavaLangStringBuilder *capture$0, jboolean capture$1);

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_3 *new_OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(JavaLangStringBuilder *capture$0, jboolean capture$1) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneUtilAttributeSource_3 *create_OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(JavaLangStringBuilder *capture$0, jboolean capture$1);

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneUtilAttributeSource)

@implementation OrgApacheLuceneUtilAttributeSource

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneUtilAttributeSource_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (instancetype)initWithOrgApacheLuceneUtilAttributeSource:(OrgApacheLuceneUtilAttributeSource *)input {
  OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeSource_(self, input);
  return self;
}

- (instancetype)initWithOrgApacheLuceneUtilAttributeFactory:(OrgApacheLuceneUtilAttributeFactory *)factory {
  OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(self, factory);
  return self;
}

- (OrgApacheLuceneUtilAttributeFactory *)getAttributeFactory {
  return self->factory_;
}

- (id<JavaUtilIterator>)getAttributeClassesIterator {
  return [((id<JavaUtilSet>) nil_chk(JavaUtilCollections_unmodifiableSetWithJavaUtilSet_([((id<JavaUtilMap>) nil_chk(attributes_)) keySet]))) iterator];
}

- (id<JavaUtilIterator>)getAttributeImplsIterator {
  OrgApacheLuceneUtilAttributeSource_State *initState = OrgApacheLuceneUtilAttributeSource_getCurrentState(self);
  if (initState != nil) {
    return create_OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(initState);
  }
  else {
    return [((id<JavaUtilSet>) nil_chk(JavaUtilCollections_emptySet())) iterator];
  }
}

+ (IOSObjectArray *)getAttributeInterfacesWithIOSClass:(IOSClass *)clazz {
  return OrgApacheLuceneUtilAttributeSource_getAttributeInterfacesWithIOSClass_(clazz);
}

- (void)addAttributeImplWithOrgApacheLuceneUtilAttributeImpl:(OrgApacheLuceneUtilAttributeImpl *)att {
  OrgApacheLuceneUtilAttributeSource_addAttributeImplWithOrgApacheLuceneUtilAttributeImpl_(self, att);
}

- (id<OrgApacheLuceneUtilAttribute>)addAttributeWithIOSClass:(IOSClass *)attClass {
  OrgApacheLuceneUtilAttributeImpl *attImpl = JreRetainedLocalValue([((id<JavaUtilMap>) nil_chk(attributes_)) getWithId:attClass]);
  if (attImpl == nil) {
    if (!([((IOSClass *) nil_chk(attClass)) isInterface] && [OrgApacheLuceneUtilAttribute_class_() isAssignableFrom:attClass])) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"addAttribute() only accepts an interface that extends Attribute, but ", [attClass getName], @" does not fulfil this contract."));
    }
    OrgApacheLuceneUtilAttributeSource_addAttributeImplWithOrgApacheLuceneUtilAttributeImpl_(self, attImpl = [((OrgApacheLuceneUtilAttributeFactory *) nil_chk(self->factory_)) createAttributeInstanceWithIOSClass:attClass]);
  }
  return [((IOSClass *) nil_chk(attClass)) cast:attImpl];
}

- (jboolean)hasAttributes {
  return OrgApacheLuceneUtilAttributeSource_hasAttributes(self);
}

- (jboolean)hasAttributeWithIOSClass:(IOSClass *)attClass {
  return [((id<JavaUtilMap>) nil_chk(self->attributes_)) containsKeyWithId:attClass];
}

- (id<OrgApacheLuceneUtilAttribute>)getAttributeWithIOSClass:(IOSClass *)attClass {
  return [((IOSClass *) nil_chk(attClass)) cast:[((id<JavaUtilMap>) nil_chk(attributes_)) getWithId:attClass]];
}

- (OrgApacheLuceneUtilAttributeSource_State *)getCurrentState {
  return OrgApacheLuceneUtilAttributeSource_getCurrentState(self);
}

- (void)clearAttributes {
  for (OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self); state != nil; state = state->next_) {
    [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) clear];
  }
}

- (OrgApacheLuceneUtilAttributeSource_State *)captureState {
  OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self);
  return (state == nil) ? nil : [((OrgApacheLuceneUtilAttributeSource_State *) nil_chk(state)) java_clone];
}

- (void)restoreStateWithOrgApacheLuceneUtilAttributeSource_State:(OrgApacheLuceneUtilAttributeSource_State *)state {
  if (state == nil) return;
  do {
    OrgApacheLuceneUtilAttributeImpl *targetImpl = JreRetainedLocalValue([((id<JavaUtilMap>) nil_chk(attributeImpls_)) getWithId:[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_getClass]]);
    if (targetImpl == nil) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"State contains AttributeImpl of type ", [[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_getClass] getName], @" that is not in in this AttributeSource"));
    }
    [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) copyToWithOrgApacheLuceneUtilAttributeImpl:targetImpl];
    state = state->next_;
  }
  while (state != nil);
}

- (NSUInteger)hash {
  jint code = 0;
  for (OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self); state != nil; state = state->next_) {
    code = code * 31 + ((jint) [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) hash]);
  }
  return code;
}

- (jboolean)isEqual:(id)obj {
  if (JreObjectEqualsEquals(obj, self)) {
    return true;
  }
  if ([obj isKindOfClass:[OrgApacheLuceneUtilAttributeSource class]]) {
    OrgApacheLuceneUtilAttributeSource *other = (OrgApacheLuceneUtilAttributeSource *) obj;
    if (OrgApacheLuceneUtilAttributeSource_hasAttributes(self)) {
      if (!OrgApacheLuceneUtilAttributeSource_hasAttributes(nil_chk(other))) {
        return false;
      }
      if ([((id<JavaUtilMap>) nil_chk(self->attributeImpls_)) size] != [other->attributeImpls_ size]) {
        return false;
      }
      OrgApacheLuceneUtilAttributeSource_State *thisState = OrgApacheLuceneUtilAttributeSource_getCurrentState(self);
      OrgApacheLuceneUtilAttributeSource_State *otherState = OrgApacheLuceneUtilAttributeSource_getCurrentState(other);
      while (thisState != nil && otherState != nil) {
        if (!JreObjectEqualsEquals([((OrgApacheLuceneUtilAttributeImpl *) nil_chk(otherState->attribute_)) java_getClass], [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(thisState->attribute_)) java_getClass]) || ![((OrgApacheLuceneUtilAttributeImpl *) nil_chk(otherState->attribute_)) isEqual:thisState->attribute_]) {
          return false;
        }
        thisState = thisState->next_;
        otherState = otherState->next_;
      }
      return true;
    }
    else {
      return !OrgApacheLuceneUtilAttributeSource_hasAttributes(nil_chk(other));
    }
  }
  else return false;
}

- (NSString *)reflectAsStringWithBoolean:(jboolean)prependAttClass {
  return OrgApacheLuceneUtilAttributeSource_reflectAsStringWithBoolean_(self, prependAttClass);
}

- (void)reflectWithWithOrgApacheLuceneUtilAttributeReflector:(id<OrgApacheLuceneUtilAttributeReflector>)reflector {
  OrgApacheLuceneUtilAttributeSource_reflectWithWithOrgApacheLuceneUtilAttributeReflector_(self, reflector);
}

- (OrgApacheLuceneUtilAttributeSource *)cloneAttributes {
  OrgApacheLuceneUtilAttributeSource *clone = create_OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(self->factory_);
  if (OrgApacheLuceneUtilAttributeSource_hasAttributes(self)) {
    for (OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self); state != nil; state = state->next_) {
      [((id<JavaUtilMap>) nil_chk(clone->attributeImpls_)) putWithId:[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_getClass] withId:[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_clone]];
    }
    for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([((id<JavaUtilMap>) nil_chk(self->attributes_)) entrySet])) {
      [clone->attributes_ putWithId:[((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey] withId:[((id<JavaUtilMap>) nil_chk(clone->attributeImpls_)) getWithId:[((OrgApacheLuceneUtilAttributeImpl *) nil_chk([entry_ getValue])) java_getClass]]];
    }
  }
  return clone;
}

- (void)copyToWithOrgApacheLuceneUtilAttributeSource:(OrgApacheLuceneUtilAttributeSource *)target {
  for (OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self); state != nil; state = state->next_) {
    OrgApacheLuceneUtilAttributeImpl *targetImpl = [((id<JavaUtilMap>) nil_chk(((OrgApacheLuceneUtilAttributeSource *) nil_chk(target))->attributeImpls_)) getWithId:[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_getClass]];
    if (targetImpl == nil) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$", @"This AttributeSource contains AttributeImpl of type ", [[((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) java_getClass] getName], @" that is not in the target"));
    }
    [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) copyToWithOrgApacheLuceneUtilAttributeImpl:targetImpl];
  }
}

- (NSString *)description {
  return JreStrcat("$C$C$", [[self java_getClass] getSimpleName], '@', JavaLangInteger_toHexStringWithInt_(JavaLangSystem_identityHashCodeWithId_(self)), ' ', OrgApacheLuceneUtilAttributeSource_reflectAsStringWithBoolean_(self, false));
}

- (void)dealloc {
  RELEASE_(attributes_);
  RELEASE_(attributeImpls_);
  RELEASE_(currentState_);
  RELEASE_(factory_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeFactory;", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilIterator;", 0x11, -1, -1, -1, 2, -1, -1 },
    { NULL, "LJavaUtilIterator;", 0x11, -1, -1, -1, 3, -1, -1 },
    { NULL, "[LIOSClass;", 0x8, 4, 5, -1, 6, -1, -1 },
    { NULL, "V", 0x11, 7, 8, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttribute;", 0x11, 9, 5, -1, 10, -1, -1 },
    { NULL, "Z", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x11, 11, 5, -1, 12, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttribute;", 0x11, 13, 5, -1, 10, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeSource_State;", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeSource_State;", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x11, 14, 15, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 16, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 17, 18, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x11, 19, 20, -1, -1, -1, -1 },
    { NULL, "V", 0x11, 21, 22, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeSource;", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x11, 23, 0, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 24, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(initWithOrgApacheLuceneUtilAttributeSource:);
  methods[2].selector = @selector(initWithOrgApacheLuceneUtilAttributeFactory:);
  methods[3].selector = @selector(getAttributeFactory);
  methods[4].selector = @selector(getAttributeClassesIterator);
  methods[5].selector = @selector(getAttributeImplsIterator);
  methods[6].selector = @selector(getAttributeInterfacesWithIOSClass:);
  methods[7].selector = @selector(addAttributeImplWithOrgApacheLuceneUtilAttributeImpl:);
  methods[8].selector = @selector(addAttributeWithIOSClass:);
  methods[9].selector = @selector(hasAttributes);
  methods[10].selector = @selector(hasAttributeWithIOSClass:);
  methods[11].selector = @selector(getAttributeWithIOSClass:);
  methods[12].selector = @selector(getCurrentState);
  methods[13].selector = @selector(clearAttributes);
  methods[14].selector = @selector(captureState);
  methods[15].selector = @selector(restoreStateWithOrgApacheLuceneUtilAttributeSource_State:);
  methods[16].selector = @selector(hash);
  methods[17].selector = @selector(isEqual:);
  methods[18].selector = @selector(reflectAsStringWithBoolean:);
  methods[19].selector = @selector(reflectWithWithOrgApacheLuceneUtilAttributeReflector:);
  methods[20].selector = @selector(cloneAttributes);
  methods[21].selector = @selector(copyToWithOrgApacheLuceneUtilAttributeSource:);
  methods[22].selector = @selector(description);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "attributes_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 25, -1 },
    { "attributeImpls_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 26, -1 },
    { "currentState_", "[LOrgApacheLuceneUtilAttributeSource_State;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "factory_", "LOrgApacheLuceneUtilAttributeFactory;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "implInterfaces", "LOrgLukhnosPortmobileLangClassValue;", .constantValue.asLong = 0, 0x1a, -1, 27, 28, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneUtilAttributeSource;", "LOrgApacheLuceneUtilAttributeFactory;", "()Ljava/util/Iterator<Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;>;", "()Ljava/util/Iterator<Lorg/apache/lucene/util/AttributeImpl;>;", "getAttributeInterfaces", "LIOSClass;", "(Ljava/lang/Class<+Lorg/apache/lucene/util/AttributeImpl;>;)[Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;", "addAttributeImpl", "LOrgApacheLuceneUtilAttributeImpl;", "addAttribute", "<T::Lorg/apache/lucene/util/Attribute;>(Ljava/lang/Class<TT;>;)TT;", "hasAttribute", "(Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;)Z", "getAttribute", "restoreState", "LOrgApacheLuceneUtilAttributeSource_State;", "hashCode", "equals", "LNSObject;", "reflectAsString", "Z", "reflectWith", "LOrgApacheLuceneUtilAttributeReflector;", "copyTo", "toString", "Ljava/util/Map<Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;Lorg/apache/lucene/util/AttributeImpl;>;", "Ljava/util/Map<Ljava/lang/Class<+Lorg/apache/lucene/util/AttributeImpl;>;Lorg/apache/lucene/util/AttributeImpl;>;", &OrgApacheLuceneUtilAttributeSource_implInterfaces, "Lorg/lukhnos/portmobile/lang/ClassValue<[Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneUtilAttributeSource = { "AttributeSource", "org.apache.lucene.util", ptrTable, methods, fields, 7, 0x1, 23, 5, -1, 15, -1, -1, -1 };
  return &_OrgApacheLuceneUtilAttributeSource;
}

+ (void)initialize {
  if (self == [OrgApacheLuceneUtilAttributeSource class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneUtilAttributeSource_implInterfaces, new_OrgApacheLuceneUtilAttributeSource_2_init());
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneUtilAttributeSource)
  }
}

@end

void OrgApacheLuceneUtilAttributeSource_init(OrgApacheLuceneUtilAttributeSource *self) {
  OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(self, JreLoadStatic(OrgApacheLuceneUtilAttributeFactory, DEFAULT_ATTRIBUTE_FACTORY));
}

OrgApacheLuceneUtilAttributeSource *new_OrgApacheLuceneUtilAttributeSource_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource, init)
}

OrgApacheLuceneUtilAttributeSource *create_OrgApacheLuceneUtilAttributeSource_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource, init)
}

void OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeSource_(OrgApacheLuceneUtilAttributeSource *self, OrgApacheLuceneUtilAttributeSource *input) {
  NSObject_init(self);
  if (input == nil) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"input AttributeSource must not be null");
  }
  JreStrongAssign(&self->attributes_, input->attributes_);
  JreStrongAssign(&self->attributeImpls_, input->attributeImpls_);
  JreStrongAssign(&self->currentState_, input->currentState_);
  JreStrongAssign(&self->factory_, input->factory_);
}

OrgApacheLuceneUtilAttributeSource *new_OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeSource_(OrgApacheLuceneUtilAttributeSource *input) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource, initWithOrgApacheLuceneUtilAttributeSource_, input)
}

OrgApacheLuceneUtilAttributeSource *create_OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeSource_(OrgApacheLuceneUtilAttributeSource *input) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource, initWithOrgApacheLuceneUtilAttributeSource_, input)
}

void OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(OrgApacheLuceneUtilAttributeSource *self, OrgApacheLuceneUtilAttributeFactory *factory) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->attributes_, new_JavaUtilLinkedHashMap_init());
  JreStrongAssignAndConsume(&self->attributeImpls_, new_JavaUtilLinkedHashMap_init());
  JreStrongAssignAndConsume(&self->currentState_, [IOSObjectArray newArrayWithLength:1 type:OrgApacheLuceneUtilAttributeSource_State_class_()]);
  JreStrongAssign(&self->factory_, factory);
}

OrgApacheLuceneUtilAttributeSource *new_OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(OrgApacheLuceneUtilAttributeFactory *factory) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource, initWithOrgApacheLuceneUtilAttributeFactory_, factory)
}

OrgApacheLuceneUtilAttributeSource *create_OrgApacheLuceneUtilAttributeSource_initWithOrgApacheLuceneUtilAttributeFactory_(OrgApacheLuceneUtilAttributeFactory *factory) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource, initWithOrgApacheLuceneUtilAttributeFactory_, factory)
}

IOSObjectArray *OrgApacheLuceneUtilAttributeSource_getAttributeInterfacesWithIOSClass_(IOSClass *clazz) {
  OrgApacheLuceneUtilAttributeSource_initialize();
  return [((OrgLukhnosPortmobileLangClassValue *) nil_chk(OrgApacheLuceneUtilAttributeSource_implInterfaces)) getWithIOSClass:clazz];
}

void OrgApacheLuceneUtilAttributeSource_addAttributeImplWithOrgApacheLuceneUtilAttributeImpl_(OrgApacheLuceneUtilAttributeSource *self, OrgApacheLuceneUtilAttributeImpl *att) {
  IOSClass *clazz = [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(att)) java_getClass];
  if ([((id<JavaUtilMap>) nil_chk(self->attributeImpls_)) containsKeyWithId:clazz]) return;
  {
    IOSObjectArray *a__ = OrgApacheLuceneUtilAttributeSource_getAttributeInterfacesWithIOSClass_(clazz);
    IOSClass * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    IOSClass * const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      IOSClass *curInterface = *b__++;
      if (![((id<JavaUtilMap>) nil_chk(self->attributes_)) containsKeyWithId:curInterface]) {
        IOSObjectArray_Set(nil_chk(self->currentState_), 0, nil);
        [self->attributes_ putWithId:curInterface withId:att];
        [self->attributeImpls_ putWithId:clazz withId:att];
      }
    }
  }
}

jboolean OrgApacheLuceneUtilAttributeSource_hasAttributes(OrgApacheLuceneUtilAttributeSource *self) {
  return ![((id<JavaUtilMap>) nil_chk(self->attributes_)) isEmpty];
}

OrgApacheLuceneUtilAttributeSource_State *OrgApacheLuceneUtilAttributeSource_getCurrentState(OrgApacheLuceneUtilAttributeSource *self) {
  OrgApacheLuceneUtilAttributeSource_State *s = IOSObjectArray_Get(nil_chk(self->currentState_), 0);
  if (s != nil || !OrgApacheLuceneUtilAttributeSource_hasAttributes(self)) {
    return s;
  }
  OrgApacheLuceneUtilAttributeSource_State *c = s = IOSObjectArray_SetAndConsume(self->currentState_, 0, new_OrgApacheLuceneUtilAttributeSource_State_init());
  id<JavaUtilIterator> it = [((id<JavaUtilCollection>) nil_chk([((id<JavaUtilMap>) nil_chk(self->attributeImpls_)) values])) iterator];
  JreStrongAssign(&c->attribute_, [((id<JavaUtilIterator>) nil_chk(it)) next]);
  while ([it hasNext]) {
    JreStrongAssignAndConsume(&c->next_, new_OrgApacheLuceneUtilAttributeSource_State_init());
    c = c->next_;
    JreStrongAssign(&c->attribute_, [it next]);
  }
  return s;
}

NSString *OrgApacheLuceneUtilAttributeSource_reflectAsStringWithBoolean_(OrgApacheLuceneUtilAttributeSource *self, jboolean prependAttClass) {
  JavaLangStringBuilder *buffer = create_JavaLangStringBuilder_init();
  OrgApacheLuceneUtilAttributeSource_reflectWithWithOrgApacheLuceneUtilAttributeReflector_(self, create_OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(buffer, prependAttClass));
  return [buffer description];
}

void OrgApacheLuceneUtilAttributeSource_reflectWithWithOrgApacheLuceneUtilAttributeReflector_(OrgApacheLuceneUtilAttributeSource *self, id<OrgApacheLuceneUtilAttributeReflector> reflector) {
  for (OrgApacheLuceneUtilAttributeSource_State *state = OrgApacheLuceneUtilAttributeSource_getCurrentState(self); state != nil; state = state->next_) {
    [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(state->attribute_)) reflectWithWithOrgApacheLuceneUtilAttributeReflector:reflector];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneUtilAttributeSource)

@implementation OrgApacheLuceneUtilAttributeSource_State

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneUtilAttributeSource_State_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (OrgApacheLuceneUtilAttributeSource_State *)java_clone {
  OrgApacheLuceneUtilAttributeSource_State *clone = create_OrgApacheLuceneUtilAttributeSource_State_init();
  JreStrongAssign(&clone->attribute_, [((OrgApacheLuceneUtilAttributeImpl *) nil_chk(attribute_)) java_clone]);
  if (next_ != nil) {
    JreStrongAssign(&clone->next_, [next_ java_clone]);
  }
  return clone;
}

- (void)dealloc {
  RELEASE_(attribute_);
  RELEASE_(next_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeSource_State;", 0x1, 0, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(java_clone);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "attribute_", "LOrgApacheLuceneUtilAttributeImpl;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "next_", "LOrgApacheLuceneUtilAttributeSource_State;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "clone", "LOrgApacheLuceneUtilAttributeSource;" };
  static const J2ObjcClassInfo _OrgApacheLuceneUtilAttributeSource_State = { "State", "org.apache.lucene.util", ptrTable, methods, fields, 7, 0x19, 2, 2, 1, -1, -1, -1, -1 };
  return &_OrgApacheLuceneUtilAttributeSource_State;
}

- (id)copyWithZone:(NSZone *)zone {
  return [[self java_clone] retain];
}

@end

void OrgApacheLuceneUtilAttributeSource_State_init(OrgApacheLuceneUtilAttributeSource_State *self) {
  NSObject_init(self);
}

OrgApacheLuceneUtilAttributeSource_State *new_OrgApacheLuceneUtilAttributeSource_State_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource_State, init)
}

OrgApacheLuceneUtilAttributeSource_State *create_OrgApacheLuceneUtilAttributeSource_State_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource_State, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneUtilAttributeSource_State)

@implementation OrgApacheLuceneUtilAttributeSource_1

- (instancetype)initWithOrgApacheLuceneUtilAttributeSource_State:(OrgApacheLuceneUtilAttributeSource_State *)capture$0 {
  OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(self, capture$0);
  return self;
}

- (void)remove {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (OrgApacheLuceneUtilAttributeImpl *)next {
  if (state_ == nil) @throw create_JavaUtilNoSuchElementException_init();
  OrgApacheLuceneUtilAttributeImpl *att = state_->attribute_;
  JreStrongAssign(&state_, state_->next_);
  return JreRetainedLocalValue(att);
}

- (jboolean)hasNext {
  return state_ != nil;
}

- (void)forEachRemainingWithJavaUtilFunctionConsumer:(id<JavaUtilFunctionConsumer>)arg0 {
  JavaUtilIterator_forEachRemainingWithJavaUtilFunctionConsumer_(self, arg0);
}

- (void)dealloc {
  RELEASE_(state_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneUtilAttributeImpl;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneUtilAttributeSource_State:);
  methods[1].selector = @selector(remove);
  methods[2].selector = @selector(next);
  methods[3].selector = @selector(hasNext);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "state_", "LOrgApacheLuceneUtilAttributeSource_State;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneUtilAttributeSource_State;", "LOrgApacheLuceneUtilAttributeSource;", "getAttributeImplsIterator", "Ljava/lang/Object;Ljava/util/Iterator<Lorg/apache/lucene/util/AttributeImpl;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneUtilAttributeSource_1 = { "", "org.apache.lucene.util", ptrTable, methods, fields, 7, 0x8010, 4, 1, 1, -1, 2, 3, -1 };
  return &_OrgApacheLuceneUtilAttributeSource_1;
}

@end

void OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_1 *self, OrgApacheLuceneUtilAttributeSource_State *capture$0) {
  NSObject_init(self);
  JreStrongAssign(&self->state_, capture$0);
}

OrgApacheLuceneUtilAttributeSource_1 *new_OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_State *capture$0) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource_1, initWithOrgApacheLuceneUtilAttributeSource_State_, capture$0)
}

OrgApacheLuceneUtilAttributeSource_1 *create_OrgApacheLuceneUtilAttributeSource_1_initWithOrgApacheLuceneUtilAttributeSource_State_(OrgApacheLuceneUtilAttributeSource_State *capture$0) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource_1, initWithOrgApacheLuceneUtilAttributeSource_State_, capture$0)
}

@implementation OrgApacheLuceneUtilAttributeSource_2

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneUtilAttributeSource_2_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (IOSObjectArray *)computeValueWithIOSClass:(IOSClass *)clazz {
  id<JavaUtilSet> intfSet = create_JavaUtilLinkedHashSet_init();
  do {
    {
      IOSObjectArray *a__ = [((IOSClass *) nil_chk(clazz)) getInterfaces];
      IOSClass * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
      IOSClass * const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        IOSClass *curInterface = *b__++;
        if (!JreObjectEqualsEquals(curInterface, OrgApacheLuceneUtilAttribute_class_()) && [OrgApacheLuceneUtilAttribute_class_() isAssignableFrom:curInterface]) {
          [intfSet addWithId:[((IOSClass *) nil_chk(curInterface)) asSubclass:OrgApacheLuceneUtilAttribute_class_()]];
        }
      }
    }
    clazz = [clazz getSuperclass];
  }
  while (clazz != nil);
  IOSObjectArray *a = [intfSet toArrayWithNSObjectArray:[IOSObjectArray arrayWithLength:[intfSet size] type:IOSClass_class_()]];
  return JreRetainedLocalValue(a);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "[LIOSClass;", 0x4, 0, 1, -1, 2, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(computeValueWithIOSClass:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "computeValue", "LIOSClass;", "(Ljava/lang/Class<*>;)[Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;", "LOrgApacheLuceneUtilAttributeSource;", "Lorg/lukhnos/portmobile/lang/ClassValue<[Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;>;" };
  static const J2ObjcClassInfo _OrgApacheLuceneUtilAttributeSource_2 = { "", "org.apache.lucene.util", ptrTable, methods, NULL, 7, 0x8018, 2, 0, 3, -1, -1, 4, -1 };
  return &_OrgApacheLuceneUtilAttributeSource_2;
}

@end

void OrgApacheLuceneUtilAttributeSource_2_init(OrgApacheLuceneUtilAttributeSource_2 *self) {
  OrgLukhnosPortmobileLangClassValue_init(self);
}

OrgApacheLuceneUtilAttributeSource_2 *new_OrgApacheLuceneUtilAttributeSource_2_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource_2, init)
}

OrgApacheLuceneUtilAttributeSource_2 *create_OrgApacheLuceneUtilAttributeSource_2_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource_2, init)
}

@implementation OrgApacheLuceneUtilAttributeSource_3

- (instancetype)initWithJavaLangStringBuilder:(JavaLangStringBuilder *)capture$0
                                  withBoolean:(jboolean)capture$1 {
  OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(self, capture$0, capture$1);
  return self;
}

- (void)reflectWithIOSClass:(IOSClass *)attClass
               withNSString:(NSString *)key
                     withId:(id)value {
  if ([((JavaLangStringBuilder *) nil_chk(val$buffer_)) java_length] > 0) {
    [val$buffer_ appendWithChar:','];
  }
  if (val$prependAttClass_) {
    [((JavaLangStringBuilder *) nil_chk([val$buffer_ appendWithNSString:[((IOSClass *) nil_chk(attClass)) getName]])) appendWithChar:'#'];
  }
  [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk([val$buffer_ appendWithNSString:key])) appendWithChar:'='])) appendWithId:(value == nil) ? @"null" : value];
}

- (void)dealloc {
  RELEASE_(val$buffer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, -1, 3, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaLangStringBuilder:withBoolean:);
  methods[1].selector = @selector(reflectWithIOSClass:withNSString:withId:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "val$buffer_", "LJavaLangStringBuilder;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$prependAttClass_", "Z", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaLangStringBuilder;Z", "reflect", "LIOSClass;LNSString;LNSObject;", "(Ljava/lang/Class<+Lorg/apache/lucene/util/Attribute;>;Ljava/lang/String;Ljava/lang/Object;)V", "LOrgApacheLuceneUtilAttributeSource;", "reflectAsStringWithBoolean:" };
  static const J2ObjcClassInfo _OrgApacheLuceneUtilAttributeSource_3 = { "", "org.apache.lucene.util", ptrTable, methods, fields, 7, 0x8010, 2, 2, 4, -1, 5, -1, -1 };
  return &_OrgApacheLuceneUtilAttributeSource_3;
}

@end

void OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(OrgApacheLuceneUtilAttributeSource_3 *self, JavaLangStringBuilder *capture$0, jboolean capture$1) {
  JreStrongAssign(&self->val$buffer_, capture$0);
  self->val$prependAttClass_ = capture$1;
  NSObject_init(self);
}

OrgApacheLuceneUtilAttributeSource_3 *new_OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(JavaLangStringBuilder *capture$0, jboolean capture$1) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneUtilAttributeSource_3, initWithJavaLangStringBuilder_withBoolean_, capture$0, capture$1)
}

OrgApacheLuceneUtilAttributeSource_3 *create_OrgApacheLuceneUtilAttributeSource_3_initWithJavaLangStringBuilder_withBoolean_(JavaLangStringBuilder *capture$0, jboolean capture$1) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneUtilAttributeSource_3, initWithJavaLangStringBuilder_withBoolean_, capture$0, capture$1)
}
