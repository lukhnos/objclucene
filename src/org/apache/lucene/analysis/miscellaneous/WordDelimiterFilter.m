//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./analysis/common/src/java/org/apache/lucene/analysis/miscellaneous/WordDelimiterFilter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/System.h"
#include "java/util/Arrays.h"
#include "org/apache/lucene/analysis/TokenFilter.h"
#include "org/apache/lucene/analysis/TokenStream.h"
#include "org/apache/lucene/analysis/miscellaneous/WordDelimiterFilter.h"
#include "org/apache/lucene/analysis/miscellaneous/WordDelimiterIterator.h"
#include "org/apache/lucene/analysis/tokenattributes/CharTermAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/OffsetAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PositionIncrementAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/TypeAttribute.h"
#include "org/apache/lucene/analysis/util/CharArraySet.h"
#include "org/apache/lucene/util/ArrayUtil.h"
#include "org/apache/lucene/util/AttributeSource.h"
#include "org/apache/lucene/util/InPlaceMergeSorter.h"
#include "org/apache/lucene/util/RamUsageEstimator.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/analysis/miscellaneous/WordDelimiterFilter must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter () {
 @public
  jint flags_;
  id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute> termAttribute_;
  id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute> offsetAttribute_;
  id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute> posIncAttribute_;
  id<OrgApacheLuceneAnalysisTokenattributesTypeAttribute> typeAttribute_;
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *iterator_;
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concat_;
  jint lastConcatCount_;
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concatAll_;
  jint accumPosInc_;
  IOSCharArray *savedBuffer_;
  jint savedStartOffset_;
  jint savedEndOffset_;
  NSString *savedType_;
  jboolean hasSavedState_;
  jboolean hasIllegalOffsets_;
  jboolean hasOutputToken_;
  jboolean hasOutputFollowingOriginal_;
  IOSObjectArray *buffered_;
  IOSIntArray *startOff_;
  IOSIntArray *posInc_;
  jint bufferedLen_;
  jint bufferedPos_;
  jboolean first_;
}

- (void)buffer;

/*!
 @brief Saves the existing attribute states
 */
- (void)saveState;

/*!
 @brief Flushes the given WordDelimiterConcatenation by either writing its concat and then clearing, or just clearing.
 @param concatenation WordDelimiterConcatenation that will be flushed
 @return <code>true</code> if the concatenation was written before it was cleared, <code>false</code> otherwise
 */
- (jboolean)flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)concatenation;

/*!
 @brief Determines whether to concatenate a word or number if the current word is the given type
 @param wordType Type of the current word used to determine if it should be concatenated
 @return <code>true</code> if concatenation should occur, <code>false</code> otherwise
 */
- (jboolean)shouldConcatenateWithInt:(jint)wordType;

/*!
 @brief Determines whether a word/number part should be generated for a word of the given type
 @param wordType Type of the word used to determine if a word/number part should be generated
 @return <code>true</code> if a word/number part should be generated, <code>false</code> otherwise
 */
- (jboolean)shouldGeneratePartsWithInt:(jint)wordType;

/*!
 @brief Concatenates the saved buffer to the given WordDelimiterConcatenation
 @param concatenation WordDelimiterConcatenation to concatenate the buffer to
 */
- (void)concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)concatenation;

/*!
 @brief Generates a word/number part, updating the appropriate attributes
 @param isSingleWord<code>true</code>  if the generation is occurring from a single word, <code>false</code>  otherwise
 */
- (void)generatePartWithBoolean:(jboolean)isSingleWord;

/*!
 @brief Get the position increment gap for a subword or concatenation
 @param inject true if this token wants to be injected
 @return position increment gap
 */
- (jint)positionWithBoolean:(jboolean)inject;

/*!
 @brief Determines whether the given flag is set
 @param flag Flag to see if set
 @return <code>true</code> if flag is set
 */
- (jboolean)hasWithInt:(jint)flag;

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, termAttribute_, id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, offsetAttribute_, id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, posIncAttribute_, id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, typeAttribute_, id<OrgApacheLuceneAnalysisTokenattributesTypeAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, iterator_, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, concat_, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, concatAll_, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, savedBuffer_, IOSCharArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, savedType_, NSString *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, buffered_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, startOff_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, posInc_, IOSIntArray *)

__attribute__((unused)) static void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self);

__attribute__((unused)) static void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_saveState(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self);

__attribute__((unused)) static jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concatenation);

__attribute__((unused)) static jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldConcatenateWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint wordType);

__attribute__((unused)) static jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldGeneratePartsWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint wordType);

__attribute__((unused)) static void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concatenation);

__attribute__((unused)) static void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_generatePartWithBoolean_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jboolean isSingleWord);

__attribute__((unused)) static jint OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_positionWithBoolean_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jboolean inject);

__attribute__((unused)) static jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint flag);

@interface OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter () {
 @public
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *this$0_;
}

- (instancetype)initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *)outer$;

@end

__attribute__((unused)) static void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$);

__attribute__((unused)) static OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *create_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$);

@interface OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation () {
 @public
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *this$0_;
}

@end

@implementation OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter

+ (jint)LOWER {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_LOWER;
}

+ (jint)UPPER {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_UPPER;
}

+ (jint)DIGIT {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_DIGIT;
}

+ (jint)SUBWORD_DELIM {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SUBWORD_DELIM;
}

+ (jint)ALPHA {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_ALPHA;
}

+ (jint)ALPHANUM {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_ALPHANUM;
}

+ (jint)GENERATE_WORD_PARTS {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_WORD_PARTS;
}

+ (jint)GENERATE_NUMBER_PARTS {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_NUMBER_PARTS;
}

+ (jint)CATENATE_WORDS {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_WORDS;
}

+ (jint)CATENATE_NUMBERS {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_NUMBERS;
}

+ (jint)CATENATE_ALL {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_ALL;
}

+ (jint)PRESERVE_ORIGINAL {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_PRESERVE_ORIGINAL;
}

+ (jint)SPLIT_ON_CASE_CHANGE {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_CASE_CHANGE;
}

+ (jint)SPLIT_ON_NUMERICS {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_NUMERICS;
}

+ (jint)STEM_ENGLISH_POSSESSIVE {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_STEM_ENGLISH_POSSESSIVE;
}

- (instancetype)initWithOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)inArg
                                             withByteArray:(IOSByteArray *)charTypeTable
                                                   withInt:(jint)configurationFlags
               withOrgApacheLuceneAnalysisUtilCharArraySet:(OrgApacheLuceneAnalysisUtilCharArraySet *)protWords {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(self, inArg, charTypeTable, configurationFlags, protWords);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)inArg
                                                   withInt:(jint)configurationFlags
               withOrgApacheLuceneAnalysisUtilCharArraySet:(OrgApacheLuceneAnalysisUtilCharArraySet *)protWords {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(self, inArg, configurationFlags, protWords);
  return self;
}

- (jboolean)incrementToken {
  while (true) {
    if (!hasSavedState_) {
      if (![((OrgApacheLuceneAnalysisTokenStream *) nil_chk(input_)) incrementToken]) {
        return false;
      }
      jint termLength = [((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(termAttribute_)) java_length];
      IOSCharArray *termBuffer = [termAttribute_ buffer];
      accumPosInc_ += [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncAttribute_)) getPositionIncrement];
      [((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(iterator_)) setTextWithCharArray:termBuffer withInt:termLength];
      [iterator_ next];
      if ((iterator_->current_ == 0 && iterator_->end_ == termLength) || (protWords_ != nil && [protWords_ containsWithCharArray:termBuffer withInt:0 withInt:termLength])) {
        [posIncAttribute_ setPositionIncrementWithInt:accumPosInc_];
        accumPosInc_ = 0;
        first_ = false;
        return true;
      }
      if (iterator_->end_ == OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator_DONE && !OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_PRESERVE_ORIGINAL)) {
        if ([posIncAttribute_ getPositionIncrement] == 1 && !first_) {
          accumPosInc_--;
        }
        continue;
      }
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_saveState(self);
      hasOutputToken_ = false;
      hasOutputFollowingOriginal_ = !OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_PRESERVE_ORIGINAL);
      lastConcatCount_ = 0;
      if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_PRESERVE_ORIGINAL)) {
        [posIncAttribute_ setPositionIncrementWithInt:accumPosInc_];
        accumPosInc_ = 0;
        first_ = false;
        return true;
      }
    }
    if (((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(iterator_))->end_ == OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator_DONE) {
      if (![((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concat_)) isEmpty]) {
        if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concat_)) {
          OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(self);
          continue;
        }
      }
      if (![((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concatAll_)) isEmpty]) {
        if (concatAll_->subwordCount_ > lastConcatCount_) {
          [concatAll_ writeAndClear];
          OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(self);
          continue;
        }
        [concatAll_ clear];
      }
      if (bufferedPos_ < bufferedLen_) {
        if (bufferedPos_ == 0) {
          [((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *) nil_chk(sorter_)) sortWithInt:0 withInt:bufferedLen_];
        }
        [self clearAttributes];
        [self restoreStateWithOrgApacheLuceneUtilAttributeSource_State:IOSObjectArray_Get(nil_chk(buffered_), bufferedPos_++)];
        if (first_ && [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncAttribute_)) getPositionIncrement] == 0) {
          [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncAttribute_)) setPositionIncrementWithInt:1];
        }
        first_ = false;
        return true;
      }
      bufferedPos_ = bufferedLen_ = 0;
      hasSavedState_ = false;
      continue;
    }
    if ([iterator_ isSingleWord]) {
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_generatePartWithBoolean_(self, true);
      [iterator_ next];
      first_ = false;
      return true;
    }
    jint wordType = [iterator_ type];
    if (![((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concat_)) isEmpty] && (concat_->type_ & wordType) == 0) {
      if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concat_)) {
        hasOutputToken_ = false;
        OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(self);
        continue;
      }
      hasOutputToken_ = false;
    }
    if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldConcatenateWithInt_(self, wordType)) {
      if ([concat_ isEmpty]) {
        concat_->type_ = wordType;
      }
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concat_);
    }
    if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_ALL)) {
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concatAll_);
    }
    if (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldGeneratePartsWithInt_(self, wordType)) {
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_generatePartWithBoolean_(self, false);
      OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(self);
    }
    [iterator_ next];
  }
}

- (void)reset {
  [super reset];
  hasSavedState_ = false;
  [((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concat_)) clear];
  [((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concatAll_)) clear];
  accumPosInc_ = bufferedPos_ = bufferedLen_ = 0;
  first_ = true;
}

- (void)buffer {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(self);
}

- (void)saveState {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_saveState(self);
}

- (jboolean)flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)concatenation {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concatenation);
}

- (jboolean)shouldConcatenateWithInt:(jint)wordType {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldConcatenateWithInt_(self, wordType);
}

- (jboolean)shouldGeneratePartsWithInt:(jint)wordType {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldGeneratePartsWithInt_(self, wordType);
}

- (void)concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *)concatenation {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(self, concatenation);
}

- (void)generatePartWithBoolean:(jboolean)isSingleWord {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_generatePartWithBoolean_(self, isSingleWord);
}

- (jint)positionWithBoolean:(jboolean)inject {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_positionWithBoolean_(self, inject);
}

+ (jboolean)isAlphaWithInt:(jint)type {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isAlphaWithInt_(type);
}

+ (jboolean)isDigitWithInt:(jint)type {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isDigitWithInt_(type);
}

+ (jboolean)isSubwordDelimWithInt:(jint)type {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isSubwordDelimWithInt_(type);
}

+ (jboolean)isUpperWithInt:(jint)type {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isUpperWithInt_(type);
}

- (jboolean)hasWithInt:(jint)flag {
  return OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, flag);
}

- (void)dealloc {
  RELEASE_(protWords_);
  RELEASE_(termAttribute_);
  RELEASE_(offsetAttribute_);
  RELEASE_(posIncAttribute_);
  RELEASE_(typeAttribute_);
  RELEASE_(iterator_);
  RELEASE_(concat_);
  RELEASE_(concatAll_);
  RELEASE_(savedBuffer_);
  RELEASE_(savedType_);
  RELEASE_(buffered_);
  RELEASE_(startOff_);
  RELEASE_(posInc_);
  RELEASE_(sorter_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, NULL, 0x1, -1, 1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, 2, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, 2, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 3, 4, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 5, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 7, 6, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 8, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 9, 10, -1, -1, -1, -1 },
    { NULL, "I", 0x2, 11, 10, -1, -1, -1, -1 },
    { NULL, "Z", 0x8, 12, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x8, 13, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x8, 14, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x8, 15, 6, -1, -1, -1, -1 },
    { NULL, "Z", 0x2, 16, 6, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneAnalysisTokenStream:withByteArray:withInt:withOrgApacheLuceneAnalysisUtilCharArraySet:);
  methods[1].selector = @selector(initWithOrgApacheLuceneAnalysisTokenStream:withInt:withOrgApacheLuceneAnalysisUtilCharArraySet:);
  methods[2].selector = @selector(incrementToken);
  methods[3].selector = @selector(reset);
  methods[4].selector = @selector(buffer);
  methods[5].selector = @selector(saveState);
  methods[6].selector = @selector(flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:);
  methods[7].selector = @selector(shouldConcatenateWithInt:);
  methods[8].selector = @selector(shouldGeneratePartsWithInt:);
  methods[9].selector = @selector(concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation:);
  methods[10].selector = @selector(generatePartWithBoolean:);
  methods[11].selector = @selector(positionWithBoolean:);
  methods[12].selector = @selector(isAlphaWithInt:);
  methods[13].selector = @selector(isDigitWithInt:);
  methods[14].selector = @selector(isSubwordDelimWithInt:);
  methods[15].selector = @selector(isUpperWithInt:);
  methods[16].selector = @selector(hasWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "LOWER", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_LOWER, 0x19, -1, -1, -1, -1 },
    { "UPPER", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_UPPER, 0x19, -1, -1, -1, -1 },
    { "DIGIT", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_DIGIT, 0x19, -1, -1, -1, -1 },
    { "SUBWORD_DELIM", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SUBWORD_DELIM, 0x19, -1, -1, -1, -1 },
    { "ALPHA", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_ALPHA, 0x19, -1, -1, -1, -1 },
    { "ALPHANUM", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_ALPHANUM, 0x19, -1, -1, -1, -1 },
    { "GENERATE_WORD_PARTS", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_WORD_PARTS, 0x19, -1, -1, -1, -1 },
    { "GENERATE_NUMBER_PARTS", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_NUMBER_PARTS, 0x19, -1, -1, -1, -1 },
    { "CATENATE_WORDS", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_WORDS, 0x19, -1, -1, -1, -1 },
    { "CATENATE_NUMBERS", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_NUMBERS, 0x19, -1, -1, -1, -1 },
    { "CATENATE_ALL", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_ALL, 0x19, -1, -1, -1, -1 },
    { "PRESERVE_ORIGINAL", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_PRESERVE_ORIGINAL, 0x19, -1, -1, -1, -1 },
    { "SPLIT_ON_CASE_CHANGE", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_CASE_CHANGE, 0x19, -1, -1, -1, -1 },
    { "SPLIT_ON_NUMERICS", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_NUMERICS, 0x19, -1, -1, -1, -1 },
    { "STEM_ENGLISH_POSSESSIVE", "I", .constantValue.asInt = OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_STEM_ENGLISH_POSSESSIVE, 0x19, -1, -1, -1, -1 },
    { "protWords_", "LOrgApacheLuceneAnalysisUtilCharArraySet;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "flags_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "termAttribute_", "LOrgApacheLuceneAnalysisTokenattributesCharTermAttribute;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "offsetAttribute_", "LOrgApacheLuceneAnalysisTokenattributesOffsetAttribute;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "posIncAttribute_", "LOrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "typeAttribute_", "LOrgApacheLuceneAnalysisTokenattributesTypeAttribute;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "iterator_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "concat_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "lastConcatCount_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "concatAll_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "accumPosInc_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "savedBuffer_", "[C", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "savedStartOffset_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "savedEndOffset_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "savedType_", "LNSString;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "hasSavedState_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "hasIllegalOffsets_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "hasOutputToken_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "hasOutputFollowingOriginal_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "buffered_", "[LOrgApacheLuceneUtilAttributeSource_State;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "startOff_", "[I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "posInc_", "[I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "bufferedLen_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "bufferedPos_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "first_", "Z", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "sorter_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneAnalysisTokenStream;[BILOrgApacheLuceneAnalysisUtilCharArraySet;", "LOrgApacheLuceneAnalysisTokenStream;ILOrgApacheLuceneAnalysisUtilCharArraySet;", "LJavaIoIOException;", "flushConcatenation", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation;", "shouldConcatenate", "I", "shouldGenerateParts", "concatenate", "generatePart", "Z", "position", "isAlpha", "isDigit", "isSubwordDelim", "isUpper", "has", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter;LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation;" };
  static const J2ObjcClassInfo _OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter = { "WordDelimiterFilter", "org.apache.lucene.analysis.miscellaneous", ptrTable, methods, fields, 7, 0x11, 17, 41, -1, 17, -1, -1, -1 };
  return &_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter;
}

@end

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisTokenStream *inArg, IOSByteArray *charTypeTable, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  OrgApacheLuceneAnalysisTokenFilter_initWithOrgApacheLuceneAnalysisTokenStream_(self, inArg);
  JreStrongAssign(&self->termAttribute_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesCharTermAttribute_class_()]);
  JreStrongAssign(&self->offsetAttribute_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesOffsetAttribute_class_()]);
  JreStrongAssign(&self->posIncAttribute_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute_class_()]);
  JreStrongAssign(&self->typeAttribute_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesTypeAttribute_class_()]);
  JreStrongAssignAndConsume(&self->concat_, new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(self));
  self->lastConcatCount_ = 0;
  JreStrongAssignAndConsume(&self->concatAll_, new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(self));
  self->accumPosInc_ = 0;
  JreStrongAssignAndConsume(&self->savedBuffer_, [IOSCharArray newArrayWithLength:1024]);
  self->hasSavedState_ = false;
  self->hasIllegalOffsets_ = false;
  self->hasOutputToken_ = false;
  self->hasOutputFollowingOriginal_ = false;
  JreStrongAssignAndConsume(&self->buffered_, [IOSObjectArray newArrayWithLength:8 type:OrgApacheLuceneUtilAttributeSource_State_class_()]);
  JreStrongAssignAndConsume(&self->startOff_, [IOSIntArray newArrayWithLength:8]);
  JreStrongAssignAndConsume(&self->posInc_, [IOSIntArray newArrayWithLength:8]);
  self->bufferedLen_ = 0;
  self->bufferedPos_ = 0;
  JreStrongAssignAndConsume(&self->sorter_, new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(self));
  self->flags_ = configurationFlags;
  JreStrongAssign(&self->protWords_, protWords);
  JreStrongAssignAndConsume(&self->iterator_, new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator_initWithByteArray_withBoolean_withBoolean_withBoolean_(charTypeTable, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_CASE_CHANGE), OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SPLIT_ON_NUMERICS), OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_STEM_ENGLISH_POSSESSIVE)));
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisTokenStream *inArg, IOSByteArray *charTypeTable, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_, inArg, charTypeTable, configurationFlags, protWords)
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *create_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisTokenStream *inArg, IOSByteArray *charTypeTable, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_, inArg, charTypeTable, configurationFlags, protWords)
}

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisTokenStream *inArg, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withByteArray_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(self, inArg, JreLoadStatic(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator, DEFAULT_WORD_DELIM_TABLE), configurationFlags, protWords);
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisTokenStream *inArg, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_, inArg, configurationFlags, protWords)
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *create_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_(OrgApacheLuceneAnalysisTokenStream *inArg, jint configurationFlags, OrgApacheLuceneAnalysisUtilCharArraySet *protWords) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter, initWithOrgApacheLuceneAnalysisTokenStream_withInt_withOrgApacheLuceneAnalysisUtilCharArraySet_, inArg, configurationFlags, protWords)
}

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_buffer(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self) {
  if (self->bufferedLen_ == ((IOSObjectArray *) nil_chk(self->buffered_))->size_) {
    jint newSize = OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_(self->bufferedLen_ + 1, 8);
    JreStrongAssign(&self->buffered_, JavaUtilArrays_copyOfWithNSObjectArray_withInt_(self->buffered_, newSize));
    JreStrongAssign(&self->startOff_, JavaUtilArrays_copyOfWithIntArray_withInt_(self->startOff_, newSize));
    JreStrongAssign(&self->posInc_, JavaUtilArrays_copyOfWithIntArray_withInt_(self->posInc_, newSize));
  }
  *IOSIntArray_GetRef(nil_chk(self->startOff_), self->bufferedLen_) = [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(self->offsetAttribute_)) startOffset];
  *IOSIntArray_GetRef(nil_chk(self->posInc_), self->bufferedLen_) = [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(self->posIncAttribute_)) getPositionIncrement];
  IOSObjectArray_Set(nil_chk(self->buffered_), self->bufferedLen_, [self captureState]);
  self->bufferedLen_++;
}

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_saveState(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self) {
  self->savedStartOffset_ = [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(self->offsetAttribute_)) startOffset];
  self->savedEndOffset_ = [self->offsetAttribute_ endOffset];
  self->hasIllegalOffsets_ = (self->savedEndOffset_ - self->savedStartOffset_ != [((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(self->termAttribute_)) java_length]);
  JreStrongAssign(&self->savedType_, [((id<OrgApacheLuceneAnalysisTokenattributesTypeAttribute>) nil_chk(self->typeAttribute_)) type]);
  if (((IOSCharArray *) nil_chk(self->savedBuffer_))->size_ < [self->termAttribute_ java_length]) {
    JreStrongAssignAndConsume(&self->savedBuffer_, [IOSCharArray newArrayWithLength:OrgApacheLuceneUtilArrayUtil_oversizeWithInt_withInt_([self->termAttribute_ java_length], OrgApacheLuceneUtilRamUsageEstimator_NUM_BYTES_CHAR)]);
  }
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_([self->termAttribute_ buffer], 0, self->savedBuffer_, 0, [self->termAttribute_ java_length]);
  JreStrongAssign(&((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(self->iterator_))->text_, self->savedBuffer_);
  self->hasSavedState_ = true;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_flushConcatenationWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concatenation) {
  self->lastConcatCount_ = ((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concatenation))->subwordCount_;
  if (concatenation->subwordCount_ != 1 || !OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldGeneratePartsWithInt_(self, concatenation->type_)) {
    [concatenation writeAndClear];
    return true;
  }
  [concatenation clear];
  return false;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldConcatenateWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint wordType) {
  return (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_WORDS) && OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isAlphaWithInt_(wordType)) || (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_CATENATE_NUMBERS) && OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isDigitWithInt_(wordType));
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_shouldGeneratePartsWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint wordType) {
  return (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_WORD_PARTS) && OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isAlphaWithInt_(wordType)) || (OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_GENERATE_NUMBER_PARTS) && OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isDigitWithInt_(wordType));
}

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_concatenateWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *concatenation) {
  if ([((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *) nil_chk(concatenation)) isEmpty]) {
    concatenation->startOffset_ = self->savedStartOffset_ + ((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(self->iterator_))->current_;
  }
  [concatenation appendWithCharArray:self->savedBuffer_ withInt:((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(self->iterator_))->current_ withInt:self->iterator_->end_ - self->iterator_->current_];
  concatenation->endOffset_ = self->savedStartOffset_ + self->iterator_->end_;
}

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_generatePartWithBoolean_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jboolean isSingleWord) {
  [self clearAttributes];
  [((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(self->termAttribute_)) copyBufferWithCharArray:self->savedBuffer_ withInt:((OrgApacheLuceneAnalysisMiscellaneousWordDelimiterIterator *) nil_chk(self->iterator_))->current_ withInt:self->iterator_->end_ - self->iterator_->current_];
  jint startOffset = self->savedStartOffset_ + self->iterator_->current_;
  jint endOffset = self->savedStartOffset_ + self->iterator_->end_;
  if (self->hasIllegalOffsets_) {
    if (isSingleWord && startOffset <= self->savedEndOffset_) {
      [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(self->offsetAttribute_)) setOffsetWithInt:startOffset withInt:self->savedEndOffset_];
    }
    else {
      [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(self->offsetAttribute_)) setOffsetWithInt:self->savedStartOffset_ withInt:self->savedEndOffset_];
    }
  }
  else {
    [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(self->offsetAttribute_)) setOffsetWithInt:startOffset withInt:endOffset];
  }
  [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(self->posIncAttribute_)) setPositionIncrementWithInt:OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_positionWithBoolean_(self, false)];
  [((id<OrgApacheLuceneAnalysisTokenattributesTypeAttribute>) nil_chk(self->typeAttribute_)) setTypeWithNSString:self->savedType_];
}

jint OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_positionWithBoolean_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jboolean inject) {
  jint posInc = self->accumPosInc_;
  if (self->hasOutputToken_) {
    self->accumPosInc_ = 0;
    return inject ? 0 : JavaLangMath_maxWithInt_withInt_(1, posInc);
  }
  self->hasOutputToken_ = true;
  if (!self->hasOutputFollowingOriginal_) {
    self->hasOutputFollowingOriginal_ = true;
    return 0;
  }
  self->accumPosInc_ = 0;
  return JavaLangMath_maxWithInt_withInt_(1, posInc);
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isAlphaWithInt_(jint type) {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initialize();
  return (type & OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_ALPHA) != 0;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isDigitWithInt_(jint type) {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initialize();
  return (type & OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_DIGIT) != 0;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isSubwordDelimWithInt_(jint type) {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initialize();
  return (type & OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_SUBWORD_DELIM) != 0;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_isUpperWithInt_(jint type) {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_initialize();
  return (type & OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_UPPER) != 0;
}

jboolean OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_hasWithInt_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *self, jint flag) {
  return (self->flags_ & flag) != 0;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter)

@implementation OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter

- (instancetype)initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *)outer$ {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(self, outer$);
  return self;
}

- (jint)compareWithInt:(jint)i
               withInt:(jint)j {
  jint cmp = JavaLangInteger_compareWithInt_withInt_(IOSIntArray_Get(nil_chk(this$0_->startOff_), i), IOSIntArray_Get(this$0_->startOff_, j));
  if (cmp == 0) {
    cmp = JavaLangInteger_compareWithInt_withInt_(IOSIntArray_Get(nil_chk(this$0_->posInc_), j), IOSIntArray_Get(this$0_->posInc_, i));
  }
  return cmp;
}

- (void)swapWithInt:(jint)i
            withInt:(jint)j {
  OrgApacheLuceneUtilAttributeSource_State *tmp = IOSObjectArray_Get(nil_chk(this$0_->buffered_), i);
  IOSObjectArray_Set(this$0_->buffered_, i, IOSObjectArray_Get(this$0_->buffered_, j));
  IOSObjectArray_Set(this$0_->buffered_, j, tmp);
  jint tmp2 = IOSIntArray_Get(nil_chk(this$0_->startOff_), i);
  *IOSIntArray_GetRef(this$0_->startOff_, i) = IOSIntArray_Get(this$0_->startOff_, j);
  *IOSIntArray_GetRef(this$0_->startOff_, j) = tmp2;
  tmp2 = IOSIntArray_Get(nil_chk(this$0_->posInc_), i);
  *IOSIntArray_GetRef(this$0_->posInc_, i) = IOSIntArray_Get(this$0_->posInc_, j);
  *IOSIntArray_GetRef(this$0_->posInc_, j) = tmp2;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x4, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 3, 2, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter:);
  methods[1].selector = @selector(compareWithInt:withInt:);
  methods[2].selector = @selector(swapWithInt:withInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter;", "compare", "II", "swap" };
  static const J2ObjcClassInfo _OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter = { "OffsetSorter", "org.apache.lucene.analysis.miscellaneous", ptrTable, methods, fields, 7, 0x2, 3, 1, 0, -1, -1, -1, -1 };
  return &_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter;
}

@end

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  OrgApacheLuceneUtilInPlaceMergeSorter_init(self);
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter, initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_, outer$)
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter *create_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter, initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_OffsetSorter)

@implementation OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation

- (instancetype)initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter:(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *)outer$ {
  OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(self, outer$);
  return self;
}

- (void)appendWithCharArray:(IOSCharArray *)text
                    withInt:(jint)offset
                    withInt:(jint)length {
  [((JavaLangStringBuilder *) nil_chk(buffer_)) appendWithCharArray:text withInt:offset withInt:length];
  subwordCount_++;
}

- (void)write {
  [this$0_ clearAttributes];
  if ([((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(this$0_->termAttribute_)) java_length] < [((JavaLangStringBuilder *) nil_chk(buffer_)) java_length]) {
    [this$0_->termAttribute_ resizeBufferWithInt:[buffer_ java_length]];
  }
  IOSCharArray *termbuffer = [this$0_->termAttribute_ buffer];
  [buffer_ getCharsWithInt:0 withInt:[buffer_ java_length] withCharArray:termbuffer withInt:0];
  [this$0_->termAttribute_ setLengthWithInt:[buffer_ java_length]];
  if (this$0_->hasIllegalOffsets_) {
    [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(this$0_->offsetAttribute_)) setOffsetWithInt:this$0_->savedStartOffset_ withInt:this$0_->savedEndOffset_];
  }
  else {
    [((id<OrgApacheLuceneAnalysisTokenattributesOffsetAttribute>) nil_chk(this$0_->offsetAttribute_)) setOffsetWithInt:startOffset_ withInt:endOffset_];
  }
  [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(this$0_->posIncAttribute_)) setPositionIncrementWithInt:OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_positionWithBoolean_(this$0_, true)];
  [((id<OrgApacheLuceneAnalysisTokenattributesTypeAttribute>) nil_chk(this$0_->typeAttribute_)) setTypeWithNSString:this$0_->savedType_];
  this$0_->accumPosInc_ = 0;
}

- (jboolean)isEmpty {
  return [((JavaLangStringBuilder *) nil_chk(buffer_)) java_length] == 0;
}

- (void)clear {
  [((JavaLangStringBuilder *) nil_chk(buffer_)) setLengthWithInt:0];
  startOffset_ = endOffset_ = type_ = subwordCount_ = 0;
}

- (void)writeAndClear {
  [self write];
  [self clear];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(buffer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter:);
  methods[1].selector = @selector(appendWithCharArray:withInt:withInt:);
  methods[2].selector = @selector(write);
  methods[3].selector = @selector(isEmpty);
  methods[4].selector = @selector(clear);
  methods[5].selector = @selector(writeAndClear);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "buffer_", "LJavaLangStringBuilder;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "startOffset_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "endOffset_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "type_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "subwordCount_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter;", "append", "[CII" };
  static const J2ObjcClassInfo _OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation = { "WordDelimiterConcatenation", "org.apache.lucene.analysis.miscellaneous", ptrTable, methods, fields, 7, 0x10, 6, 6, 0, -1, -1, -1, -1 };
  return &_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation;
}

@end

void OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *self, OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->buffer_, new_JavaLangStringBuilder_init());
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *new_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation, initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_, outer$)
}

OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation *create_OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation_initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter *outer$) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation, initWithOrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneAnalysisMiscellaneousWordDelimiterFilter_WordDelimiterConcatenation)
