//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./analysis/common/src/java/org/apache/lucene/analysis/hunspell/HunspellStemFilter.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/lang/Integer.h"
#include "java/util/Collections.h"
#include "java/util/Comparator.h"
#include "java/util/List.h"
#include "org/apache/lucene/analysis/TokenFilter.h"
#include "org/apache/lucene/analysis/TokenStream.h"
#include "org/apache/lucene/analysis/hunspell/Dictionary.h"
#include "org/apache/lucene/analysis/hunspell/HunspellStemFilter.h"
#include "org/apache/lucene/analysis/hunspell/Stemmer.h"
#include "org/apache/lucene/analysis/tokenattributes/CharTermAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/KeywordAttribute.h"
#include "org/apache/lucene/analysis/tokenattributes/PositionIncrementAttribute.h"
#include "org/apache/lucene/util/AttributeSource.h"
#include "org/apache/lucene/util/CharsRef.h"

@interface OrgApacheLuceneAnalysisHunspellHunspellStemFilter () {
 @public
  id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute> termAtt_;
  id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute> posIncAtt_;
  id<OrgApacheLuceneAnalysisTokenattributesKeywordAttribute> keywordAtt_;
  OrgApacheLuceneAnalysisHunspellStemmer *stemmer_;
  id<JavaUtilList> buffer_;
  OrgApacheLuceneUtilAttributeSource_State *savedState_;
  jboolean dedup_;
  jboolean longestOnly_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, termAtt_, id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, posIncAtt_, id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, keywordAtt_, id<OrgApacheLuceneAnalysisTokenattributesKeywordAttribute>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, stemmer_, OrgApacheLuceneAnalysisHunspellStemmer *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, buffer_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, savedState_, OrgApacheLuceneUtilAttributeSource_State *)

@interface OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(OrgApacheLuceneUtilCharsRef *)o1
               withId:(OrgApacheLuceneUtilCharsRef *)o2;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1)

__attribute__((unused)) static void OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *self);

__attribute__((unused)) static OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *create_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init();

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1)

J2OBJC_INITIALIZED_DEFN(OrgApacheLuceneAnalysisHunspellHunspellStemFilter)

id<JavaUtilComparator> OrgApacheLuceneAnalysisHunspellHunspellStemFilter_lengthComparator;

@implementation OrgApacheLuceneAnalysisHunspellHunspellStemFilter

+ (id<JavaUtilComparator>)lengthComparator {
  return OrgApacheLuceneAnalysisHunspellHunspellStemFilter_lengthComparator;
}

- (instancetype)initWithOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)input
             withOrgApacheLuceneAnalysisHunspellDictionary:(OrgApacheLuceneAnalysisHunspellDictionary *)dictionary {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_(self, input, dictionary);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)input
             withOrgApacheLuceneAnalysisHunspellDictionary:(OrgApacheLuceneAnalysisHunspellDictionary *)dictionary
                                               withBoolean:(jboolean)dedup {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_(self, input, dictionary, dedup);
  return self;
}

- (instancetype)initWithOrgApacheLuceneAnalysisTokenStream:(OrgApacheLuceneAnalysisTokenStream *)input
             withOrgApacheLuceneAnalysisHunspellDictionary:(OrgApacheLuceneAnalysisHunspellDictionary *)dictionary
                                               withBoolean:(jboolean)dedup
                                               withBoolean:(jboolean)longestOnly {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_(self, input, dictionary, dedup, longestOnly);
  return self;
}

- (jboolean)incrementToken {
  if (buffer_ != nil && ![buffer_ isEmpty]) {
    OrgApacheLuceneUtilCharsRef *nextStem = [buffer_ removeWithInt:0];
    [self restoreStateWithOrgApacheLuceneUtilAttributeSource_State:savedState_];
    [((id<OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute>) nil_chk(posIncAtt_)) setPositionIncrementWithInt:0];
    [((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk([((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(termAtt_)) setEmpty])) appendWithJavaLangCharSequence:nextStem];
    return true;
  }
  if (![((OrgApacheLuceneAnalysisTokenStream *) nil_chk(input_)) incrementToken]) {
    return false;
  }
  if ([((id<OrgApacheLuceneAnalysisTokenattributesKeywordAttribute>) nil_chk(keywordAtt_)) isKeyword]) {
    return true;
  }
  JreStrongAssign(&buffer_, dedup_ ? [((OrgApacheLuceneAnalysisHunspellStemmer *) nil_chk(stemmer_)) uniqueStemsWithCharArray:[((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(termAtt_)) buffer] withInt:[termAtt_ length]] : [((OrgApacheLuceneAnalysisHunspellStemmer *) nil_chk(stemmer_)) stemWithCharArray:[((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk(termAtt_)) buffer] withInt:[termAtt_ length]]);
  if ([buffer_ isEmpty]) {
    return true;
  }
  if (longestOnly_ && [((id<JavaUtilList>) nil_chk(buffer_)) size] > 1) {
    JavaUtilCollections_sortWithJavaUtilList_withJavaUtilComparator_(buffer_, OrgApacheLuceneAnalysisHunspellHunspellStemFilter_lengthComparator);
  }
  OrgApacheLuceneUtilCharsRef *stem = [((id<JavaUtilList>) nil_chk(buffer_)) removeWithInt:0];
  [((id<OrgApacheLuceneAnalysisTokenattributesCharTermAttribute>) nil_chk([termAtt_ setEmpty])) appendWithJavaLangCharSequence:stem];
  if (longestOnly_) {
    [((id<JavaUtilList>) nil_chk(buffer_)) clear];
  }
  else {
    if (![((id<JavaUtilList>) nil_chk(buffer_)) isEmpty]) {
      JreStrongAssign(&savedState_, [self captureState]);
    }
  }
  return true;
}

- (void)reset {
  [super reset];
  JreStrongAssign(&buffer_, nil);
}

- (void)dealloc {
  RELEASE_(termAtt_);
  RELEASE_(posIncAtt_);
  RELEASE_(keywordAtt_);
  RELEASE_(stemmer_);
  RELEASE_(buffer_);
  RELEASE_(savedState_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgApacheLuceneAnalysisHunspellHunspellStemFilter class]) {
    JreStrongAssignAndConsume(&OrgApacheLuceneAnalysisHunspellHunspellStemFilter_lengthComparator, new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init());
    J2OBJC_SET_INITIALIZED(OrgApacheLuceneAnalysisHunspellHunspellStemFilter)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheLuceneAnalysisTokenStream:withOrgApacheLuceneAnalysisHunspellDictionary:", "HunspellStemFilter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneAnalysisTokenStream:withOrgApacheLuceneAnalysisHunspellDictionary:withBoolean:", "HunspellStemFilter", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheLuceneAnalysisTokenStream:withOrgApacheLuceneAnalysisHunspellDictionary:withBoolean:withBoolean:", "HunspellStemFilter", NULL, 0x1, NULL, NULL },
    { "incrementToken", NULL, "Z", 0x1, "Ljava.io.IOException;", NULL },
    { "reset", NULL, "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "termAtt_", NULL, 0x12, "Lorg.apache.lucene.analysis.tokenattributes.CharTermAttribute;", NULL, NULL, .constantValue.asLong = 0 },
    { "posIncAtt_", NULL, 0x12, "Lorg.apache.lucene.analysis.tokenattributes.PositionIncrementAttribute;", NULL, NULL, .constantValue.asLong = 0 },
    { "keywordAtt_", NULL, 0x12, "Lorg.apache.lucene.analysis.tokenattributes.KeywordAttribute;", NULL, NULL, .constantValue.asLong = 0 },
    { "stemmer_", NULL, 0x12, "Lorg.apache.lucene.analysis.hunspell.Stemmer;", NULL, NULL, .constantValue.asLong = 0 },
    { "buffer_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Lorg/apache/lucene/util/CharsRef;>;", .constantValue.asLong = 0 },
    { "savedState_", NULL, 0x2, "Lorg.apache.lucene.util.AttributeSource$State;", NULL, NULL, .constantValue.asLong = 0 },
    { "dedup_", NULL, 0x12, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "longestOnly_", NULL, 0x12, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "lengthComparator", "lengthComparator", 0x18, "Ljava.util.Comparator;", &OrgApacheLuceneAnalysisHunspellHunspellStemFilter_lengthComparator, "Ljava/util/Comparator<Lorg/apache/lucene/util/CharsRef;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneAnalysisHunspellHunspellStemFilter = { 2, "HunspellStemFilter", "org.apache.lucene.analysis.hunspell", NULL, 0x11, 5, methods, 9, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheLuceneAnalysisHunspellHunspellStemFilter;
}

@end

void OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_(OrgApacheLuceneAnalysisHunspellHunspellStemFilter *self, OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary) {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_(self, input, dictionary, true);
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_, input, dictionary)
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *create_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_, input, dictionary)
}

void OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_(OrgApacheLuceneAnalysisHunspellHunspellStemFilter *self, OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup) {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_(self, input, dictionary, dedup, false);
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_, input, dictionary, dedup)
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *create_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_, input, dictionary, dedup)
}

void OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_(OrgApacheLuceneAnalysisHunspellHunspellStemFilter *self, OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup, jboolean longestOnly) {
  OrgApacheLuceneAnalysisTokenFilter_initWithOrgApacheLuceneAnalysisTokenStream_(self, input);
  JreStrongAssign(&self->termAtt_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesCharTermAttribute_class_()]);
  JreStrongAssign(&self->posIncAtt_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesPositionIncrementAttribute_class_()]);
  JreStrongAssign(&self->keywordAtt_, [self addAttributeWithIOSClass:OrgApacheLuceneAnalysisTokenattributesKeywordAttribute_class_()]);
  self->dedup_ = (dedup && longestOnly == false);
  JreStrongAssignAndConsume(&self->stemmer_, new_OrgApacheLuceneAnalysisHunspellStemmer_initWithOrgApacheLuceneAnalysisHunspellDictionary_(dictionary));
  self->longestOnly_ = longestOnly;
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup, jboolean longestOnly) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_, input, dictionary, dedup, longestOnly)
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter *create_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_(OrgApacheLuceneAnalysisTokenStream *input, OrgApacheLuceneAnalysisHunspellDictionary *dictionary, jboolean dedup, jboolean longestOnly) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter, initWithOrgApacheLuceneAnalysisTokenStream_withOrgApacheLuceneAnalysisHunspellDictionary_withBoolean_withBoolean_, input, dictionary, dedup, longestOnly)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneAnalysisHunspellHunspellStemFilter)

@implementation OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1

- (jint)compareWithId:(OrgApacheLuceneUtilCharsRef *)o1
               withId:(OrgApacheLuceneUtilCharsRef *)o2 {
  jint cmp = JavaLangInteger_compareWithInt_withInt_(((OrgApacheLuceneUtilCharsRef *) nil_chk(o2))->length_, ((OrgApacheLuceneUtilCharsRef *) nil_chk(o1))->length_);
  if (cmp == 0) {
    return [o2 compareToWithId:o1];
  }
  else {
    return cmp;
  }
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 = { 2, "", "org.apache.lucene.analysis.hunspell", "HunspellStemFilter", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/apache/lucene/util/CharsRef;>;" };
  return &_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1;
}

@end

void OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *self) {
  NSObject_init(self);
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *new_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1, init)
}

OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1 *create_OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneAnalysisHunspellHunspellStemFilter_$1)
