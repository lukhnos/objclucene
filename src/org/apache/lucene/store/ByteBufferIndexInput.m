//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./core/src/java/org/apache/lucene/store/ByteBufferIndexInput.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/EOFException.h"
#include "java/io/IOException.h"
#include "java/lang/ArrayIndexOutOfBoundsException.h"
#include "java/lang/AssertionError.h"
#include "java/lang/Boolean.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/IndexOutOfBoundsException.h"
#include "java/lang/Integer.h"
#include "java/lang/NullPointerException.h"
#include "java/lang/RuntimeException.h"
#include "java/nio/Buffer.h"
#include "java/nio/BufferUnderflowException.h"
#include "java/nio/ByteBuffer.h"
#include "java/util/Iterator.h"
#include "org/apache/lucene/store/AlreadyClosedException.h"
#include "org/apache/lucene/store/ByteBufferIndexInput.h"
#include "org/apache/lucene/store/IndexInput.h"
#include "org/apache/lucene/util/WeakIdentityMap.h"

#if __has_feature(objc_arc)
#error "org/apache/lucene/store/ByteBufferIndexInput must not be compiled with ARC (-fobjc-arc)"
#endif

@interface OrgApacheLuceneStoreByteBufferIndexInput ()

- (void)setPosWithLong:(jlong)pos
               withInt:(jint)bi;

/*!
 @brief Returns a sliced view from a set of already-existing buffers: 
   the last buffer's limit() will be correct, but
   you must deal with offset separately (the first buffer will not be adjusted)
 */
- (IOSObjectArray *)buildSliceWithJavaNioByteBufferArray:(IOSObjectArray *)buffers
                                                withLong:(jlong)offset
                                                withLong:(jlong)length;

/*!
 @brief Called to remove all references to byte buffers, so we can throw AlreadyClosed on NPE.
 */
- (void)unsetBuffers;

/*!
 @brief Called when the contents of a buffer will be no longer needed.
 */
- (void)freeBufferWithJavaNioByteBuffer:(JavaNioByteBuffer *)b;

@end

__attribute__((unused)) static jlong OrgApacheLuceneStoreByteBufferIndexInput_getFilePointer(OrgApacheLuceneStoreByteBufferIndexInput *self);

__attribute__((unused)) static void OrgApacheLuceneStoreByteBufferIndexInput_seekWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos);

__attribute__((unused)) static jbyte OrgApacheLuceneStoreByteBufferIndexInput_readByteWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos);

__attribute__((unused)) static void OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos, jint bi);

__attribute__((unused)) static jshort OrgApacheLuceneStoreByteBufferIndexInput_readShortWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos);

__attribute__((unused)) static jint OrgApacheLuceneStoreByteBufferIndexInput_readIntWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos);

__attribute__((unused)) static jlong OrgApacheLuceneStoreByteBufferIndexInput_readLongWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos);

__attribute__((unused)) static OrgApacheLuceneStoreByteBufferIndexInput *OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithNSString_withLong_withLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, NSString *sliceDescription, jlong offset, jlong length);

__attribute__((unused)) static IOSObjectArray *OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithJavaNioByteBufferArray_withLong_withLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, IOSObjectArray *buffers, jlong offset, jlong length);

__attribute__((unused)) static void OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(OrgApacheLuceneStoreByteBufferIndexInput *self);

__attribute__((unused)) static void OrgApacheLuceneStoreByteBufferIndexInput_freeBufferWithJavaNioByteBuffer_(OrgApacheLuceneStoreByteBufferIndexInput *self, JavaNioByteBuffer *b);

@interface OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner : NSObject

@end

@interface OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl () {
 @public
  jint offset_;
}

@end

@implementation OrgApacheLuceneStoreByteBufferIndexInput

+ (OrgApacheLuceneStoreByteBufferIndexInput *)newInstanceWithNSString:(NSString *)resourceDescription
                                           withJavaNioByteBufferArray:(IOSObjectArray *)buffers
                                                             withLong:(jlong)length
                                                              withInt:(jint)chunkSizePower
           withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:(id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner>)cleaner
                                                          withBoolean:(jboolean)trackClones {
  return OrgApacheLuceneStoreByteBufferIndexInput_newInstanceWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withBoolean_(resourceDescription, buffers, length, chunkSizePower, cleaner, trackClones);
}

- (instancetype)initPackagePrivateWithNSString:(NSString *)resourceDescription
                    withJavaNioByteBufferArray:(IOSObjectArray *)buffers
                                      withLong:(jlong)length
                                       withInt:(jint)chunkSizePower
withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:(id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner>)cleaner
        withOrgApacheLuceneUtilWeakIdentityMap:(OrgApacheLuceneUtilWeakIdentityMap *)clones {
  OrgApacheLuceneStoreByteBufferIndexInput_initPackagePrivateWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(self, resourceDescription, buffers, length, chunkSizePower, cleaner, clones);
  return self;
}

- (jbyte)readByte {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) get];
  }
  @catch (JavaNioBufferUnderflowException *e) {
    do {
      curBufIndex_++;
      if (curBufIndex_ >= ((IOSObjectArray *) nil_chk(buffers_))->size_) {
        @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"read past EOF: ", self));
      }
      JreStrongAssign(&curBuf_, IOSObjectArray_Get(buffers_, curBufIndex_));
      [((JavaNioByteBuffer *) nil_chk(curBuf_)) positionWithInt:0];
    }
    while (![((JavaNioByteBuffer *) nil_chk(curBuf_)) hasRemaining]);
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) get];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (void)readBytesWithByteArray:(IOSByteArray *)b
                       withInt:(jint)offset
                       withInt:(jint)len {
  @try {
    [((JavaNioByteBuffer *) nil_chk(curBuf_)) getWithByteArray:b withInt:offset withInt:len];
  }
  @catch (JavaNioBufferUnderflowException *e) {
    jint curAvail = [((JavaNioByteBuffer *) nil_chk(curBuf_)) remaining];
    while (len > curAvail) {
      [((JavaNioByteBuffer *) nil_chk(curBuf_)) getWithByteArray:b withInt:offset withInt:curAvail];
      len -= curAvail;
      offset += curAvail;
      curBufIndex_++;
      if (curBufIndex_ >= ((IOSObjectArray *) nil_chk(buffers_))->size_) {
        @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"read past EOF: ", self));
      }
      JreStrongAssign(&curBuf_, IOSObjectArray_Get(buffers_, curBufIndex_));
      [((JavaNioByteBuffer *) nil_chk(curBuf_)) positionWithInt:0];
      curAvail = [((JavaNioByteBuffer *) nil_chk(curBuf_)) remaining];
    }
    [((JavaNioByteBuffer *) nil_chk(curBuf_)) getWithByteArray:b withInt:offset withInt:len];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jshort)readShort {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getShort];
  }
  @catch (JavaNioBufferUnderflowException *e) {
    return [super readShort];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jint)readInt {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getInt];
  }
  @catch (JavaNioBufferUnderflowException *e) {
    return [super readInt];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jlong)readLong {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getLong];
  }
  @catch (JavaNioBufferUnderflowException *e) {
    return [super readLong];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jlong)getFilePointer {
  return OrgApacheLuceneStoreByteBufferIndexInput_getFilePointer(self);
}

- (void)seekWithLong:(jlong)pos {
  OrgApacheLuceneStoreByteBufferIndexInput_seekWithLong_(self, pos);
}

- (jbyte)readByteWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readByteWithLong_(self, pos);
}

- (void)setPosWithLong:(jlong)pos
               withInt:(jint)bi {
  OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(self, pos, bi);
}

- (jshort)readShortWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readShortWithLong_(self, pos);
}

- (jint)readIntWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readIntWithLong_(self, pos);
}

- (jlong)readLongWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readLongWithLong_(self, pos);
}

- (jlong)length {
  return length_;
}

- (OrgApacheLuceneStoreByteBufferIndexInput *)java_clone {
  OrgApacheLuceneStoreByteBufferIndexInput *clone = [self buildSliceWithNSString:nil withLong:0LL withLong:self->length_];
  @try {
    [((OrgApacheLuceneStoreByteBufferIndexInput *) nil_chk(clone)) seekWithLong:[self getFilePointer]];
  }
  @catch (JavaIoIOException *ioe) {
    @throw create_JavaLangAssertionError_initWithId_(ioe);
  }
  return clone;
}

- (OrgApacheLuceneStoreByteBufferIndexInput *)sliceWithNSString:(NSString *)sliceDescription
                                                       withLong:(jlong)offset
                                                       withLong:(jlong)length {
  if (offset < 0 || length < 0 || offset + length > self->length_) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(JreStrcat("$$$J$J$J$@", @"slice() ", sliceDescription, @" out of bounds: offset=", offset, @",length=", length, @",fileLength=", self->length_, @": ", self));
  }
  return [self buildSliceWithNSString:sliceDescription withLong:offset withLong:length];
}

- (OrgApacheLuceneStoreByteBufferIndexInput *)buildSliceWithNSString:(NSString *)sliceDescription
                                                            withLong:(jlong)offset
                                                            withLong:(jlong)length {
  return OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithNSString_withLong_withLong_(self, sliceDescription, offset, length);
}

- (OrgApacheLuceneStoreByteBufferIndexInput *)newCloneInstanceWithNSString:(NSString *)newResourceDescription
                                                withJavaNioByteBufferArray:(IOSObjectArray *)newBuffers
                                                                   withInt:(jint)offset
                                                                  withLong:(jlong)length {
  if (((IOSObjectArray *) nil_chk(newBuffers))->size_ == 1) {
    [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(newBuffers, 0))) positionWithInt:offset];
    return create_OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(newResourceDescription, [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(newBuffers, 0))) slice], length, chunkSizePower_, self->cleaner_, self->clones_);
  }
  else {
    return create_OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(newResourceDescription, newBuffers, offset, length, chunkSizePower_, cleaner_, clones_);
  }
}

- (IOSObjectArray *)buildSliceWithJavaNioByteBufferArray:(IOSObjectArray *)buffers
                                                withLong:(jlong)offset
                                                withLong:(jlong)length {
  return OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithJavaNioByteBufferArray_withLong_withLong_(self, buffers, offset, length);
}

- (void)close {
  @try {
    if (buffers_ == nil) return;
    IOSObjectArray *bufs = buffers_;
    OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(self);
    if (clones_ != nil) {
      [clones_ removeWithId:self];
    }
    if (isClone_) return;
    if (clones_ != nil) {
      for (id<JavaUtilIterator> it = JreRetainedLocalValue([self->clones_ keyIterator]); [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
        OrgApacheLuceneStoreByteBufferIndexInput *clone = [it next];
        JreAssert(((OrgApacheLuceneStoreByteBufferIndexInput *) nil_chk(clone))->isClone_, @"org/apache/lucene/store/ByteBufferIndexInput.java:348 condition failed: assert clone.isClone;");
        OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(clone);
      }
      [self->clones_ clear];
    }
    {
      IOSObjectArray *a__ = bufs;
      JavaNioByteBuffer * const *b__ = a__->buffer_;
      JavaNioByteBuffer * const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        JavaNioByteBuffer *b = *b__++;
        OrgApacheLuceneStoreByteBufferIndexInput_freeBufferWithJavaNioByteBuffer_(self, b);
      }
    }
  }
  @finally {
    OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(self);
  }
}

- (void)unsetBuffers {
  OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(self);
}

- (void)freeBufferWithJavaNioByteBuffer:(JavaNioByteBuffer *)b {
  OrgApacheLuceneStoreByteBufferIndexInput_freeBufferWithJavaNioByteBuffer_(self, b);
}

- (void)dealloc {
  RELEASE_(cleaner_);
  RELEASE_(buffers_);
  RELEASE_(curBuf_);
  RELEASE_(clones_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x9, 0, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, 2, -1, 3, -1, -1 },
    { NULL, "B", 0x11, -1, -1, 4, -1, -1, -1 },
    { NULL, "V", 0x11, 5, 6, 4, -1, -1, -1 },
    { NULL, "S", 0x11, -1, -1, 4, -1, -1, -1 },
    { NULL, "I", 0x11, -1, -1, 4, -1, -1, -1 },
    { NULL, "J", 0x11, -1, -1, 4, -1, -1, -1 },
    { NULL, "J", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 7, 8, 4, -1, -1, -1 },
    { NULL, "B", 0x1, 9, 8, 4, -1, -1, -1 },
    { NULL, "V", 0x2, 10, 11, 4, -1, -1, -1 },
    { NULL, "S", 0x1, 12, 8, 4, -1, -1, -1 },
    { NULL, "I", 0x1, 13, 8, 4, -1, -1, -1 },
    { NULL, "J", 0x1, 14, 8, 4, -1, -1, -1 },
    { NULL, "J", 0x11, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x11, 15, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x11, 16, 17, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x4, 18, 17, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x4, 19, 20, -1, -1, -1, -1 },
    { NULL, "[LJavaNioByteBuffer;", 0x2, 18, 21, -1, -1, -1, -1 },
    { NULL, "V", 0x11, -1, -1, 4, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 22, 23, 4, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(newInstanceWithNSString:withJavaNioByteBufferArray:withLong:withInt:withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:withBoolean:);
  methods[1].selector = @selector(initPackagePrivateWithNSString:withJavaNioByteBufferArray:withLong:withInt:withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:withOrgApacheLuceneUtilWeakIdentityMap:);
  methods[2].selector = @selector(readByte);
  methods[3].selector = @selector(readBytesWithByteArray:withInt:withInt:);
  methods[4].selector = @selector(readShort);
  methods[5].selector = @selector(readInt);
  methods[6].selector = @selector(readLong);
  methods[7].selector = @selector(getFilePointer);
  methods[8].selector = @selector(seekWithLong:);
  methods[9].selector = @selector(readByteWithLong:);
  methods[10].selector = @selector(setPosWithLong:withInt:);
  methods[11].selector = @selector(readShortWithLong:);
  methods[12].selector = @selector(readIntWithLong:);
  methods[13].selector = @selector(readLongWithLong:);
  methods[14].selector = @selector(length);
  methods[15].selector = @selector(java_clone);
  methods[16].selector = @selector(sliceWithNSString:withLong:withLong:);
  methods[17].selector = @selector(buildSliceWithNSString:withLong:withLong:);
  methods[18].selector = @selector(newCloneInstanceWithNSString:withJavaNioByteBufferArray:withInt:withLong:);
  methods[19].selector = @selector(buildSliceWithJavaNioByteBufferArray:withLong:withLong:);
  methods[20].selector = @selector(close);
  methods[21].selector = @selector(unsetBuffers);
  methods[22].selector = @selector(freeBufferWithJavaNioByteBuffer:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "cleaner_", "LOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "length_", "J", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "chunkSizeMask_", "J", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "chunkSizePower_", "I", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "buffers_", "[LJavaNioByteBuffer;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "curBufIndex_", "I", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "curBuf_", "LJavaNioByteBuffer;", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "isClone_", "Z", .constantValue.asLong = 0, 0x4, -1, -1, -1, -1 },
    { "clones_", "LOrgApacheLuceneUtilWeakIdentityMap;", .constantValue.asLong = 0, 0x14, -1, -1, 24, -1 },
  };
  static const void *ptrTable[] = { "newInstance", "LNSString;[LJavaNioByteBuffer;JILOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;Z", "LNSString;[LJavaNioByteBuffer;JILOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;LOrgApacheLuceneUtilWeakIdentityMap;", "(Ljava/lang/String;[Ljava/nio/ByteBuffer;JILorg/apache/lucene/store/ByteBufferIndexInput$BufferCleaner;Lorg/apache/lucene/util/WeakIdentityMap<Lorg/apache/lucene/store/ByteBufferIndexInput;Ljava/lang/Boolean;>;)V", "LJavaIoIOException;", "readBytes", "[BII", "seek", "J", "readByte", "setPos", "JI", "readShort", "readInt", "readLong", "clone", "slice", "LNSString;JJ", "buildSlice", "newCloneInstance", "LNSString;[LJavaNioByteBuffer;IJ", "[LJavaNioByteBuffer;JJ", "freeBuffer", "LJavaNioByteBuffer;", "Lorg/apache/lucene/util/WeakIdentityMap<Lorg/apache/lucene/store/ByteBufferIndexInput;Ljava/lang/Boolean;>;", "LOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;LOrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl;LOrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl;" };
  static const J2ObjcClassInfo _OrgApacheLuceneStoreByteBufferIndexInput = { "ByteBufferIndexInput", "org.apache.lucene.store", ptrTable, methods, fields, 7, 0x400, 23, 9, -1, 25, -1, -1, -1 };
  return &_OrgApacheLuceneStoreByteBufferIndexInput;
}

@end

OrgApacheLuceneStoreByteBufferIndexInput *OrgApacheLuceneStoreByteBufferIndexInput_newInstanceWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withBoolean_(NSString *resourceDescription, IOSObjectArray *buffers, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, jboolean trackClones) {
  OrgApacheLuceneStoreByteBufferIndexInput_initialize();
  OrgApacheLuceneUtilWeakIdentityMap *clones = trackClones ? OrgApacheLuceneUtilWeakIdentityMap_newConcurrentHashMap() : nil;
  if (((IOSObjectArray *) nil_chk(buffers))->size_ == 1) {
    return create_OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(resourceDescription, IOSObjectArray_Get(buffers, 0), length, chunkSizePower, cleaner, clones);
  }
  else {
    return create_OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(resourceDescription, buffers, 0, length, chunkSizePower, cleaner, clones);
  }
}

void OrgApacheLuceneStoreByteBufferIndexInput_initPackagePrivateWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(OrgApacheLuceneStoreByteBufferIndexInput *self, NSString *resourceDescription, IOSObjectArray *buffers, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  OrgApacheLuceneStoreIndexInput_initWithNSString_(self, resourceDescription);
  self->curBufIndex_ = -1;
  self->isClone_ = false;
  JreStrongAssign(&self->buffers_, buffers);
  self->length_ = length;
  self->chunkSizePower_ = chunkSizePower;
  self->chunkSizeMask_ = (JreLShift64(1LL, chunkSizePower)) - 1LL;
  JreStrongAssign(&self->clones_, clones);
  JreStrongAssign(&self->cleaner_, cleaner);
  JreAssert(chunkSizePower >= 0 && chunkSizePower <= 30, @"org/apache/lucene/store/ByteBufferIndexInput.java:69 condition failed: assert chunkSizePower >= 0 && chunkSizePower <= 30;");
  JreAssert((JreURShift64(length, chunkSizePower)) < JavaLangInteger_MAX_VALUE, @"org/apache/lucene/store/ByteBufferIndexInput.java:70 condition failed: assert (length >>> chunkSizePower) < Integer.MAX_VALUE;");
}

jlong OrgApacheLuceneStoreByteBufferIndexInput_getFilePointer(OrgApacheLuceneStoreByteBufferIndexInput *self) {
  @try {
    return (JreLShift64(((jlong) self->curBufIndex_), self->chunkSizePower_)) + [((JavaNioByteBuffer *) nil_chk(self->curBuf_)) position];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

void OrgApacheLuceneStoreByteBufferIndexInput_seekWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos) {
  jint bi = (jint) (JreRShift64(pos, self->chunkSizePower_));
  @try {
    if (bi == self->curBufIndex_) {
      [((JavaNioByteBuffer *) nil_chk(self->curBuf_)) positionWithInt:(jint) (pos & self->chunkSizeMask_)];
    }
    else {
      JavaNioByteBuffer *b = IOSObjectArray_Get(nil_chk(self->buffers_), bi);
      [((JavaNioByteBuffer *) nil_chk(b)) positionWithInt:(jint) (pos & self->chunkSizeMask_)];
      self->curBufIndex_ = bi;
      JreStrongAssign(&self->curBuf_, b);
    }
  }
  @catch (JavaLangArrayIndexOutOfBoundsException *e) {
    @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
  }
  @catch (JavaLangIllegalArgumentException *e) {
    @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

jbyte OrgApacheLuceneStoreByteBufferIndexInput_readByteWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos) {
  @try {
    jint bi = (jint) (JreRShift64(pos, self->chunkSizePower_));
    return [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(nil_chk(self->buffers_), bi))) getWithInt:(jint) (pos & self->chunkSizeMask_)];
  }
  @catch (JavaLangIndexOutOfBoundsException *ioobe) {
    @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

void OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos, jint bi) {
  @try {
    JavaNioByteBuffer *b = IOSObjectArray_Get(nil_chk(self->buffers_), bi);
    [((JavaNioByteBuffer *) nil_chk(b)) positionWithInt:(jint) (pos & self->chunkSizeMask_)];
    self->curBufIndex_ = bi;
    JreStrongAssign(&self->curBuf_, b);
  }
  @catch (JavaLangArrayIndexOutOfBoundsException *aioobe) {
    @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
  }
  @catch (JavaLangIllegalArgumentException *aioobe) {
    @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

jshort OrgApacheLuceneStoreByteBufferIndexInput_readShortWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos) {
  jint bi = (jint) (JreRShift64(pos, self->chunkSizePower_));
  @try {
    return [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(nil_chk(self->buffers_), bi))) getShortWithInt:(jint) (pos & self->chunkSizeMask_)];
  }
  @catch (JavaLangIndexOutOfBoundsException *ioobe) {
    OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(self, pos, bi);
    return [self readShort];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

jint OrgApacheLuceneStoreByteBufferIndexInput_readIntWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos) {
  jint bi = (jint) (JreRShift64(pos, self->chunkSizePower_));
  @try {
    return [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(nil_chk(self->buffers_), bi))) getIntWithInt:(jint) (pos & self->chunkSizeMask_)];
  }
  @catch (JavaLangIndexOutOfBoundsException *ioobe) {
    OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(self, pos, bi);
    return [self readInt];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

jlong OrgApacheLuceneStoreByteBufferIndexInput_readLongWithLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, jlong pos) {
  jint bi = (jint) (JreRShift64(pos, self->chunkSizePower_));
  @try {
    return [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(nil_chk(self->buffers_), bi))) getLongWithInt:(jint) (pos & self->chunkSizeMask_)];
  }
  @catch (JavaLangIndexOutOfBoundsException *ioobe) {
    OrgApacheLuceneStoreByteBufferIndexInput_setPosWithLong_withInt_(self, pos, bi);
    return [self readLong];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

OrgApacheLuceneStoreByteBufferIndexInput *OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithNSString_withLong_withLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, NSString *sliceDescription, jlong offset, jlong length) {
  if (self->buffers_ == nil) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
  IOSObjectArray *newBuffers = OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithJavaNioByteBufferArray_withLong_withLong_(self, self->buffers_, offset, length);
  jint ofs = (jint) (offset & self->chunkSizeMask_);
  OrgApacheLuceneStoreByteBufferIndexInput *clone = [self newCloneInstanceWithNSString:[self getFullSliceDescriptionWithNSString:sliceDescription] withJavaNioByteBufferArray:newBuffers withInt:ofs withLong:length];
  ((OrgApacheLuceneStoreByteBufferIndexInput *) nil_chk(clone))->isClone_ = true;
  if (self->clones_ != nil) {
    [self->clones_ putWithId:clone withId:JreLoadStatic(JavaLangBoolean, TRUE)];
  }
  return clone;
}

IOSObjectArray *OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithJavaNioByteBufferArray_withLong_withLong_(OrgApacheLuceneStoreByteBufferIndexInput *self, IOSObjectArray *buffers, jlong offset, jlong length) {
  jlong sliceEnd = offset + length;
  jint startIndex = (jint) (JreURShift64(offset, self->chunkSizePower_));
  jint endIndex = (jint) (JreURShift64(sliceEnd, self->chunkSizePower_));
  IOSObjectArray *slices = [IOSObjectArray arrayWithLength:endIndex - startIndex + 1 type:JavaNioByteBuffer_class_()];
  for (jint i = 0; i < slices->size_; i++) {
    IOSObjectArray_Set(slices, i, [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(nil_chk(buffers), startIndex + i))) duplicate]);
  }
  [((JavaNioByteBuffer *) nil_chk(IOSObjectArray_Get(slices, slices->size_ - 1))) limitWithInt:(jint) (sliceEnd & self->chunkSizeMask_)];
  return slices;
}

void OrgApacheLuceneStoreByteBufferIndexInput_unsetBuffers(OrgApacheLuceneStoreByteBufferIndexInput *self) {
  JreStrongAssign(&self->buffers_, nil);
  JreStrongAssign(&self->curBuf_, nil);
  self->curBufIndex_ = 0;
}

void OrgApacheLuceneStoreByteBufferIndexInput_freeBufferWithJavaNioByteBuffer_(OrgApacheLuceneStoreByteBufferIndexInput *self, JavaNioByteBuffer *b) {
  if (self->cleaner_ != nil) {
    [self->cleaner_ freeBufferWithOrgApacheLuceneStoreByteBufferIndexInput:self withJavaNioByteBuffer:b];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneStoreByteBufferIndexInput)

@implementation OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "V", 0x401, 0, 1, 2, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(freeBufferWithOrgApacheLuceneStoreByteBufferIndexInput:withJavaNioByteBuffer:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "freeBuffer", "LOrgApacheLuceneStoreByteBufferIndexInput;LJavaNioByteBuffer;", "LJavaIoIOException;", "LOrgApacheLuceneStoreByteBufferIndexInput;" };
  static const J2ObjcClassInfo _OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner = { "BufferCleaner", "org.apache.lucene.store", ptrTable, methods, NULL, 7, 0x608, 1, 0, 3, -1, -1, -1, -1 };
  return &_OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner)

@implementation OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl

- (instancetype)initWithNSString:(NSString *)resourceDescription
           withJavaNioByteBuffer:(JavaNioByteBuffer *)buffer
                        withLong:(jlong)length
                         withInt:(jint)chunkSizePower
withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:(id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner>)cleaner
withOrgApacheLuceneUtilWeakIdentityMap:(OrgApacheLuceneUtilWeakIdentityMap *)clones {
  OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(self, resourceDescription, buffer, length, chunkSizePower, cleaner, clones);
  return self;
}

- (void)seekWithLong:(jlong)pos {
  @try {
    [((JavaNioByteBuffer *) nil_chk(curBuf_)) positionWithInt:(jint) pos];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (pos < 0) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Seeking to negative position: ", self), e);
    }
    else {
      @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
    }
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jlong)getFilePointer {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) position];
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jbyte)readByteWithLong:(jlong)pos {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getWithInt:(jint) pos];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (pos < 0) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Seeking to negative position: ", self), e);
    }
    else {
      @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
    }
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jshort)readShortWithLong:(jlong)pos {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getShortWithInt:(jint) pos];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (pos < 0) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Seeking to negative position: ", self), e);
    }
    else {
      @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
    }
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jint)readIntWithLong:(jlong)pos {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getIntWithInt:(jint) pos];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (pos < 0) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Seeking to negative position: ", self), e);
    }
    else {
      @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
    }
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

- (jlong)readLongWithLong:(jlong)pos {
  @try {
    return [((JavaNioByteBuffer *) nil_chk(curBuf_)) getLongWithInt:(jint) pos];
  }
  @catch (JavaLangIllegalArgumentException *e) {
    if (pos < 0) {
      @throw create_JavaLangIllegalArgumentException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@", @"Seeking to negative position: ", self), e);
    }
    else {
      @throw create_JavaIoEOFException_initWithNSString_(JreStrcat("$@", @"seek past EOF: ", self));
    }
  }
  @catch (JavaLangNullPointerException *npe) {
    @throw create_OrgApacheLuceneStoreAlreadyClosedException_initWithNSString_(JreStrcat("$@", @"Already closed: ", self));
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, 1, -1, -1 },
    { NULL, "V", 0x1, 2, 3, 4, -1, -1, -1 },
    { NULL, "J", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "B", 0x1, 5, 3, 4, -1, -1, -1 },
    { NULL, "S", 0x1, 6, 3, 4, -1, -1, -1 },
    { NULL, "I", 0x1, 7, 3, 4, -1, -1, -1 },
    { NULL, "J", 0x1, 8, 3, 4, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithNSString:withJavaNioByteBuffer:withLong:withInt:withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:withOrgApacheLuceneUtilWeakIdentityMap:);
  methods[1].selector = @selector(seekWithLong:);
  methods[2].selector = @selector(getFilePointer);
  methods[3].selector = @selector(readByteWithLong:);
  methods[4].selector = @selector(readShortWithLong:);
  methods[5].selector = @selector(readIntWithLong:);
  methods[6].selector = @selector(readLongWithLong:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LNSString;LJavaNioByteBuffer;JILOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;LOrgApacheLuceneUtilWeakIdentityMap;", "(Ljava/lang/String;Ljava/nio/ByteBuffer;JILorg/apache/lucene/store/ByteBufferIndexInput$BufferCleaner;Lorg/apache/lucene/util/WeakIdentityMap<Lorg/apache/lucene/store/ByteBufferIndexInput;Ljava/lang/Boolean;>;)V", "seek", "J", "LJavaIoIOException;", "readByte", "readShort", "readInt", "readLong", "LOrgApacheLuceneStoreByteBufferIndexInput;" };
  static const J2ObjcClassInfo _OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl = { "SingleBufferImpl", "org.apache.lucene.store", ptrTable, methods, NULL, 7, 0x18, 7, 0, 9, -1, -1, -1, -1 };
  return &_OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl;
}

@end

void OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl *self, NSString *resourceDescription, JavaNioByteBuffer *buffer, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  OrgApacheLuceneStoreByteBufferIndexInput_initPackagePrivateWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(self, resourceDescription, [IOSObjectArray arrayWithObjects:(id[]){ buffer } count:1 type:JavaNioByteBuffer_class_()], length, chunkSizePower, cleaner, clones);
  self->curBufIndex_ = 0;
  JreStrongAssign(&self->curBuf_, buffer);
  [((JavaNioByteBuffer *) nil_chk(buffer)) positionWithInt:0];
}

OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl *new_OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(NSString *resourceDescription, JavaNioByteBuffer *buffer, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl, initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_, resourceDescription, buffer, length, chunkSizePower, cleaner, clones)
}

OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl *create_OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl_initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(NSString *resourceDescription, JavaNioByteBuffer *buffer, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl, initWithNSString_withJavaNioByteBuffer_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_, resourceDescription, buffer, length, chunkSizePower, cleaner, clones)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneStoreByteBufferIndexInput_SingleBufferImpl)

@implementation OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl

- (instancetype)initWithNSString:(NSString *)resourceDescription
      withJavaNioByteBufferArray:(IOSObjectArray *)buffers
                         withInt:(jint)offset
                        withLong:(jlong)length
                         withInt:(jint)chunkSizePower
withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:(id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner>)cleaner
withOrgApacheLuceneUtilWeakIdentityMap:(OrgApacheLuceneUtilWeakIdentityMap *)clones {
  OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(self, resourceDescription, buffers, offset, length, chunkSizePower, cleaner, clones);
  return self;
}

- (void)seekWithLong:(jlong)pos {
  JreAssert(pos >= 0LL, @"org/apache/lucene/store/ByteBufferIndexInput.java:503 condition failed: assert pos >= 0L;");
  OrgApacheLuceneStoreByteBufferIndexInput_seekWithLong_(self, pos + offset_);
}

- (jlong)getFilePointer {
  return OrgApacheLuceneStoreByteBufferIndexInput_getFilePointer(self) - offset_;
}

- (jbyte)readByteWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readByteWithLong_(self, pos + offset_);
}

- (jshort)readShortWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readShortWithLong_(self, pos + offset_);
}

- (jint)readIntWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readIntWithLong_(self, pos + offset_);
}

- (jlong)readLongWithLong:(jlong)pos {
  return OrgApacheLuceneStoreByteBufferIndexInput_readLongWithLong_(self, pos + offset_);
}

- (OrgApacheLuceneStoreByteBufferIndexInput *)buildSliceWithNSString:(NSString *)sliceDescription
                                                            withLong:(jlong)ofs
                                                            withLong:(jlong)length {
  return OrgApacheLuceneStoreByteBufferIndexInput_buildSliceWithNSString_withLong_withLong_(self, sliceDescription, self->offset_ + ofs, length);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, 1, -1, -1 },
    { NULL, "V", 0x1, 2, 3, 4, -1, -1, -1 },
    { NULL, "J", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "B", 0x1, 5, 3, 4, -1, -1, -1 },
    { NULL, "S", 0x1, 6, 3, 4, -1, -1, -1 },
    { NULL, "I", 0x1, 7, 3, 4, -1, -1, -1 },
    { NULL, "J", 0x1, 8, 3, 4, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneStoreByteBufferIndexInput;", 0x4, 9, 10, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithNSString:withJavaNioByteBufferArray:withInt:withLong:withInt:withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner:withOrgApacheLuceneUtilWeakIdentityMap:);
  methods[1].selector = @selector(seekWithLong:);
  methods[2].selector = @selector(getFilePointer);
  methods[3].selector = @selector(readByteWithLong:);
  methods[4].selector = @selector(readShortWithLong:);
  methods[5].selector = @selector(readIntWithLong:);
  methods[6].selector = @selector(readLongWithLong:);
  methods[7].selector = @selector(buildSliceWithNSString:withLong:withLong:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "offset_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LNSString;[LJavaNioByteBuffer;IJILOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner;LOrgApacheLuceneUtilWeakIdentityMap;", "(Ljava/lang/String;[Ljava/nio/ByteBuffer;IJILorg/apache/lucene/store/ByteBufferIndexInput$BufferCleaner;Lorg/apache/lucene/util/WeakIdentityMap<Lorg/apache/lucene/store/ByteBufferIndexInput;Ljava/lang/Boolean;>;)V", "seek", "J", "LJavaIoIOException;", "readByte", "readShort", "readInt", "readLong", "buildSlice", "LNSString;JJ", "LOrgApacheLuceneStoreByteBufferIndexInput;" };
  static const J2ObjcClassInfo _OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl = { "MultiBufferImpl", "org.apache.lucene.store", ptrTable, methods, fields, 7, 0x18, 8, 1, 11, -1, -1, -1, -1 };
  return &_OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl;
}

@end

void OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl *self, NSString *resourceDescription, IOSObjectArray *buffers, jint offset, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  OrgApacheLuceneStoreByteBufferIndexInput_initPackagePrivateWithNSString_withJavaNioByteBufferArray_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(self, resourceDescription, buffers, length, chunkSizePower, cleaner, clones);
  self->offset_ = offset;
  @try {
    [self seekWithLong:0LL];
  }
  @catch (JavaIoIOException *ioe) {
    @throw create_JavaLangAssertionError_initWithId_(ioe);
  }
}

OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl *new_OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(NSString *resourceDescription, IOSObjectArray *buffers, jint offset, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl, initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_, resourceDescription, buffers, offset, length, chunkSizePower, cleaner, clones)
}

OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl *create_OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl_initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_(NSString *resourceDescription, IOSObjectArray *buffers, jint offset, jlong length, jint chunkSizePower, id<OrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner> cleaner, OrgApacheLuceneUtilWeakIdentityMap *clones) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl, initWithNSString_withJavaNioByteBufferArray_withInt_withLong_withInt_withOrgApacheLuceneStoreByteBufferIndexInput_BufferCleaner_withOrgApacheLuceneUtilWeakIdentityMap_, resourceDescription, buffers, offset, length, chunkSizePower, cleaner, clones)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneStoreByteBufferIndexInput_MultiBufferImpl)
