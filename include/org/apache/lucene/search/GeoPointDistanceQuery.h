//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./sandbox/src/java/org/apache/lucene/search/GeoPointDistanceQuery.java
//

#include "J2ObjC_header.h"

#pragma push_macro("INCLUDE_ALL_OrgApacheLuceneSearchGeoPointDistanceQuery")
#ifdef RESTRICT_OrgApacheLuceneSearchGeoPointDistanceQuery
#define INCLUDE_ALL_OrgApacheLuceneSearchGeoPointDistanceQuery 0
#else
#define INCLUDE_ALL_OrgApacheLuceneSearchGeoPointDistanceQuery 1
#endif
#undef RESTRICT_OrgApacheLuceneSearchGeoPointDistanceQuery

#if !defined (OrgApacheLuceneSearchGeoPointDistanceQuery_) && (INCLUDE_ALL_OrgApacheLuceneSearchGeoPointDistanceQuery || defined(INCLUDE_OrgApacheLuceneSearchGeoPointDistanceQuery))
#define OrgApacheLuceneSearchGeoPointDistanceQuery_

#define RESTRICT_OrgApacheLuceneSearchGeoPointInBBoxQuery 1
#define INCLUDE_OrgApacheLuceneSearchGeoPointInBBoxQuery 1
#include "org/apache/lucene/search/GeoPointInBBoxQuery.h"

@class OrgApacheLuceneIndexIndexReader;
@class OrgApacheLuceneSearchGeoBoundingBox;
@class OrgApacheLuceneSearchQuery;

/*!
 @brief Implements a simple point distance query on a GeoPoint field.
 This is based on
 <code>org.apache.lucene.search.GeoPointInBBoxQuery</code> and is implemented using a two phase approach. First,
 like <code>GeoPointInBBoxQueryImpl</code> candidate terms are queried using the numeric ranges based on
 the morton codes of the min and max lat/lon pairs that intersect the boundary of the point-radius
 circle (see <code>org.apache.lucene.util.GeoUtils.lineCrossesSphere</code>. Terms
 passing this initial filter are then passed to a secondary <code>postFilter</code> method that verifies whether the
 decoded lat/lon point fall within the specified query distance (see <code>org.apache.lucene.util.SloppyMath.haversin</code>.
 All morton value comparisons are subject to the same precision tolerance defined in
 org.apache.lucene.util.GeoUtils#TOLERANCE and distance comparisons are subject to the accuracy of the
 haversine formula (from R.W. Sinnott, "Virtues of the Haversine", Sky and Telescope, vol. 68, no. 2, 1984, p. 159)
 Note: This query currently uses haversine which is a sloppy distance calculation (see above reference). For large
 queries one can expect upwards of 400m error. Vincenty shrinks this to ~40m error but pays a penalty for computing
 using the spheroid
 */
@interface OrgApacheLuceneSearchGeoPointDistanceQuery : OrgApacheLuceneSearchGeoPointInBBoxQuery {
 @public
  jdouble centerLon_;
  jdouble centerLat_;
  jdouble radius_;
}

#pragma mark Public

/*!
 @brief NOTE: radius is in meters.
 */
- (instancetype)initWithNSString:(NSString *)field
                      withDouble:(jdouble)centerLon
                      withDouble:(jdouble)centerLat
                      withDouble:(jdouble)radius;

- (jboolean)isEqual:(id)o;

- (jdouble)getCenterLat;

- (jdouble)getCenterLon;

- (jdouble)getRadius;

- (NSUInteger)hash;

- (OrgApacheLuceneSearchQuery *)rewriteWithOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)reader;

- (NSString *)toStringWithNSString:(NSString *)field;

#pragma mark Package-Private

+ (OrgApacheLuceneSearchGeoBoundingBox *)computeBBoxWithDouble:(jdouble)centerLon
                                                    withDouble:(jdouble)centerLat
                                                    withDouble:(jdouble)radius;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchGeoPointDistanceQuery)

FOUNDATION_EXPORT void OrgApacheLuceneSearchGeoPointDistanceQuery_initWithNSString_withDouble_withDouble_withDouble_(OrgApacheLuceneSearchGeoPointDistanceQuery *self, NSString *field, jdouble centerLon, jdouble centerLat, jdouble radius);

FOUNDATION_EXPORT OrgApacheLuceneSearchGeoPointDistanceQuery *new_OrgApacheLuceneSearchGeoPointDistanceQuery_initWithNSString_withDouble_withDouble_withDouble_(NSString *field, jdouble centerLon, jdouble centerLat, jdouble radius) NS_RETURNS_RETAINED;

FOUNDATION_EXPORT OrgApacheLuceneSearchGeoPointDistanceQuery *create_OrgApacheLuceneSearchGeoPointDistanceQuery_initWithNSString_withDouble_withDouble_withDouble_(NSString *field, jdouble centerLon, jdouble centerLat, jdouble radius);

FOUNDATION_EXPORT OrgApacheLuceneSearchGeoBoundingBox *OrgApacheLuceneSearchGeoPointDistanceQuery_computeBBoxWithDouble_withDouble_withDouble_(jdouble centerLon, jdouble centerLat, jdouble radius);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchGeoPointDistanceQuery)

#endif

#pragma pop_macro("INCLUDE_ALL_OrgApacheLuceneSearchGeoPointDistanceQuery")
